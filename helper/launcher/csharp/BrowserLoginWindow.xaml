<Window x:Class="ShippingManagerCoPilot.Launcher.BrowserLoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
        Title="ShippingManager Login"
        Width="1024" Height="768"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource BackgroundBrush}"
        Icon="icon.ico">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0"
                Background="{StaticResource CardBackgroundBrush}"
                Padding="15,10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" VerticalAlignment="Center">
                    <TextBlock x:Name="StatusText"
                               Text="Please login to Shipping Manager..."
                               FontSize="14"
                               Foreground="{StaticResource TextBrush}"/>
                </StackPanel>

                <TextBlock Grid.Column="1"
                           x:Name="CountdownText"
                           Text="5:00"
                           FontSize="14"
                           FontWeight="Bold"
                           Foreground="{StaticResource WarningBrush}"
                           VerticalAlignment="Center"/>
            </Grid>
        </Border>

        <!-- WebView2 Browser -->
        <wv2:WebView2 x:Name="BrowserView"
                      Grid.Row="1"/>

        <!-- Footer -->
        <Border Grid.Row="2"
                Background="{StaticResource CardBackgroundBrush}"
                Padding="15,10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0"
                           Text="Login with Steam or your game account. The window will close automatically when login is detected."
                           FontSize="12"
                           Foreground="{StaticResource TextMutedBrush}"
                           VerticalAlignment="Center"
                           TextWrapping="Wrap"/>

                <Button Grid.Column="1"
                        Content="Cancel"
                        Style="{StaticResource SecondaryButton}"
                        Click="Cancel_Click"/>
            </Grid>
        </Border>
    </Grid>
</Window>
