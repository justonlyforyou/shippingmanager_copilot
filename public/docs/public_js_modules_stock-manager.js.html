<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>public/js/modules/stock-manager.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* Dark theme matching app style - carefully scoped to not break layout */
        html, body {
            background-color: #1a1a1a !important;
            color: #e0e0e0 !important;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif !important;
            overflow-x: hidden !important;
            margin: 0 !important;
            padding: 0 !important;
        }

        /* Ultra-thin scrollbar with gradient - all webkit browsers */
        ::-webkit-scrollbar {
            width: 5px;
            height: 5px;
            background: #1a1a1a;
        }

        ::-webkit-scrollbar-track {
            background: #1a1a1a;
            border-radius: 2px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #60a5fa 0%, #a78bfa 100%);
            border-radius: 2px;
            border: 1px solid #1a1a1a;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, #93c5fd 0%, #c4b5fd 100%);
        }

        ::-webkit-scrollbar-corner {
            background: #1a1a1a;
        }

        ::-webkit-scrollbar-button {
            display: none;
            width: 0;
            height: 0;
        }

        /* Specific elements scrollbars */
        body::-webkit-scrollbar,
        nav::-webkit-scrollbar,
        #main::-webkit-scrollbar,
        .container-overview::-webkit-scrollbar,
        pre::-webkit-scrollbar {
            width: 5px;
            height: 5px;
            background: #1a1a1a;
        }

        body::-webkit-scrollbar-thumb,
        nav::-webkit-scrollbar-thumb,
        #main::-webkit-scrollbar-thumb,
        .container-overview::-webkit-scrollbar-thumb,
        pre::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #60a5fa 0%, #a78bfa 100%);
            border-radius: 2px;
            border: 1px solid #1a1a1a;
        }

        body::-webkit-scrollbar-thumb:hover,
        nav::-webkit-scrollbar-thumb:hover,
        #main::-webkit-scrollbar-thumb:hover,
        .container-overview::-webkit-scrollbar-thumb:hover,
        pre::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, #93c5fd 0%, #c4b5fd 100%);
        }

        /* Navigation sidebar - remove padding and white borders */
        nav {
            background-color: #242424 !important;
            border-right: 1px solid #404040 !important;
            padding: 0 !important;
            margin: 0 !important;
            overflow-x: hidden !important;
        }

        /* Nav scrollbar - explicit override */
        nav::-webkit-scrollbar {
            width: 5px !important;
            height: 5px !important;
            background: #242424 !important;
        }

        nav::-webkit-scrollbar-track {
            background: #242424 !important;
        }

        nav::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #60a5fa 0%, #a78bfa 100%) !important;
            border-radius: 2px !important;
        }

        nav::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, #93c5fd 0%, #c4b5fd 100%) !important;
        }

        nav h2, nav h3 {
            color: #e0e0e0 !important;
            border-bottom: 1px solid #404040 !important;
            padding: 10px 15px !important;
            margin: 0 !important;
            background-color: #242424 !important;
            font-size: 14px !important;
            font-weight: 600 !important;
        }

        nav h3 {
            font-size: 13px !important;
        }

        nav ul {
            padding: 0 !important;
            margin: 0 !important;
            background-color: #242424 !important;
        }

        nav ul li {
            list-style: none !important;
            margin: 0 !important;
            padding: 0 !important;
            background-color: #242424 !important;
        }

        nav ul li a {
            color: #c9d1d9 !important;
            display: block !important;
            padding: 8px 15px !important;
            white-space: nowrap !important;
            overflow: hidden !important;
            text-overflow: ellipsis !important;
            background-color: #242424 !important;
            margin: 0 !important;
            border: none !important;
            font-size: 14px !important;
        }

        nav ul li a:hover {
            color: #60a5fa !important;
            background-color: rgba(96, 165, 250, 0.1) !important;
        }

        /* Module links (direct children of nav > ul > li) */
        nav > ul > li > a {
            color: #60a5fa !important;
            font-weight: 600 !important;
            padding: 10px 15px !important;
            font-size: 14px !important;
            border-left: 3px solid #60a5fa !important;
            padding-left: 12px !important;
        }

        nav > ul > li > a:hover {
            background-color: rgba(96, 165, 250, 0.15) !important;
        }

        /* Sub-items (methods/functions) indented */
        nav ul.methods {
            padding-left: 15px !important;
        }

        nav ul.methods li a {
            color: #9ca3af !important;
            font-size: 13px !important;
            padding: 6px 15px !important;
            font-weight: 400 !important;
        }

        nav ul.methods li a:hover {
            color: #c9d1d9 !important;
        }

        nav > h2:first-child {
            font-size: 16px !important;
            font-weight: 700 !important;
            padding: 12px 15px !important;
        }

        /* Main content area - dark background */
        #main {
            background-color: #1a1a1a !important;
            padding: 20px !important;
        }

        /* Article and sections - ensure dark background */
        article, section, .container-overview, .description {
            background-color: #1a1a1a !important;
        }

        /* Images - style demo images */
        img {
            max-width: 100% !important;
            height: auto !important;
            border: 1px solid #404040 !important;
            border-radius: 8px !important;
            margin: 20px 0 !important;
        }

        /* Links */
        a {
            color: #60a5fa !important;
            text-decoration: none !important;
        }

        a:hover {
            color: #93c5fd !important;
            text-decoration: underline !important;
        }

        /* Headings */
        h1, h2, h3, h4, h5, h6 {
            color: #e0e0e0 !important;
            border-bottom-color: #404040 !important;
            background-color: transparent !important;
        }

        h4.name {
            background-color: #2a2a2a !important;
            border: 1px solid #404040 !important;
        }

        /* Code blocks */
        pre {
            background-color: #0d1117 !important;
            border: 1px solid #404040 !important;
        }

        pre code {
            background-color: transparent !important;
        }

        code {
            background-color: #2a2a2a !important;
            color: #e0e0e0 !important;
            padding: 2px 6px !important;
            border-radius: 3px !important;
        }

        /* Tables */
        table {
            border-color: #404040 !important;
            background-color: #1a1a1a !important;
        }

        table thead tr {
            background-color: #242424 !important;
        }

        table tbody tr {
            background-color: #1a1a1a !important;
        }

        table tbody tr:nth-child(even) {
            background-color: #1f1f1f !important;
        }

        table td, table th {
            border-color: #404040 !important;
            color: #e0e0e0 !important;
            background-color: transparent !important;
        }

        .params .name, .props .name {
            color: #10b981 !important;
            font-family: 'Courier New', monospace !important;
        }

        /* Descriptions and details */
        .description, .details, dt, dd, p, ul, ol, dl {
            color: #e0e0e0 !important;
            background-color: transparent !important;
        }

        /* Types */
        .type-signature {
            color: #a78bfa !important;
        }

        /* Source links */
        .details .details-item-container {
            border-left-color: #404040 !important;
        }

        /* Breadcrumbs */
        .page-title {
            color: #e0e0e0 !important;
        }

        /* Search */
        #nav-search {
            background-color: #2a2a2a !important;
            border: 1px solid #404040 !important;
            color: #e0e0e0 !important;
        }

        /* Mobile nav trigger */
        .navicon-button {
            background-color: #2a2a2a !important;
        }

        /* Footer */
        footer {
            background-color: #1a1a1a !important;
            color: #9ca3af !important;
            border-top: 1px solid #404040 !important;
            text-align: center !important;
            padding: 20px !important;
        }

        /* Remove horizontal scrollbar and white borders */
        * {
            box-sizing: border-box !important;
        }
    </style>
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h3>Home</h3><ul><li><a href="index.html">README</a></li></ul><h3>ShippingManager</h3><ul><li><a href="tutorial-03-discovered-formulars.html">Discovered Formulas</a></li></ul><h3>COPILOT Tutorials</h3><ul><li><a href="tutorial-01-installation-guide.html">Installation</a></li><li><a href="tutorial-02-build-guide.html">Build Guide</a></li><li><a href="tutorial-04-cheatsheet.html">Cheat-Sheet</a></li></ul><h3>COPILOT DOCUMENTATION</h3><ul><li class="nav-list-toggle"><a>Classes</a><ul style="display: none;"><li><a href="module-core_debounced-api.DebouncedAPIManager.html">DebouncedAPIManager</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_debounced-api.DebouncedAPIManager.html#call">call</a></li><li data-type='method' style='display: none;'><a href="module-core_debounced-api.DebouncedAPIManager.html#cancelAll">cancelAll</a></li><li data-type='method' style='display: none;'><a href="module-core_debounced-api.DebouncedAPIManager.html#get">get</a></li><li data-type='method' style='display: none;'><a href="module-core_debounced-api.DebouncedAPIManager.html#register">register</a></li></ul></li><li><a href="module-server_chatbot-ChatBot.html">ChatBot</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_chatbot-ChatBot.html#initialize">initialize</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot-ChatBot.html#processAllianceMessage">processAllianceMessage</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot-ChatBot.html#processPrivateMessage">processPrivateMessage</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot-ChatBot.html#setupScheduledTasks">setupScheduledTasks</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot-ChatBot.html#updateSettings">updateSettings</a></li></ul></li></ul></li><li class="nav-list-toggle"><a>Modules</a><ul style="display: none;"><li><a href="module-alliance-tabs.html">alliance-tabs</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#.clearAllianceTabCache">clearAllianceTabCache</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#.closeAllianceCoopOverlay">closeAllianceCoopOverlay</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#.getCurrentTab">getCurrentTab</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#.hideAllAllianceUI">hideAllAllianceUI</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#.initAllianceTabs">initAllianceTabs</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#.refreshCurrentTab">refreshCurrentTab</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#.showAllAllianceUI">showAllAllianceUI</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#.showAllianceCoopOverlay">showAllianceCoopOverlay</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#.showAllianceDetailsModal">showAllianceDetailsModal</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#.switchTab">switchTab</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#.updateCoopTabBadge">updateCoopTabBadge</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~acceptUserToAlliance">acceptUserToAlliance</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~appendSearchResults">appendSearchResults</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~attachAllianceClickHandlers">attachAllianceClickHandlers</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~attachApplicationButtonListeners">attachApplicationButtonListeners</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~attachSearchEventListeners">attachSearchEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~createAllianceRow">createAllianceRow</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~declineUserFromAlliance">declineUserFromAlliance</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~fetchAllianceInfo">fetchAllianceInfo</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~fetchAllianceInfoById">fetchAllianceInfoById</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~fetchAllianceMembers">fetchAllianceMembers</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~fetchAllianceMembersById">fetchAllianceMembersById</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~fetchAllianceSettings">fetchAllianceSettings</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~fetchHighScores">fetchHighScores</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~fetchLeagueInfo">fetchLeagueInfo</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~fetchQueuePool">fetchQueuePool</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~generateAllianceInfoHTML">generateAllianceInfoHTML</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~handleJoinAllianceClick">handleJoinAllianceClick</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~leaveAlliance">leaveAlliance</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~loadTabContent">loadTabContent</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~loadWelcomeMessage">loadWelcomeMessage</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~normalizeColor">normalizeColor</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~performSearch">performSearch</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~refreshApplicationsQueue">refreshApplicationsQueue</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~renderAllianzTab">renderAllianzTab</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~renderCoopTab">renderCoopTab</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~renderHighScoreTab">renderHighScoreTab</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~renderLigaTab">renderLigaTab</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~renderManagementTab">renderManagementTab</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~renderMemberCard">renderMemberCard</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~renderSearchResults">renderSearchResults</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~renderSearchTab">renderSearchTab</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~renderSettingsTab">renderSettingsTab</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~saveWelcomeMessage">saveWelcomeMessage</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~sendWelcomeMessageToUser">sendWelcomeMessageToUser</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~showDonateDialog">showDonateDialog</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~showTextInputDialog">showTextInputDialog</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~updateAllianceSettings">updateAllianceSettings</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~updateManagementTabVisibility">updateManagementTabVisibility</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~updateTabVisibilityForAllianceMembers">updateTabVisibilityForAllianceMembers</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~updateTabVisibilityForNonMembers">updateTabVisibilityForNonMembers</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~updateUserRole">updateUserRole</a></li><li data-type='method' style='display: none;'><a href="module-alliance-tabs.html#~updateWelcomeMessageCharCount">updateWelcomeMessageCharCount</a></li></ul></li><li><a href="module-analytics.html">analytics</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-analytics.html#.initAnalytics">initAnalytics</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~addApiStatsTab">addApiStatsTab</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~buildPod2Html">buildPod2Html</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~checkAndBuildIndex">checkAndBuildIndex</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~closeSoldVesselPanel">closeSoldVesselPanel</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~destroyChart">destroyChart</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~exportAnalyticsData">exportAnalyticsData</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~formatChartPrice">formatChartPrice</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~formatCurrency">formatCurrency</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~formatPercent">formatPercent</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~handleRawTransactionSort">handleRawTransactionSort</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~handleRouteClick">handleRouteClick</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~handleSort">handleSort</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~handleVesselClick">handleVesselClick</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~initSortableHeaders">initSortableHeaders</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~isCacheValid">isCacheValid</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~lazyLoadRoutes">lazyLoadRoutes</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~lazyLoadVessels">lazyLoadVessels</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~loadAnalyticsData">loadAnalyticsData</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~loadApiStats">loadApiStats</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~loadGameLogData">loadGameLogData</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~loadMoreRawTransactions">loadMoreRawTransactions</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~loadRawTransactions">loadRawTransactions</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~populateTypeFilter">populateTypeFilter</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~preloadAllTabs">preloadAllTabs</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~renderApiStatsChart">renderApiStatsChart</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~renderApiStatsSummary">renderApiStatsSummary</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~renderApiStatsTable">renderApiStatsTable</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~renderBottomVesselsRevenueChart">renderBottomVesselsRevenueChart</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~renderExpenseTable">renderExpenseTable</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~renderGameLogChart">renderGameLogChart</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~renderGameLogDailyTable">renderGameLogDailyTable</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~renderGameLogInfo">renderGameLogInfo</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~renderGameLogTable">renderGameLogTable</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~renderQuickSummary">renderQuickSummary</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~renderRawTransactionsTable">renderRawTransactionsTable</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~renderRouteTable">renderRouteTable</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~renderSoldVesselHistory">renderSoldVesselHistory</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~renderSummary">renderSummary</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~renderTop10Routes">renderTop10Routes</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~renderTrendChart">renderTrendChart</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~renderVesselCharts">renderVesselCharts</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~renderVesselTable">renderVesselTable</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~renderVesselsCompositionChart">renderVesselsCompositionChart</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~renderVesselsRevenueChart">renderVesselsRevenueChart</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~renderVesselsUtilizationChart">renderVesselsUtilizationChart</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~setupApiStatsControls">setupApiStatsControls</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~setupRawTransactionsLazyLoading">setupRawTransactionsLazyLoading</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~showLookupEntryDetails">showLookupEntryDetails</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~showRouteVesselsInfoTooltip">showRouteVesselsInfoTooltip</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~showSoldVesselPanel">showSoldVesselPanel</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~sortData">sortData</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~switchTab">switchTab</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~updateFilterName">updateFilterName</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~updateLoadMoreButton">updateLoadMoreButton</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~updateRawSortIndicators">updateRawSortIndicators</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~updateRawTransactionCounts">updateRawTransactionCounts</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~updateRouteFilterIcons">updateRouteFilterIcons</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~updateSortIndicators">updateSortIndicators</a></li><li data-type='method' style='display: none;'><a href="module-analytics.html#~updateVesselFilterIcons">updateVesselFilterIcons</a></li></ul></li><li><a href="module-api.html">api</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-api.html#.activateCampaign">activateCampaign</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.buildLookup">buildLookup</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.checkCompanyAge">checkCompanyAge</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.checkDevelMode">checkDevelMode</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.clearLookup">clearLookup</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.deleteAllLogs">deleteAllLogs</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.deleteChat">deleteChat</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.departAllVessels">departAllVessels</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.departVessel">departVessel</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.departVessels">departVessels</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.doWearMaintenanceBulk">doWearMaintenanceBulk</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.downloadLogbookExport">downloadLogbookExport</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.fetchAcquirableVessels">fetchAcquirableVessels</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.fetchAllianceMembers">fetchAllianceMembers</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.fetchAssignedPorts">fetchAssignedPorts</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.fetchBunkerPrices">fetchBunkerPrices</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.fetchCampaigns">fetchCampaigns</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.fetchChat">fetchChat</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.fetchContacts">fetchContacts</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.fetchLogbookEntries">fetchLogbookEntries</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.fetchLogbookFileSize">fetchLogbookFileSize</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.fetchMessengerChats">fetchMessengerChats</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.fetchMessengerMessages">fetchMessengerMessages</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.fetchUserCompany">fetchUserCompany</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.fetchUserSettings">fetchUserSettings</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.fetchVessels">fetchVessels</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getAnalyticsAll">getAnalyticsAll</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getAnalyticsOverview">getAnalyticsOverview</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getAnalyticsRoutes">getAnalyticsRoutes</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getAnalyticsSummary">getAnalyticsSummary</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getAnalyticsTrend">getAnalyticsTrend</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getAnalyticsVessels">getAnalyticsVessels</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getApiStats">getApiStats</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getApiStatsDates">getApiStatsDates</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getApiStatsHourly">getApiStatsHourly</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getCompanyNameCached">getCompanyNameCached</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getLookupBreakdown">getLookupBreakdown</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getLookupDaily">getLookupDaily</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getLookupDetails">getLookupDetails</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getLookupEntries">getLookupEntries</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getLookupInfo">getLookupInfo</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getLookupTotals">getLookupTotals</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getMaintenanceCost">getMaintenanceCost</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getRecentIpos">getRecentIpos</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getRouteVessels">getRouteVessels</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getStockFinanceOverview">getStockFinanceOverview</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getStockMarket">getStockMarket</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getStockPurchaseTimes">getStockPurchaseTimes</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getTransactionDaily">getTransactionDaily</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getTransactionData">getTransactionData</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getTransactionInfo">getTransactionInfo</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getTransactionList">getTransactionList</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getTransactionSummary">getTransactionSummary</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.getTransactionTypes">getTransactionTypes</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.increaseStockForSale">increaseStockForSale</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.markChatAsRead">markChatAsRead</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.purchaseCO2">purchaseCO2</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.purchaseFuel">purchaseFuel</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.purchaseStock">purchaseStock</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.purchaseVessel">purchaseVessel</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.rebuildLookup">rebuildLookup</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.searchUsers">searchUsers</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.sellStock">sellStock</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.sendChatMessage">sendChatMessage</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.sendPrivateMessage">sendPrivateMessage</a></li><li data-type='method' style='display: none;'><a href="module-api.html#.syncTransactions">syncTransactions</a></li><li data-type='method' style='display: none;'><a href="module-api.html#~verifyVesselPurchased">verifyVesselPurchased</a></li></ul></li><li><a href="module-app.html">app</a></li><li><a href="module-automation.html">automation</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-automation.html#.initAutomation">initAutomation</a></li><li data-type='method' style='display: none;'><a href="module-automation.html#.runAutomationChecks">runAutomationChecks</a></li><li data-type='method' style='display: none;'><a href="module-automation.html#.triggerAutoRebuyChecks">triggerAutoRebuyChecks</a></li><li data-type='method' style='display: none;'><a href="module-automation.html#~calculateRemainingDemand">calculateRemainingDemand</a></li><li data-type='method' style='display: none;'><a href="module-automation.html#~checkAutoCampaignRenewal">checkAutoCampaignRenewal</a></li><li data-type='method' style='display: none;'><a href="module-automation.html#~checkAutoDepartAll">checkAutoDepartAll</a></li><li data-type='method' style='display: none;'><a href="module-automation.html#~checkAutoRebuyCO2">checkAutoRebuyCO2</a></li><li data-type='method' style='display: none;'><a href="module-automation.html#~checkAutoRebuyFuel">checkAutoRebuyFuel</a></li><li data-type='method' style='display: none;'><a href="module-automation.html#~getTotalCapacity">getTotalCapacity</a></li><li data-type='method' style='display: none;'><a href="module-automation.html#~performAutoRebuyCO2">performAutoRebuyCO2</a></li><li data-type='method' style='display: none;'><a href="module-automation.html#~performAutoRebuyFuel">performAutoRebuyFuel</a></li><li data-type='method' style='display: none;'><a href="module-automation.html#~updateAutoDepartLabel">updateAutoDepartLabel</a></li></ul></li><li><a href="module-badge-manager.html">badge-manager</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-badge-manager.html#.getBadgeCount">getBadgeCount</a></li><li data-type='method' style='display: none;'><a href="module-badge-manager.html#.hideBadge">hideBadge</a></li><li data-type='method' style='display: none;'><a href="module-badge-manager.html#.showBadge">showBadge</a></li><li data-type='method' style='display: none;'><a href="module-badge-manager.html#.updateBadge">updateBadge</a></li><li data-type='method' style='display: none;'><a href="module-badge-manager.html#.updateButtonState">updateButtonState</a></li><li data-type='method' style='display: none;'><a href="module-badge-manager.html#.updateButtonTooltip">updateButtonTooltip</a></li><li data-type='method' style='display: none;'><a href="module-badge-manager.html#.updateButtonVisibility">updateButtonVisibility</a></li></ul></li><li><a href="module-broadcast.html">broadcast</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-broadcast.html#.initBroadcast">initBroadcast</a></li><li data-type='method' style='display: none;'><a href="module-broadcast.html#.initBroadcastForManagement">initBroadcastForManagement</a></li><li data-type='method' style='display: none;'><a href="module-broadcast.html#~deleteTemplate">deleteTemplate</a></li><li data-type='method' style='display: none;'><a href="module-broadcast.html#~editTemplate">editTemplate</a></li><li data-type='method' style='display: none;'><a href="module-broadcast.html#~loadTemplates">loadTemplates</a></li><li data-type='method' style='display: none;'><a href="module-broadcast.html#~renderTemplateList">renderTemplateList</a></li><li data-type='method' style='display: none;'><a href="module-broadcast.html#~saveTemplate">saveTemplate</a></li><li data-type='method' style='display: none;'><a href="module-broadcast.html#~toggleTemplate">toggleTemplate</a></li><li data-type='method' style='display: none;'><a href="module-broadcast.html#~updateMessageCounter">updateMessageCounter</a></li></ul></li><li><a href="module-bunker-management.html">bunker-management</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-bunker-management.html#.buyMaxCO2">buyMaxCO2</a></li><li data-type='method' style='display: none;'><a href="module-bunker-management.html#.buyMaxFuel">buyMaxFuel</a></li><li data-type='method' style='display: none;'><a href="module-bunker-management.html#.getCurrentBunkerState">getCurrentBunkerState</a></li><li data-type='method' style='display: none;'><a href="module-bunker-management.html#.setCapacityFromBunkerUpdate">setCapacityFromBunkerUpdate</a></li><li data-type='method' style='display: none;'><a href="module-bunker-management.html#.updateBunkerStatus">updateBunkerStatus</a></li><li data-type='method' style='display: none;'><a href="module-bunker-management.html#.updateCurrentCO2">updateCurrentCO2</a></li><li data-type='method' style='display: none;'><a href="module-bunker-management.html#.updateCurrentCash">updateCurrentCash</a></li><li data-type='method' style='display: none;'><a href="module-bunker-management.html#.updateCurrentFuel">updateCurrentFuel</a></li></ul></li><li><a href="module-chat.html">chat</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-chat.html#.displayMessages">displayMessages</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#.handleMessageInput">handleMessageInput</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#.initWebSocket">initWebSocket</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#.loadAllianceMembers">loadAllianceMembers</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#.loadMessages">loadMessages</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#.markAllianceChatAsRead">markAllianceChatAsRead</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#.parseMessageWithMentions">parseMessageWithMentions</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#.sendMessage">sendMessage</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#.setChatScrollListener">setChatScrollListener</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~attemptReconnect">attemptReconnect</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~displaySuggestions">displaySuggestions</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~formatLocalTime">formatLocalTime</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleAllianceChanged">handleAllianceChanged</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleAllianceIndexReady">handleAllianceIndexReady</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleAutoCoopComplete">handleAutoCoopComplete</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleAutoCoopNoTargets">handleAutoCoopNoTargets</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleAutopilotDepartStart">handleAutopilotDepartStart</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleBackendAutoRepairComplete">handleBackendAutoRepairComplete</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleBunkerUpdate">handleBunkerUpdate</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleCO2Purchased">handleCO2Purchased</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleCampaignsRenewed">handleCampaignsRenewed</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleCompanyTypeUpdate">handleCompanyTypeUpdate</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleCoopUpdate">handleCoopUpdate</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleDrydockCountUpdate">handleDrydockCountUpdate</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleFuelPurchased">handleFuelPurchased</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleGenericNotification">handleGenericNotification</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleHarborMapRefreshRequired">handleHarborMapRefreshRequired</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleHeaderDataUpdate">handleHeaderDataUpdate</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleHijackingUpdate">handleHijackingUpdate</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleIpoAlertUpdate">handleIpoAlertUpdate</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleMentionAutocomplete">handleMentionAutocomplete</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleMessengerUpdate">handleMessengerUpdate</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handlePriceAlert">handlePriceAlert</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handlePriceUpdate">handlePriceUpdate</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handlePurserPurchase">handlePurserPurchase</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handlePurserSell">handlePurserSell</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleRepairCountUpdate">handleRepairCountUpdate</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleStaffTrainingPointsUpdate">handleStaffTrainingPointsUpdate</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleStaffUpdate">handleStaffUpdate</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleUnreadMessagesUpdate">handleUnreadMessagesUpdate</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleUserActionNotification">handleUserActionNotification</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleVesselCountUpdate">handleVesselCountUpdate</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleVesselsDepartBatch">handleVesselsDepartBatch</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleVesselsDepartComplete">handleVesselsDepartComplete</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleVesselsDeparted">handleVesselsDeparted</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleVesselsDrydocked">handleVesselsDrydocked</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleVesselsFailed">handleVesselsFailed</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~handleVesselsRepaired">handleVesselsRepaired</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~hideMemberSuggestions">hideMemberSuggestions</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~insertMention">insertMention</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~registerUsernameClickEvents">registerUsernameClickEvents</a></li><li data-type='method' style='display: none;'><a href="module-chat.html#~updateAllianceChatBadge">updateAllianceChatBadge</a></li></ul></li><li><a href="module-company-profile.html">company-profile</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-company-profile.html#.closeCompanyProfile">closeCompanyProfile</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#.initCompanyProfile">initCompanyProfile</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#.openCompanyProfile">openCompanyProfile</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#.openPlayerProfile">openPlayerProfile</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~addToContacts">addToContacts</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~adjustSalary">adjustSalary</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~attachAllianceClickListener">attachAllianceClickListener</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~attachSalaryButtonListeners">attachSalaryButtonListeners</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~attachStockActionListeners">attachStockActionListeners</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~buildAchievementsSection">buildAchievementsSection</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~buildSection">buildSection</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~buildStaffSection">buildStaffSection</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~dismissStaffPointsBanner">dismissStaffPointsBanner</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~formatLabel">formatLabel</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~formatMoraleLabel">formatMoraleLabel</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~formatPerkName">formatPerkName</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~formatValue">formatValue</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~generateMoraleSmiley">generateMoraleSmiley</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~loadAllianceDetails">loadAllianceDetails</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~loadCompanyProfile">loadCompanyProfile</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~loadStaffData">loadStaffData</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~loadStockSection">loadStockSection</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~normalizeColor">normalizeColor</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~removeFromContacts">removeFromContacts</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~renderCompanyProfile">renderCompanyProfile</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~renderSearchResults">renderSearchResults</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~searchPlayers">searchPlayers</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~startStockSellTimer">startStockSellTimer</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~toggleAchievementsList">toggleAchievementsList</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~toggleStaffDetails">toggleStaffDetails</a></li><li data-type='method' style='display: none;'><a href="module-company-profile.html#~trainPerk">trainPerk</a></li></ul></li><li><a href="module-coop.html">coop</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-coop.html#.closeCoopOverlay">closeCoopOverlay</a></li><li data-type='method' style='display: none;'><a href="module-coop.html#.fetchCoopData">fetchCoopData</a></li><li data-type='method' style='display: none;'><a href="module-coop.html#.sendCoopMax">sendCoopMax</a></li><li data-type='method' style='display: none;'><a href="module-coop.html#.showCoopOverlay">showCoopOverlay</a></li><li data-type='method' style='display: none;'><a href="module-coop.html#.updateCoopBadge">updateCoopBadge</a></li><li data-type='method' style='display: none;'><a href="module-coop.html#~renderMemberCard">renderMemberCard</a></li></ul></li><li><a href="module-core_app-initializer.html">core/app-initializer</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_app-initializer.html#.initializeApp">initializeApp</a></li><li data-type='method' style='display: none;'><a href="module-core_app-initializer.html#~createAllianceChatHandler">createAllianceChatHandler</a></li><li data-type='method' style='display: none;'><a href="module-core_app-initializer.html#~createBuyVesselsHandler">createBuyVesselsHandler</a></li><li data-type='method' style='display: none;'><a href="module-core_app-initializer.html#~createDebouncedFunctions">createDebouncedFunctions</a></li><li data-type='method' style='display: none;'><a href="module-core_app-initializer.html#~createForecastHandler">createForecastHandler</a></li><li data-type='method' style='display: none;'><a href="module-core_app-initializer.html#~createTestBrowserNotification">createTestBrowserNotification</a></li><li data-type='method' style='display: none;'><a href="module-core_app-initializer.html#~exposeGlobalFunctions">exposeGlobalFunctions</a></li><li data-type='method' style='display: none;'><a href="module-core_app-initializer.html#~formatNumberWithSeparator">formatNumberWithSeparator</a></li><li data-type='method' style='display: none;'><a href="module-core_app-initializer.html#~initializeSettingsUI">initializeSettingsUI</a></li><li data-type='method' style='display: none;'><a href="module-core_app-initializer.html#~loadInitialData">loadInitialData</a></li><li data-type='method' style='display: none;'><a href="module-core_app-initializer.html#~loadUserSettings">loadUserSettings</a></li><li data-type='method' style='display: none;'><a href="module-core_app-initializer.html#~registerAllEventListeners">registerAllEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_app-initializer.html#~setCheckboxState">setCheckboxState</a></li><li data-type='method' style='display: none;'><a href="module-core_app-initializer.html#~setCheckboxValue">setCheckboxValue</a></li><li data-type='method' style='display: none;'><a href="module-core_app-initializer.html#~setFormattedInputValue">setFormattedInputValue</a></li><li data-type='method' style='display: none;'><a href="module-core_app-initializer.html#~setInputValue">setInputValue</a></li><li data-type='method' style='display: none;'><a href="module-core_app-initializer.html#~setSelectValue">setSelectValue</a></li><li data-type='method' style='display: none;'><a href="module-core_app-initializer.html#~toggleElementVisibility">toggleElementVisibility</a></li></ul></li><li><a href="module-core_auto-refresh.html">core/auto-refresh</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_auto-refresh.html#.getActiveIntervals">getActiveIntervals</a></li><li data-type='method' style='display: none;'><a href="module-core_auto-refresh.html#.initNotificationButtonUpdater">initNotificationButtonUpdater</a></li><li data-type='method' style='display: none;'><a href="module-core_auto-refresh.html#.initVersionChecker">initVersionChecker</a></li><li data-type='method' style='display: none;'><a href="module-core_auto-refresh.html#.initVisibilityHandler">initVisibilityHandler</a></li><li data-type='method' style='display: none;'><a href="module-core_auto-refresh.html#.preloadAllImages">preloadAllImages</a></li><li data-type='method' style='display: none;'><a href="module-core_auto-refresh.html#.stopAllIntervals">stopAllIntervals</a></li><li data-type='method' style='display: none;'><a href="module-core_auto-refresh.html#.stopInterval">stopInterval</a></li></ul></li><li><a href="module-core_badge-cache.html">core/badge-cache</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_badge-cache.html#.loadCache">loadCache</a></li><li data-type='method' style='display: none;'><a href="module-core_badge-cache.html#.saveBadgeCache">saveBadgeCache</a></li><li data-type='method' style='display: none;'><a href="module-core_badge-cache.html#.updateCoopDisplay">updateCoopDisplay</a></li><li data-type='method' style='display: none;'><a href="module-core_badge-cache.html#~loadBunkerStatus">loadBunkerStatus</a></li><li data-type='method' style='display: none;'><a href="module-core_badge-cache.html#~loadCampaignsBadge">loadCampaignsBadge</a></li><li data-type='method' style='display: none;'><a href="module-core_badge-cache.html#~loadCoopData">loadCoopData</a></li><li data-type='method' style='display: none;'><a href="module-core_badge-cache.html#~loadHijackingBadge">loadHijackingBadge</a></li><li data-type='method' style='display: none;'><a href="module-core_badge-cache.html#~loadPrices">loadPrices</a></li><li data-type='method' style='display: none;'><a href="module-core_badge-cache.html#~loadRepairBadges">loadRepairBadges</a></li><li data-type='method' style='display: none;'><a href="module-core_badge-cache.html#~loadStockAndAnchor">loadStockAndAnchor</a></li><li data-type='method' style='display: none;'><a href="module-core_badge-cache.html#~loadVesselBadges">loadVesselBadges</a></li></ul></li><li><a href="module-core_debounced-api.html">core/debounced-api</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_debounced-api.html#.cancelAllDebouncedFunctions">cancelAllDebouncedFunctions</a></li><li data-type='method' style='display: none;'><a href="module-core_debounced-api.html#.cancelDebouncedFunction">cancelDebouncedFunction</a></li><li data-type='method' style='display: none;'><a href="module-core_debounced-api.html#.createDebouncedFunction">createDebouncedFunction</a></li><li data-type='method' style='display: none;'><a href="module-core_debounced-api.html#.isDebouncePending">isDebouncePending</a></li></ul></li><li><a href="module-core_event-registry.html">core/event-registry</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_event-registry.html#.registerAutoDepartSettingsListeners">registerAutoDepartSettingsListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_event-registry.html#.registerAutoPilotFeatureListeners">registerAutoPilotFeatureListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_event-registry.html#.registerAutoPilotListeners">registerAutoPilotListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_event-registry.html#.registerAutoRebuyCO2Listeners">registerAutoRebuyCO2Listeners</a></li><li data-type='method' style='display: none;'><a href="module-core_event-registry.html#.registerAutoRebuyFuelListeners">registerAutoRebuyFuelListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_event-registry.html#.registerBunkerListeners">registerBunkerListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_event-registry.html#.registerChatBotSettingsListeners">registerChatBotSettingsListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_event-registry.html#.registerChatEventListeners">registerChatEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_event-registry.html#.registerCustomCommandsListeners">registerCustomCommandsListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_event-registry.html#.registerDialogEventListeners">registerDialogEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_event-registry.html#.registerMessengerEventListeners">registerMessengerEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_event-registry.html#.registerNotificationPermissionListener">registerNotificationPermissionListener</a></li><li data-type='method' style='display: none;'><a href="module-core_event-registry.html#.registerNumberFormatting">registerNumberFormatting</a></li><li data-type='method' style='display: none;'><a href="module-core_event-registry.html#.registerSectionToggle">registerSectionToggle</a></li><li data-type='method' style='display: none;'><a href="module-core_event-registry.html#.registerSettingsThresholdListeners">registerSettingsThresholdListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_event-registry.html#.registerVesselCatalogEventListeners">registerVesselCatalogEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_event-registry.html#~createCustomCommandElement">createCustomCommandElement</a></li><li data-type='method' style='display: none;'><a href="module-core_event-registry.html#~formatNumberWithSeparator">formatNumberWithSeparator</a></li></ul></li><li><a href="module-core_global-exports.html">core/global-exports</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_global-exports.html#.exportApiUrl">exportApiUrl</a></li><li data-type='method' style='display: none;'><a href="module-core_global-exports.html#.exportAutopilotFunctions">exportAutopilotFunctions</a></li><li data-type='method' style='display: none;'><a href="module-core_global-exports.html#.exportCacheKeys">exportCacheKeys</a></li><li data-type='method' style='display: none;'><a href="module-core_global-exports.html#.exportDebouncedFunctions">exportDebouncedFunctions</a></li><li data-type='method' style='display: none;'><a href="module-core_global-exports.html#.exportDebugMode">exportDebugMode</a></li><li data-type='method' style='display: none;'><a href="module-core_global-exports.html#.exportGlobals">exportGlobals</a></li><li data-type='method' style='display: none;'><a href="module-core_global-exports.html#.exportLogbookHandler">exportLogbookHandler</a></li><li data-type='method' style='display: none;'><a href="module-core_global-exports.html#.exportOverlayFunctions">exportOverlayFunctions</a></li><li data-type='method' style='display: none;'><a href="module-core_global-exports.html#.exportSettingsHandler">exportSettingsHandler</a></li><li data-type='method' style='display: none;'><a href="module-core_global-exports.html#.exportStorageFunctions">exportStorageFunctions</a></li><li data-type='method' style='display: none;'><a href="module-core_global-exports.html#.exportVersionFunctions">exportVersionFunctions</a></li></ul></li><li><a href="module-core_settings-sync.html">core/settings-sync</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_settings-sync.html#.handleSettingsUpdate">handleSettingsUpdate</a></li><li data-type='method' style='display: none;'><a href="module-core_settings-sync.html#.toggleAutoPilotAgentCheckboxes">toggleAutoPilotAgentCheckboxes</a></li><li data-type='method' style='display: none;'><a href="module-core_settings-sync.html#~formatNumberWithSeparator">formatNumberWithSeparator</a></li><li data-type='method' style='display: none;'><a href="module-core_settings-sync.html#~updateAutoPilotToggles">updateAutoPilotToggles</a></li><li data-type='method' style='display: none;'><a href="module-core_settings-sync.html#~updateAutoRebuyCO2UI">updateAutoRebuyCO2UI</a></li><li data-type='method' style='display: none;'><a href="module-core_settings-sync.html#~updateAutoRebuyFuelUI">updateAutoRebuyFuelUI</a></li><li data-type='method' style='display: none;'><a href="module-core_settings-sync.html#~updateChatBotSettings">updateChatBotSettings</a></li><li data-type='method' style='display: none;'><a href="module-core_settings-sync.html#~updateNotificationSettings">updateNotificationSettings</a></li><li data-type='method' style='display: none;'><a href="module-core_settings-sync.html#~updateThresholdInputs">updateThresholdInputs</a></li></ul></li><li><a href="module-core_storage-manager.html">core/storage-manager</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_storage-manager.html#.clearUserStorage">clearUserStorage</a></li><li data-type='method' style='display: none;'><a href="module-core_storage-manager.html#.getStorage">getStorage</a></li><li data-type='method' style='display: none;'><a href="module-core_storage-manager.html#.getUserStorageKey">getUserStorageKey</a></li><li data-type='method' style='display: none;'><a href="module-core_storage-manager.html#.getUserStoragePrefix">getUserStoragePrefix</a></li><li data-type='method' style='display: none;'><a href="module-core_storage-manager.html#.removeStorage">removeStorage</a></li><li data-type='method' style='display: none;'><a href="module-core_storage-manager.html#.setStorage">setStorage</a></li><li data-type='method' style='display: none;'><a href="module-core_storage-manager.html#.setUserStoragePrefix">setUserStoragePrefix</a></li></ul></li><li><a href="module-core_websocket-client.html">core/websocket-client</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_websocket-client.html#.getWebSocketState">getWebSocketState</a></li><li data-type='method' style='display: none;'><a href="module-core_websocket-client.html#.incrementReconnectCounter">incrementReconnectCounter</a></li><li data-type='method' style='display: none;'><a href="module-core_websocket-client.html#.initAutopilotControls">initAutopilotControls</a></li><li data-type='method' style='display: none;'><a href="module-core_websocket-client.html#.loadAutopilotState">loadAutopilotState</a></li><li data-type='method' style='display: none;'><a href="module-core_websocket-client.html#.resetReconnectCounter">resetReconnectCounter</a></li><li data-type='method' style='display: none;'><a href="module-core_websocket-client.html#.triggerPriceAlertCheck">triggerPriceAlertCheck</a></li><li data-type='method' style='display: none;'><a href="module-core_websocket-client.html#.updateWebSocketState">updateWebSocketState</a></li></ul></li><li><a href="module-depart-manager.html">depart-manager</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-depart-manager.html#.closeDepartManager">closeDepartManager</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#.initializeDepartManager">initializeDepartManager</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#.openDepartManager">openDepartManager</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#.refreshDepartManagerIfOpen">refreshDepartManagerIfOpen</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#.toggleDepartManager">toggleDepartManager</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#.updateDepartManagerLockState">updateDepartManagerLockState</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~addMassMoorEventHandlers">addMassMoorEventHandlers</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~addVesselItemEventHandlers">addVesselItemEventHandlers</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~clearSearch">clearSearch</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~departSelectedVessels">departSelectedVessels</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~drag">drag</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~formatDuration">formatDuration</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~formatETA">formatETA</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~formatLoadingStatus">formatLoadingStatus</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~getLoadingStatus">getLoadingStatus</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~getPortDrydock">getPortDrydock</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~getStatusInfo">getStatusInfo</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~getVesselStatusText">getVesselStatusText</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~loadPortsData">loadPortsData</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~loadVesselsByStatus">loadVesselsByStatus</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~locateVesselOnMap">locateVesselOnMap</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~moorSelectedVessels">moorSelectedVessels</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~renderDrydockEnrouteItem">renderDrydockEnrouteItem</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~renderDrydockTab">renderDrydockTab</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~renderMassMoorTab">renderMassMoorTab</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~renderMassMoorVesselItem">renderMassMoorVesselItem</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~renderVesselItem">renderVesselItem</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~resumeSelectedVessels">resumeSelectedVessels</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~searchVesselsAcrossTabs">searchVesselsAcrossTabs</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~selectAllVessels">selectAllVessels</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~selectVesselRouteOnMap">selectVesselRouteOnMap</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~startDrag">startDrag</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~stopDrag">stopDrag</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~unselectAllVessels">unselectAllVessels</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~updateAnchorTabCount">updateAnchorTabCount</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~updateAtPortTabCount">updateAtPortTabCount</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~updateAtSeaTabCount">updateAtSeaTabCount</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~updateDepartButtonCount">updateDepartButtonCount</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~updateDryDockTabCount">updateDryDockTabCount</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~updateMassMoorButtonCounts">updateMassMoorButtonCounts</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~updateMoorResumeButtonCounts">updateMoorResumeButtonCounts</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~updateMoorTabCount">updateMoorTabCount</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~updatePendingTabCount">updatePendingTabCount</a></li><li data-type='method' style='display: none;'><a href="module-depart-manager.html#~updateVesselMoorState">updateVesselMoorState</a></li></ul></li><li><a href="module-desktop-notification-templates.html">desktop-notification-templates</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-desktop-notification-templates.html#.createDesktopNotification">createDesktopNotification</a></li><li data-type='method' style='display: none;'><a href="module-desktop-notification-templates.html#.getDefaultEmoji">getDefaultEmoji</a></li><li data-type='method' style='display: none;'><a href="module-desktop-notification-templates.html#.getNotificationTypes">getNotificationTypes</a></li><li data-type='method' style='display: none;'><a href="module-desktop-notification-templates.html#.isValidNotificationType">isValidNotificationType</a></li><li data-type='method' style='display: none;'><a href="module-desktop-notification-templates.html#.notifyAlert">notifyAlert</a></li><li data-type='method' style='display: none;'><a href="module-desktop-notification-templates.html#.notifyError">notifyError</a></li><li data-type='method' style='display: none;'><a href="module-desktop-notification-templates.html#.notifySuccess">notifySuccess</a></li><li data-type='method' style='display: none;'><a href="module-desktop-notification-templates.html#.notifyWarning">notifyWarning</a></li></ul></li><li><a href="module-event-info.html">event-info</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-event-info.html#.initEventInfo">initEventInfo</a></li><li data-type='method' style='display: none;'><a href="module-event-info.html#.openEventModal">openEventModal</a></li><li data-type='method' style='display: none;'><a href="module-event-info.html#.updateEventData">updateEventData</a></li><li data-type='method' style='display: none;'><a href="module-event-info.html#~startEventTimer">startEventTimer</a></li></ul></li><li><a href="module-forecast-calendar.html">forecast-calendar</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-forecast-calendar.html#.initForecastCalendar">initForecastCalendar</a></li><li data-type='method' style='display: none;'><a href="module-forecast-calendar.html#.updateEventDiscount">updateEventDiscount</a></li><li data-type='method' style='display: none;'><a href="module-forecast-calendar.html#~createTableHTML">createTableHTML</a></li><li data-type='method' style='display: none;'><a href="module-forecast-calendar.html#~getBrowserTimezone">getBrowserTimezone</a></li><li data-type='method' style='display: none;'><a href="module-forecast-calendar.html#~getCo2Class">getCo2Class</a></li><li data-type='method' style='display: none;'><a href="module-forecast-calendar.html#~getCurrentVisibleDay">getCurrentVisibleDay</a></li><li data-type='method' style='display: none;'><a href="module-forecast-calendar.html#~getFuelClass">getFuelClass</a></li><li data-type='method' style='display: none;'><a href="module-forecast-calendar.html#~isEventActiveAtTime">isEventActiveAtTime</a></li><li data-type='method' style='display: none;'><a href="module-forecast-calendar.html#~isEventActiveOnDay">isEventActiveOnDay</a></li><li data-type='method' style='display: none;'><a href="module-forecast-calendar.html#~loadForecastData">loadForecastData</a></li><li data-type='method' style='display: none;'><a href="module-forecast-calendar.html#~preloadMonth">preloadMonth</a></li><li data-type='method' style='display: none;'><a href="module-forecast-calendar.html#~renderBook">renderBook</a></li><li data-type='method' style='display: none;'><a href="module-forecast-calendar.html#~updateEventBadge">updateEventBadge</a></li></ul></li><li><a href="module-harbor-map-aggregator.html">harbor-map-aggregator</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-harbor-map-aggregator.html#~aggregateReachablePorts">aggregateReachablePorts</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map-aggregator.html#~aggregateVesselData">aggregateVesselData</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map-aggregator.html#~categorizeVesselsByPort">categorizeVesselsByPort</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map-aggregator.html#~extractPortsFromGameIndex">extractPortsFromGameIndex</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map-aggregator.html#~extractVesselsFromGameIndex">extractVesselsFromGameIndex</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map-aggregator.html#~filterAssignedPorts">filterAssignedPorts</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map-aggregator.html#~formatPortAbbreviation">formatPortAbbreviation</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map-aggregator.html#~groupVesselsByPortPair">groupVesselsByPortPair</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map-aggregator.html#~hasOwnImage">hasOwnImage</a></li></ul></li><li><a href="module-harbor-map-calculator.html">harbor-map-calculator</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-harbor-map-calculator.html#~calculateCargoUtilization">calculateCargoUtilization</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map-calculator.html#~calculateDemandLevel">calculateDemandLevel</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map-calculator.html#~calculateETA">calculateETA</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map-calculator.html#~calculateVesselPosition">calculateVesselPosition</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map-calculator.html#~formatCargoCapacity">formatCargoCapacity</a></li></ul></li><li><a href="module-harbor-map-init.html">harbor-map-init</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-harbor-map-init.html#.closeHarborMap">closeHarborMap</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map-init.html#.forceRefreshMap">forceRefreshMap</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map-init.html#.initHarborMap">initHarborMap</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map-init.html#.openHarborMap">openHarborMap</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map-init.html#.preloadHarborMapData">preloadHarborMapData</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map-init.html#.refreshHarborMapIfOpen">refreshHarborMapIfOpen</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map-init.html#.reloadMap">reloadMap</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map-init.html#.startHarborMapAutoUpdate">startHarborMapAutoUpdate</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map-init.html#.stopHarborMapAutoUpdate">stopHarborMapAutoUpdate</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map-init.html#~departVesselWrapper">departVesselWrapper</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map-init.html#~getVesselByIdWrapper">getVesselByIdWrapper</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map-init.html#~selectVesselFromMap">selectVesselFromMap</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map-init.html#~sellVesselFromPanelWrapper">sellVesselFromPanelWrapper</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map-init.html#~updateVesselMarkerWrapper">updateVesselMarkerWrapper</a></li></ul></li><li><a href="module-harbor-map_api-client.html">harbor-map/api-client</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-harbor-map_api-client.html#.clearHarborMapCache">clearHarborMapCache</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_api-client.html#.clearOverviewCache">clearOverviewCache</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_api-client.html#.exportVesselHistory">exportVesselHistory</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_api-client.html#.fetchHarborMapOverview">fetchHarborMapOverview</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_api-client.html#.fetchPortDetails">fetchPortDetails</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_api-client.html#.fetchVesselHistory">fetchVesselHistory</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_api-client.html#.fetchVesselReachablePorts">fetchVesselReachablePorts</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_api-client.html#.getCachedOverview">getCachedOverview</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_api-client.html#.invalidateOverviewCache">invalidateOverviewCache</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_api-client.html#.prefetchHarborMapData">prefetchHarborMapData</a></li></ul></li><li><a href="module-harbor-map_filters.html">harbor-map/filters</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-harbor-map_filters.html#.applyDemandFilter">applyDemandFilter</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_filters.html#.calculatePortCurrentCargoDemand">calculatePortCurrentCargoDemand</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_filters.html#.calculatePortCurrentOilDemand">calculatePortCurrentOilDemand</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_filters.html#.calculatePortMaxCargoDemand">calculatePortMaxCargoDemand</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_filters.html#.calculatePortMaxOilDemand">calculatePortMaxOilDemand</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_filters.html#.filterPorts">filterPorts</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_filters.html#.filterPortsByPortPair">filterPortsByPortPair</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_filters.html#.filterVessels">filterVessels</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_filters.html#.filterVesselsByPortPair">filterVesselsByPortPair</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_filters.html#.getDemandFilterOptions">getDemandFilterOptions</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_filters.html#.getPortFilterOptions">getPortFilterOptions</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_filters.html#.getVesselFilterOptions">getVesselFilterOptions</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_filters.html#~calculateVesselUtilization">calculateVesselUtilization</a></li></ul></li><li><a href="module-harbor-map_map-controller.html">harbor-map/map-controller</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#.clearRoute">clearRoute</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#.closeAllPanels">closeAllPanels</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#.deselectAll">deselectAll</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#.drawRoute">drawRoute</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#.getCurrentPorts">getCurrentPorts</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#.getMap">getMap</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#.getSelectedPortCode">getSelectedPortCode</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#.getVesselById">getVesselById</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#.highlightPorts">highlightPorts</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#.initMap">initMap</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#.loadOverview">loadOverview</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#.renderPorts">renderPorts</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#.renderVessels">renderVessels</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#.resetPortDisplay">resetPortDisplay</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#.selectPort">selectPort</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#.selectVessel">selectVessel</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#.setPortFilter">setPortFilter</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#.setRouteFilter">setRouteFilter</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#.setVesselFilter">setVesselFilter</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#.updateVesselMarker">updateVesselMarker</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#.updateWeatherDataSetting">updateWeatherDataSetting</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#~addCustomControls">addCustomControls</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#~applyFilterModalSelections">applyFilterModalSelections</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#~applyFiltersAndRender">applyFiltersAndRender</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#~applyMapTheme">applyMapTheme</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#~calculateHeading">calculateHeading</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#~categorizeVesselsByPortClientSide">categorizeVesselsByPortClientSide</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#~changeTileLayer">changeTileLayer</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#~closeFilterModal">closeFilterModal</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#~createVesselIcon">createVesselIcon</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#~getVesselType">getVesselType</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#~hideRouteVesselsPanel">hideRouteVesselsPanel</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#~initFilterModalDrag">initFilterModalDrag</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#~onFilterModalDrag">onFilterModalDrag</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#~onFilterModalDragEnd">onFilterModalDragEnd</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#~openFilterModal">openFilterModal</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#~populateFilterModalDropdowns">populateFilterModalDropdowns</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#~resetAllFilters">resetAllFilters</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#~showRouteVesselsPanel">showRouteVesselsPanel</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#~showWeatherInfo">showWeatherInfo</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#~toggleWeatherLayer">toggleWeatherLayer</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#~updateDemandFilterDropdowns">updateDemandFilterDropdowns</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_map-controller.html#~updateRouteDropdown">updateRouteDropdown</a></li></ul></li><li><a href="module-harbor-map_panel-drag.html">harbor-map/panel-drag</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-harbor-map_panel-drag.html#.initializePanelDrag">initializePanelDrag</a></li></ul></li><li><a href="module-harbor-map_port-panel.html">harbor-map/port-panel</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-harbor-map_port-panel.html#.closePortPanel">closePortPanel</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_port-panel.html#.fetchAndUpdatePortDemand">fetchAndUpdatePortDemand</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_port-panel.html#.hidePortPanel">hidePortPanel</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_port-panel.html#.selectVesselFromPort">selectVesselFromPort</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_port-panel.html#.showPortPanel">showPortPanel</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_port-panel.html#~loadPortAllianceData">loadPortAllianceData</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_port-panel.html#~loadPortWeather">loadPortWeather</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_port-panel.html#~openAllianceModal">openAllianceModal</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_port-panel.html#~renderDemandSection">renderDemandSection</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_port-panel.html#~renderTypicalDemandSection">renderTypicalDemandSection</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_port-panel.html#~renderVesselList">renderVesselList</a></li></ul></li><li><a href="module-harbor-map_route-vessels-panel.html">harbor-map/route-vessels-panel</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-harbor-map_route-vessels-panel.html#.closeRoutePanel">closeRoutePanel</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_route-vessels-panel.html#.hideRoutePanel">hideRoutePanel</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_route-vessels-panel.html#.selectRouteVessel">selectRouteVessel</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_route-vessels-panel.html#.showRoutePanel">showRoutePanel</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_route-vessels-panel.html#~storeVessels">storeVessels</a></li></ul></li><li><a href="module-harbor-map_vessel-panel.html">harbor-map/vessel-panel</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#.closeVesselPanel">closeVesselPanel</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#.departVessel">departVessel</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#.exportHistoryFormat">exportHistoryFormat</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#.getCurrentVesselId">getCurrentVesselId</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#.hideVesselPanel">hideVesselPanel</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#.isLocalDepartInProgress">isLocalDepartInProgress</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#.refreshOpenVesselPanel">refreshOpenVesselPanel</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#.sellVesselFromPanel">sellVesselFromPanel</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#.showVesselPanel">showVesselPanel</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#.startRenameVessel">startRenameVessel</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#.toggleExportMenu">toggleExportMenu</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#.updateVesselPanelDepartButtons">updateVesselPanelDepartButtons</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#~cancelVesselRename">cancelVesselRename</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#~closeExportMenuOnClickOutside">closeExportMenuOnClickOutside</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#~formatLoadingStatusText">formatLoadingStatusText</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#~formatTimeRemaining">formatTimeRemaining</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#~formatVesselStatus">formatVesselStatus</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#~getCountryFlag">getCountryFlag</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#~getLoadingStatus">getLoadingStatus</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#~getPortCountryCode">getPortCountryCode</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#~loadRoutePortDemands">loadRoutePortDemands</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#~loadVesselHistory">loadVesselHistory</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#~loadVesselWeather">loadVesselWeather</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#~openRepairDialog">openRepairDialog</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#~openVesselAppearanceEditor">openVesselAppearanceEditor</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#~processDepartureQueue">processDepartureQueue</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#~renderHistoryPage">renderHistoryPage</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#~saveVesselRename">saveVesselRename</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#~setupInfiniteScroll">setupInfiniteScroll</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#~toggleParkVessel">toggleParkVessel</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#~updateVesselCardName">updateVesselCardName</a></li><li data-type='method' style='display: none;'><a href="module-harbor-map_vessel-panel.html#~updateVesselNameInShipsMenu">updateVesselNameInShipsMenu</a></li></ul></li><li><a href="module-logbook.html">logbook</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-logbook.html#.deleteAllLogsConfirmed">deleteAllLogsConfirmed</a></li><li data-type='method' style='display: none;'><a href="module-logbook.html#.getLogFileSize">getLogFileSize</a></li><li data-type='method' style='display: none;'><a href="module-logbook.html#.initLogbook">initLogbook</a></li><li data-type='method' style='display: none;'><a href="module-logbook.html#.prependLogEntry">prependLogEntry</a></li><li data-type='method' style='display: none;'><a href="module-logbook.html#~applyFiltersToEntries">applyFiltersToEntries</a></li><li data-type='method' style='display: none;'><a href="module-logbook.html#~convertActionFilterToBackend">convertActionFilterToBackend</a></li><li data-type='method' style='display: none;'><a href="module-logbook.html#~createLogEntryHTML">createLogEntryHTML</a></li><li data-type='method' style='display: none;'><a href="module-logbook.html#~ensureScrollable">ensureScrollable</a></li><li data-type='method' style='display: none;'><a href="module-logbook.html#~exportLogs">exportLogs</a></li><li data-type='method' style='display: none;'><a href="module-logbook.html#~formatDetails">formatDetails</a></li><li data-type='method' style='display: none;'><a href="module-logbook.html#~formatTimestamp">formatTimestamp</a></li><li data-type='method' style='display: none;'><a href="module-logbook.html#~getTransactionType">getTransactionType</a></li><li data-type='method' style='display: none;'><a href="module-logbook.html#~loadLogs">loadLogs</a></li><li data-type='method' style='display: none;'><a href="module-logbook.html#~renderLogPage">renderLogPage</a></li><li data-type='method' style='display: none;'><a href="module-logbook.html#~renderLogTable">renderLogTable</a></li><li data-type='method' style='display: none;'><a href="module-logbook.html#~setupEventListeners">setupEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-logbook.html#~updateActionFilter">updateActionFilter</a></li><li data-type='method' style='display: none;'><a href="module-logbook.html#~updateLogCount">updateLogCount</a></li></ul></li><li><a href="module-map-icon-bar.html">map-icon-bar</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-map-icon-bar.html#.closeAllModalOverlays">closeAllModalOverlays</a></li><li data-type='method' style='display: none;'><a href="module-map-icon-bar.html#.initializeMapIconBar">initializeMapIconBar</a></li><li data-type='method' style='display: none;'><a href="module-map-icon-bar.html#~handleIconAction">handleIconAction</a></li></ul></li><li><a href="module-messenger.html">messenger</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-messenger.html#.closeAllChats">closeAllChats</a></li><li data-type='method' style='display: none;'><a href="module-messenger.html#.closeChatSelection">closeChatSelection</a></li><li data-type='method' style='display: none;'><a href="module-messenger.html#.openMessenger">openMessenger</a></li><li data-type='method' style='display: none;'><a href="module-messenger.html#.openNewChat">openNewChat</a></li><li data-type='method' style='display: none;'><a href="module-messenger.html#.showAllChats">showAllChats</a></li><li data-type='method' style='display: none;'><a href="module-messenger.html#.updateUnreadBadge">updateUnreadBadge</a></li><li data-type='method' style='display: none;'><a href="module-messenger.html#~formatTimestamp">formatTimestamp</a></li><li data-type='method' style='display: none;'><a href="module-messenger.html#~loadPrivateMessages">loadPrivateMessages</a></li><li data-type='method' style='display: none;'><a href="module-messenger.html#~stopHijackingPolling">stopHijackingPolling</a></li></ul></li><li><a href="module-public_js_modules_hijacking.html">public/js/modules/hijacking</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-public_js_modules_hijacking.html#.closeHijackingInbox">closeHijackingInbox</a></li><li data-type='method' style='display: none;'><a href="module-public_js_modules_hijacking.html#.openHijackingInbox">openHijackingInbox</a></li><li data-type='method' style='display: none;'><a href="module-public_js_modules_hijacking.html#.updateHijackedVesselsDisplay">updateHijackedVesselsDisplay</a></li><li data-type='method' style='display: none;'><a href="module-public_js_modules_hijacking.html#.updateHijackingBadge">updateHijackingBadge</a></li><li data-type='method' style='display: none;'><a href="module-public_js_modules_hijacking.html#~deleteCase">deleteCase</a></li><li data-type='method' style='display: none;'><a href="module-public_js_modules_hijacking.html#~escapeHtml">escapeHtml</a></li><li data-type='method' style='display: none;'><a href="module-public_js_modules_hijacking.html#~formatTimestamp">formatTimestamp</a></li><li data-type='method' style='display: none;'><a href="module-public_js_modules_hijacking.html#~openCaseDetails">openCaseDetails</a></li><li data-type='method' style='display: none;'><a href="module-public_js_modules_hijacking.html#~refreshHijackingBadge">refreshHijackingBadge</a></li><li data-type='method' style='display: none;'><a href="module-public_js_modules_hijacking.html#~renderCaseList">renderCaseList</a></li></ul></li><li><a href="module-route-planner.html">route-planner</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-route-planner.html#.closeRoutePlanner">closeRoutePlanner</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#.getPlanningVesselId">getPlanningVesselId</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#.initializeRoutePlanner">initializeRoutePlanner</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#.isPlanningMode">isPlanningMode</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#.openRoutePlanner">openRoutePlanner</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#.restorePlanningState">restorePlanningState</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#.selectPortForRoute">selectPortForRoute</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~applyPortFilter">applyPortFilter</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~calculateFuelConsumption">calculateFuelConsumption</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~calculateGuardsCost">calculateGuardsCost</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~calculateHarborFeeRange">calculateHarborFeeRange</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~calculateRemainingDemand">calculateRemainingDemand</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~calculateRouteCreationFee">calculateRouteCreationFee</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~calculateTravelTime">calculateTravelTime</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~clearRouteSelection">clearRouteSelection</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~createRoute">createRoute</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~fetchAndDisplayDemand">fetchAndDisplayDemand</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~fetchRouteData">fetchRouteData</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~fetchRouteTabDemand">fetchRouteTabDemand</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~formatDemandCell">formatDemandCell</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~formatPortName">formatPortName</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~formatTravelTime">formatTravelTime</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~loadSuggestedRoute">loadSuggestedRoute</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~loadVesselPorts">loadVesselPorts</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~saveRouteChanges">saveRouteChanges</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~showError">showError</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~switchTab">switchTab</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~updateDemandDisplay">updateDemandDisplay</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~updatePortsGuardsDisplay">updatePortsGuardsDisplay</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~updatePortsSpeedDisplay">updatePortsSpeedDisplay</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~updateRouteTabDemandDisplay">updateRouteTabDemandDisplay</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~updateRouteTabVisibility">updateRouteTabVisibility</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~updateRouteTabWithCurrentRoute">updateRouteTabWithCurrentRoute</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~updateSelectedPortDisplay">updateSelectedPortDisplay</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~updateSliderDisplays">updateSliderDisplays</a></li><li data-type='method' style='display: none;'><a href="module-route-planner.html#~updateVesselCapacityDisplay">updateVesselCapacityDisplay</a></li></ul></li><li><a href="module-server_analytics_aggregator.html">server/analytics/aggregator</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~aggregateRansomPayments">aggregateRansomPayments</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~calculateRouteHijackCounts">calculateRouteHijackCounts</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~calculateWeightedAverage">calculateWeightedAverage</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~fetchGameHijackingRisks">fetchGameHijackingRisks</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~filterByDays">filterByDays</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~filterByType">filterByType</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~formatRouteDisplay">formatRouteDisplay</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~getActionTypes">getActionTypes</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~getAuditLogPath">getAuditLogPath</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~getContributionAnalysis">getContributionAnalysis</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~getDailyRevenueTrend">getDailyRevenueTrend</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~getDetailedExpenses">getDetailedExpenses</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~getFilteredLogs">getFilteredLogs</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~getHarborFeeAnalysis">getHarborFeeAnalysis</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~getMergedDepartures">getMergedDepartures</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~getMergedOperationsSummary">getMergedOperationsSummary</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~getMergedSummary">getMergedSummary</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~getPurchaseAnalysis">getPurchaseAnalysis</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~getRouteContribution">getRouteContribution</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~getRouteProfitability">getRouteProfitability</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~getRouteProfitabilityMerged">getRouteProfitabilityMerged</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~getRouteProfitabilityWithContribution">getRouteProfitabilityWithContribution</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~getTripDataPath">getTripDataPath</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~getVesselNameFromHijackHistory">getVesselNameFromHijackHistory</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~getVesselPerformance">getVesselPerformance</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~getVesselPerformanceMerged">getVesselPerformanceMerged</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~getVesselPerformanceWithContribution">getVesselPerformanceWithContribution</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~getVesselsByRoute">getVesselsByRoute</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~getWeeklySummary">getWeeklySummary</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~isAutopilotTransaction">isAutopilotTransaction</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~loadAuditLog">loadAuditLog</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~loadTripData">loadTripData</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~mapContextToAutopilotType">mapContextToAutopilotType</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~mapContextToCategory">mapContextToCategory</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_aggregator.html#~normalizeRouteKey">normalizeRouteKey</a></li></ul></li><li><a href="module-server_analytics_api-stats-store.html">server/analytics/api-stats-store</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_analytics_api-stats-store.html#~cleanupOldStats">cleanupOldStats</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_api-stats-store.html#~ensureDir">ensureDir</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_api-stats-store.html#~flushBuffer">flushBuffer</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_api-stats-store.html#~getAvailableDates">getAvailableDates</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_api-stats-store.html#~getCurrentMinuteKey">getCurrentMinuteKey</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_api-stats-store.html#~getHourlyStats">getHourlyStats</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_api-stats-store.html#~getStats">getStats</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_api-stats-store.html#~getStorePathForDate">getStorePathForDate</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_api-stats-store.html#~loadDayStats">loadDayStats</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_api-stats-store.html#~recordCall">recordCall</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_api-stats-store.html#~saveDayStats">saveDayStats</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_api-stats-store.html#~startAutoFlush">startAutoFlush</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_api-stats-store.html#~stopAutoFlush">stopAutoFlush</a></li></ul></li><li><a href="module-server_analytics_lookup-store.html">server/analytics/lookup-store</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_analytics_lookup-store.html#~buildLookup">buildLookup</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_lookup-store.html#~buildPod2Index">buildPod2Index</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_lookup-store.html#~buildPod3Index">buildPod3Index</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_lookup-store.html#~clearStore">clearStore</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_lookup-store.html#~ensureDir">ensureDir</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_lookup-store.html#~extractCashFromEntry">extractCashFromEntry</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_lookup-store.html#~findPod2Match">findPod2Match</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_lookup-store.html#~findPod2MatchForGuardFee">findPod2MatchForGuardFee</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_lookup-store.html#~findPod2MatchForHarborFee">findPod2MatchForHarborFee</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_lookup-store.html#~findPod2MatchForRouteFee">findPod2MatchForRouteFee</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_lookup-store.html#~findPod3Match">findPod3Match</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_lookup-store.html#~findPod3MatchByCalculation">findPod3MatchByCalculation</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_lookup-store.html#~getBreakdownByDay">getBreakdownByDay</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_lookup-store.html#~getBreakdownByType">getBreakdownByType</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_lookup-store.html#~getEntries">getEntries</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_lookup-store.html#~getEntriesByDays">getEntriesByDays</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_lookup-store.html#~getEntryDetails">getEntryDetails</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_lookup-store.html#~getStoreInfo">getStoreInfo</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_lookup-store.html#~getStorePath">getStorePath</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_lookup-store.html#~getTotals">getTotals</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_lookup-store.html#~loadStore">loadStore</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_lookup-store.html#~saveStore">saveStore</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_lookup-store.html#~valuesMatch">valuesMatch</a></li></ul></li><li><a href="module-server_analytics_transaction-store.html">server/analytics/transaction-store</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_analytics_transaction-store.html#~ensureDir">ensureDir</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_transaction-store.html#~fetchFromAPI">fetchFromAPI</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_transaction-store.html#~generateTransactionId">generateTransactionId</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_transaction-store.html#~getDailyBreakdown">getDailyBreakdown</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_transaction-store.html#~getStoreInfo">getStoreInfo</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_transaction-store.html#~getStorePath">getStorePath</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_transaction-store.html#~getTransactionSummary">getTransactionSummary</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_transaction-store.html#~getTransactionTypes">getTransactionTypes</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_transaction-store.html#~getTransactions">getTransactions</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_transaction-store.html#~getTransactionsByDays">getTransactionsByDays</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_transaction-store.html#~loadStore">loadStore</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_transaction-store.html#~saveStore">saveStore</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_transaction-store.html#~startAutoSync">startAutoSync</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_transaction-store.html#~stopAutoSync">stopAutoSync</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_transaction-store.html#~syncTransactions">syncTransactions</a></li></ul></li><li><a href="module-server_analytics_vessel-history-store.html">server/analytics/vessel-history-store</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_analytics_vessel-history-store.html#~clearStore">clearStore</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_vessel-history-store.html#~ensureDir">ensureDir</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_vessel-history-store.html#~fetchAllVessels">fetchAllVessels</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_vessel-history-store.html#~fetchVesselHistory">fetchVesselHistory</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_vessel-history-store.html#~generateDepartureId">generateDepartureId</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_vessel-history-store.html#~getDepartures">getDepartures</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_vessel-history-store.html#~getDeparturesBefore">getDeparturesBefore</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_vessel-history-store.html#~getDeparturesByDays">getDeparturesByDays</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_vessel-history-store.html#~getRouteHijackingRisks">getRouteHijackingRisks</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_vessel-history-store.html#~getStoreInfo">getStoreInfo</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_vessel-history-store.html#~getStorePath">getStorePath</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_vessel-history-store.html#~getSyncProgress">getSyncProgress</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_vessel-history-store.html#~getVesselTrips">getVesselTrips</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_vessel-history-store.html#~loadStore">loadStore</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_vessel-history-store.html#~migrateTankerCargo">migrateTankerCargo</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_vessel-history-store.html#~parseGameDate">parseGameDate</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_vessel-history-store.html#~saveStore">saveStore</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_vessel-history-store.html#~startAutoSync">startAutoSync</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_vessel-history-store.html#~startBackgroundSync">startBackgroundSync</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_vessel-history-store.html#~stopAutoSync">stopAutoSync</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_vessel-history-store.html#~stopSync">stopSync</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_vessel-history-store.html#~syncNextVesselInRotation">syncNextVesselInRotation</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_vessel-history-store.html#~syncSpecificVessels">syncSpecificVessels</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_vessel-history-store.html#~syncVesselHistory">syncVesselHistory</a></li><li data-type='method' style='display: none;'><a href="module-server_analytics_vessel-history-store.html#~transformToAuditEntry">transformToAuditEntry</a></li></ul></li><li><a href="module-server_automation.html">server/automation</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_automation.html#~getRandomInterval">getRandomInterval</a></li><li data-type='method' style='display: none;'><a href="module-server_automation.html#~initialize">initialize</a></li><li data-type='method' style='display: none;'><a href="module-server_automation.html#~loadSettings">loadSettings</a></li><li data-type='method' style='display: none;'><a href="module-server_automation.html#~parseInterval">parseInterval</a></li><li data-type='method' style='display: none;'><a href="module-server_automation.html#~restartAutoRepair">restartAutoRepair</a></li><li data-type='method' style='display: none;'><a href="module-server_automation.html#~runAutoRepair">runAutoRepair</a></li><li data-type='method' style='display: none;'><a href="module-server_automation.html#~scheduleAutoRepair">scheduleAutoRepair</a></li></ul></li><li><a href="module-server_autopilot.html">server/autopilot</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_autopilot.html#~analyzeVesselDepartures">analyzeVesselDepartures</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot.html#~autoRebuyAll">autoRebuyAll</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot.html#~checkPriceAlerts">checkPriceAlerts</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot.html#~checkTelegramPriceAlerts">checkTelegramPriceAlerts</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot.html#~countActiveCampaignTypes">countActiveCampaignTypes</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot.html#~fastEventLoop">fastEventLoop</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot.html#~getGameIndexCached">getGameIndexCached</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot.html#~initializeAutopilotState">initializeAutopilotState</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot.html#~isAutopilotPaused">isAutopilotPaused</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot.html#~pauseAutopilot">pauseAutopilot</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot.html#~resumeAutopilot">resumeAutopilot</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot.html#~setBroadcastFunction">setBroadcastFunction</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot.html#~slowEventLoop">slowEventLoop</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot.html#~startMainEventLoop">startMainEventLoop</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot.html#~tryUpdateAllData">tryUpdateAllData</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot.html#~updateAllData">updateAllData</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot.html#~updateCampaigns">updateCampaigns</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot.html#~updateDrydockCount">updateDrydockCount</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot.html#~updatePrices">updatePrices</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot.html#~updateRepairCount">updateRepairCount</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot.html#~updateUnreadMessages">updateUnreadMessages</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot.html#~updateVesselCount">updateVesselCount</a></li></ul></li><li><a href="module-server_autopilot_pilot_atmosphere_broker.html">server/autopilot/pilot_atmosphere_broker</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_autopilot_pilot_atmosphere_broker.html#~autoRebuyCO2">autoRebuyCO2</a></li></ul></li><li><a href="module-server_autopilot_pilot_barrel_boss.html">server/autopilot/pilot_barrel_boss</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_autopilot_pilot_barrel_boss.html#~autoRebuyFuel">autoRebuyFuel</a></li></ul></li><li><a href="module-server_autopilot_pilot_captain_blackbeard.html">server/autopilot/pilot_captain_blackbeard</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_autopilot_pilot_captain_blackbeard.html#~autoNegotiateHijacking">autoNegotiateHijacking</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot_pilot_captain_blackbeard.html#~processHijackingCase">processHijackingCase</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot_pilot_captain_blackbeard.html#~saveToHistory">saveToHistory</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot_pilot_captain_blackbeard.html#~wait">wait</a></li></ul></li><li><a href="module-server_autopilot_pilot_cargo_marshal.html">server/autopilot/pilot_cargo_marshal</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_autopilot_pilot_cargo_marshal.html#~autoDepartVessels">autoDepartVessels</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot_pilot_cargo_marshal.html#~calculateRemainingDemand">calculateRemainingDemand</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot_pilot_cargo_marshal.html#~departVessels">departVessels</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot_pilot_cargo_marshal.html#~getTotalCapacity">getTotalCapacity</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot_pilot_cargo_marshal.html#~resetFuelFailedCacheIfIncreased">resetFuelFailedCacheIfIncreased</a></li></ul></li><li><a href="module-server_autopilot_pilot_drydock_master.html">server/autopilot/pilot_drydock_master</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_autopilot_pilot_drydock_master.html#~autoDrydockVessels">autoDrydockVessels</a></li></ul></li><li><a href="module-server_autopilot_pilot_fair_hand.html">server/autopilot/pilot_fair_hand</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_autopilot_pilot_fair_hand.html#~autoCoop">autoCoop</a></li></ul></li><li><a href="module-server_autopilot_pilot_harbormaster.html">server/autopilot/pilot_harbormaster</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_autopilot_pilot_harbormaster.html#~autoAnchorPointPurchase">autoAnchorPointPurchase</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot_pilot_harbormaster.html#~setBroadcastFunction">setBroadcastFunction</a></li></ul></li><li><a href="module-server_autopilot_pilot_reputation_chief.html">server/autopilot/pilot_reputation_chief</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_autopilot_pilot_reputation_chief.html#~autoCampaignRenewal">autoCampaignRenewal</a></li></ul></li><li><a href="module-server_autopilot_pilot_staff_captain.html">server/autopilot/pilot_staff_captain</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_autopilot_pilot_staff_captain.html#~manageStaffMorale">manageStaffMorale</a></li></ul></li><li><a href="module-server_autopilot_pilot_the_purser.html">server/autopilot/pilot_the_purser</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_autopilot_pilot_the_purser.html#~autoBuyStock">autoBuyStock</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot_pilot_the_purser.html#~autoSellStock">autoSellStock</a></li><li data-type='method' style='display: none;'><a href="module-server_autopilot_pilot_the_purser.html#~clearPurchasedCache">clearPurchasedCache</a></li></ul></li><li><a href="module-server_autopilot_pilot_yard_foreman.html">server/autopilot/pilot_yard_foreman</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_autopilot_pilot_yard_foreman.html#~autoRepairVessels">autoRepairVessels</a></li></ul></li><li><a href="module-server_cache.html">server/cache</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_cache.html#~clearAllCaches">clearAllCaches</a></li><li data-type='method' style='display: none;'><a href="module-server_cache.html#~getAllianceCache">getAllianceCache</a></li><li data-type='method' style='display: none;'><a href="module-server_cache.html#~getCampaignCache">getCampaignCache</a></li><li data-type='method' style='display: none;'><a href="module-server_cache.html#~getCompanyCache">getCompanyCache</a></li><li data-type='method' style='display: none;'><a href="module-server_cache.html#~getCoopCache">getCoopCache</a></li><li data-type='method' style='display: none;'><a href="module-server_cache.html#~getGameIndexCache">getGameIndexCache</a></li><li data-type='method' style='display: none;'><a href="module-server_cache.html#~invalidateCampaignCache">invalidateCampaignCache</a></li><li data-type='method' style='display: none;'><a href="module-server_cache.html#~invalidateCoopCache">invalidateCoopCache</a></li><li data-type='method' style='display: none;'><a href="module-server_cache.html#~invalidateGameIndexCache">invalidateGameIndexCache</a></li><li data-type='method' style='display: none;'><a href="module-server_cache.html#~isCacheValid">isCacheValid</a></li><li data-type='method' style='display: none;'><a href="module-server_cache.html#~setAllianceCache">setAllianceCache</a></li><li data-type='method' style='display: none;'><a href="module-server_cache.html#~setCampaignCache">setCampaignCache</a></li><li data-type='method' style='display: none;'><a href="module-server_cache.html#~setCompanyCache">setCompanyCache</a></li><li data-type='method' style='display: none;'><a href="module-server_cache.html#~setCoopCache">setCoopCache</a></li><li data-type='method' style='display: none;'><a href="module-server_cache.html#~setGameIndexCache">setGameIndexCache</a></li></ul></li><li><a href="module-server_certificate.html">server/certificate</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_certificate.html#~createHttpsServer">createHttpsServer</a></li><li data-type='method' style='display: none;'><a href="module-server_certificate.html#~generateCA">generateCA</a></li><li data-type='method' style='display: none;'><a href="module-server_certificate.html#~generateCertificate">generateCertificate</a></li><li data-type='method' style='display: none;'><a href="module-server_certificate.html#~getNetworkIPs">getNetworkIPs</a></li><li data-type='method' style='display: none;'><a href="module-server_certificate.html#~isCertificateInstalled">isCertificateInstalled</a></li><li data-type='method' style='display: none;'><a href="module-server_certificate.html#~loadCertificate">loadCertificate</a></li></ul></li><li><a href="module-server_chatbot.html">server/chatbot</a></li><li><a href="module-server_chatbot_commands.html">server/chatbot/commands</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_chatbot_commands.html#~generateForecastText">generateForecastText</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_commands.html#~getBroadcastDir">getBroadcastDir</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_commands.html#~getEnabledBroadcastTemplates">getEnabledBroadcastTemplates</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_commands.html#~handleForecastCommand">handleForecastCommand</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_commands.html#~handleHelpCommand">handleHelpCommand</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_commands.html#~handleMsgCommand">handleMsgCommand</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_commands.html#~handleWelcomeCommand">handleWelcomeCommand</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_commands.html#~hasManagementRole">hasManagementRole</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_commands.html#~loadBroadcastTemplates">loadBroadcastTemplates</a></li></ul></li><li><a href="module-server_chatbot_executor.html">server/chatbot/executor</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_chatbot_executor.html#~executeCommand">executeCommand</a></li></ul></li><li><a href="module-server_chatbot_parser.html">server/chatbot/parser</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_chatbot_parser.html#~findCustomCommand">findCustomCommand</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_parser.html#~hasManagementRole">hasManagementRole</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_parser.html#~isCommandAllowedInChannel">isCommandAllowedInChannel</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_parser.html#~processAllianceMessage">processAllianceMessage</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_parser.html#~processPrivateMessage">processPrivateMessage</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_parser.html#~processQueue">processQueue</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_parser.html#~queueCommand">queueCommand</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_parser.html#~resolveCommandName">resolveCommandName</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_parser.html#~validateCommandArguments">validateCommandArguments</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_parser.html#~validateForecastArguments">validateForecastArguments</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_parser.html#~validateWelcomeArguments">validateWelcomeArguments</a></li></ul></li><li><a href="module-server_chatbot_scheduler.html">server/chatbot/scheduler</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_chatbot_scheduler.html#~scheduleDailyForecast">scheduleDailyForecast</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_scheduler.html#~sendDailyForecast">sendDailyForecast</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_scheduler.html#~setupScheduledTasks">setupScheduledTasks</a></li></ul></li><li><a href="module-server_chatbot_sender.html">server/chatbot/sender</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_chatbot_sender.html#~broadcastDmFailureNotification">broadcastDmFailureNotification</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_sender.html#~broadcastDmQueuedNotification">broadcastDmQueuedNotification</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_sender.html#~broadcastRateLimitNotification">broadcastRateLimitNotification</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_sender.html#~getDmQueueStatus">getDmQueueStatus</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_sender.html#~processDmQueue">processDmQueue</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_sender.html#~queuePrivateMessage">queuePrivateMessage</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_sender.html#~sendAllianceMessage">sendAllianceMessage</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_sender.html#~sendErrorMessage">sendErrorMessage</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_sender.html#~sendPrivateMessage">sendPrivateMessage</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_sender.html#~sendPrivateMessageDirect">sendPrivateMessageDirect</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_sender.html#~sendResponse">sendResponse</a></li></ul></li><li><a href="module-server_chatbot_settings.html">server/chatbot/settings</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_chatbot_settings.html#~getDefaultChatBotObject">getDefaultChatBotObject</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_settings.html#~hasManagementRole">hasManagementRole</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_settings.html#~loadSettings">loadSettings</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_settings.html#~mapChatBotObjectToFlatSettings">mapChatBotObjectToFlatSettings</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_settings.html#~mapSettingsToChatBotObject">mapSettingsToChatBotObject</a></li><li data-type='method' style='display: none;'><a href="module-server_chatbot_settings.html#~updateSettings">updateSettings</a></li></ul></li><li><a href="module-server_config.html">server/config</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_config.html#~getAppBaseDir">getAppBaseDir</a></li><li data-type='method' style='display: none;'><a href="module-server_config.html#~getAppDataDir">getAppDataDir</a></li><li data-type='method' style='display: none;'><a href="module-server_config.html#~getAppPlatformCookie">getAppPlatformCookie</a></li><li data-type='method' style='display: none;'><a href="module-server_config.html#~getAppVersionCookie">getAppVersionCookie</a></li><li data-type='method' style='display: none;'><a href="module-server_config.html#~getInternalBaseUrl">getInternalBaseUrl</a></li><li data-type='method' style='display: none;'><a href="module-server_config.html#~getLocalAppDataDir">getLocalAppDataDir</a></li><li data-type='method' style='display: none;'><a href="module-server_config.html#~getLogDir">getLogDir</a></li><li data-type='method' style='display: none;'><a href="module-server_config.html#~getSessionCookie">getSessionCookie</a></li><li data-type='method' style='display: none;'><a href="module-server_config.html#~getSettingsDir">getSettingsDir</a></li><li data-type='method' style='display: none;'><a href="module-server_config.html#~loadStartupSettings">loadStartupSettings</a></li><li data-type='method' style='display: none;'><a href="module-server_config.html#~setSessionCookie">setSessionCookie</a></li></ul></li><li><a href="module-server_gameapi.html">server/gameapi</a></li><li><a href="module-server_gameapi_alliance.html">server/gameapi/alliance</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_gameapi_alliance.html#~fetchUserContribution">fetchUserContribution</a></li></ul></li><li><a href="module-server_gameapi_bunker.html">server/gameapi/bunker</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_gameapi_bunker.html#~fetchBunkerState">fetchBunkerState</a></li><li data-type='method' style='display: none;'><a href="module-server_gameapi_bunker.html#~fetchPrices">fetchPrices</a></li><li data-type='method' style='display: none;'><a href="module-server_gameapi_bunker.html#~purchaseCO2">purchaseCO2</a></li><li data-type='method' style='display: none;'><a href="module-server_gameapi_bunker.html#~purchaseFuel">purchaseFuel</a></li></ul></li><li><a href="module-server_gameapi_campaign.html">server/gameapi/campaign</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_gameapi_campaign.html#~activateCampaign">activateCampaign</a></li><li data-type='method' style='display: none;'><a href="module-server_gameapi_campaign.html#~fetchCampaigns">fetchCampaigns</a></li></ul></li><li><a href="module-server_gameapi_maintenance.html">server/gameapi/maintenance</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_gameapi_maintenance.html#~bulkRepairVessels">bulkRepairVessels</a></li><li data-type='method' style='display: none;'><a href="module-server_gameapi_maintenance.html#~fetchRepairCount">fetchRepairCount</a></li><li data-type='method' style='display: none;'><a href="module-server_gameapi_maintenance.html#~getMaintenanceCost">getMaintenanceCost</a></li></ul></li><li><a href="module-server_gameapi_port.html">server/gameapi/port</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_gameapi_port.html#~fetchAssignedPorts">fetchAssignedPorts</a></li><li data-type='method' style='display: none;'><a href="module-server_gameapi_port.html#~fetchAutoPrice">fetchAutoPrice</a></li><li data-type='method' style='display: none;'><a href="module-server_gameapi_port.html#~getAssignedPorts">getAssignedPorts</a></li><li data-type='method' style='display: none;'><a href="module-server_gameapi_port.html#~getRoutesByPorts">getRoutesByPorts</a></li><li data-type='method' style='display: none;'><a href="module-server_gameapi_port.html#~getVesselPorts">getVesselPorts</a></li></ul></li><li><a href="module-server_gameapi_util.html">server/gameapi/util</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_gameapi_util.html#~fetchEventData">fetchEventData</a></li><li data-type='method' style='display: none;'><a href="module-server_gameapi_util.html#~fetchUnreadMessages">fetchUnreadMessages</a></li><li data-type='method' style='display: none;'><a href="module-server_gameapi_util.html#~getGameIndex">getGameIndex</a></li></ul></li><li><a href="module-server_gameapi_vessel.html">server/gameapi/vessel</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_gameapi_vessel.html#~departVessel">departVessel</a></li><li data-type='method' style='display: none;'><a href="module-server_gameapi_vessel.html#~fetchVessels">fetchVessels</a></li><li data-type='method' style='display: none;'><a href="module-server_gameapi_vessel.html#~getAllUserVessels">getAllUserVessels</a></li><li data-type='method' style='display: none;'><a href="module-server_gameapi_vessel.html#~getVesselHistory">getVesselHistory</a></li></ul></li><li><a href="module-server_middleware_index.html">server/middleware/index</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_middleware_index.html#~setupMiddleware">setupMiddleware</a></li></ul></li><li><a href="module-server_routes_alliance.html">server/routes/alliance</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_routes_alliance.html#.GET/api/alliance-high-scores">GET /api/alliance-high-scores</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_alliance.html#.GET/api/alliance-info">GET /api/alliance-info</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_alliance.html#.GET/api/alliance-info/:id">GET /api/alliance-info/:id</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_alliance.html#.GET/api/alliance-members">GET /api/alliance-members</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_alliance.html#.GET/api/alliance-members/:id">GET /api/alliance-members/:id</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_alliance.html#.GET/api/alliance-settings">GET /api/alliance-settings</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_alliance.html#.GET/api/chat">GET /api/chat</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_alliance.html#.GET/api/league-info">GET /api/league-info</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_alliance.html#.POST/api/alliance-accept-user">POST /api/alliance-accept-user</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_alliance.html#.POST/api/alliance-decline-user">POST /api/alliance-decline-user</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_alliance.html#.POST/api/alliance-leave">POST /api/alliance-leave</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_alliance.html#.POST/api/alliance-queue-pool">POST /api/alliance-queue-pool</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_alliance.html#.POST/api/alliance-update-user-role">POST /api/alliance-update-user-role</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_alliance.html#.POST/api/chat/mark-read">POST /api/chat/mark-read</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_alliance.html#.POST/api/company-name">POST /api/company-name</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_alliance.html#.POST/api/send-message">POST /api/send-message</a></li></ul></li><li><a href="module-server_routes_alliance-logo.html">server/routes/alliance-logo</a></li><li><a href="module-server_routes_alliances.html">server/routes/alliances</a></li><li><a href="module-server_routes_analytics.html">server/routes/analytics</a></li><li><a href="module-server_routes_anchor.html">server/routes/anchor</a></li><li><a href="module-server_routes_broadcast.html">server/routes/broadcast</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_routes_broadcast.html#~ensureDirectory">ensureDirectory</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_broadcast.html#~getTemplatesFilePath">getTemplatesFilePath</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_broadcast.html#~loadTemplates">loadTemplates</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_broadcast.html#~saveTemplates">saveTemplates</a></li></ul></li><li><a href="module-server_routes_coop.html">server/routes/coop</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_routes_coop.html#.GET/api/coop/data">GET /api/coop/data</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_coop.html#.POST/api/coop/send-max">POST /api/coop/send-max</a></li></ul></li><li><a href="module-server_routes_forecast.html">server/routes/forecast</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_routes_forecast.html#~convertCESTToTimezone">convertCESTToTimezone</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_forecast.html#~generateChatbotText">generateChatbotText</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_forecast.html#~generateMetadata">generateMetadata</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_forecast.html#~getDaysInMonth">getDaysInMonth</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_forecast.html#~getForecastDataPath">getForecastDataPath</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_forecast.html#~getMonthForDay">getMonthForDay</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_forecast.html#~getNextDayData">getNextDayData</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_forecast.html#~getPreviousDayData">getPreviousDayData</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_forecast.html#~getServerLocalTimezone">getServerLocalTimezone</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_forecast.html#~getTimezoneOffsetHours">getTimezoneOffsetHours</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_forecast.html#~getValidTimezones">getValidTimezones</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_forecast.html#~parseNumericOffset">parseNumericOffset</a></li></ul></li><li><a href="module-server_routes_game.html">server/routes/game</a></li><li><a href="module-server_routes_game_autopilot.html">server/routes/game/autopilot</a></li><li><a href="module-server_routes_game_bunker.html">server/routes/game/bunker</a></li><li><a href="module-server_routes_game_depart.html">server/routes/game/depart</a></li><li><a href="module-server_routes_game_maintenance.html">server/routes/game/maintenance</a></li><li><a href="module-server_routes_game_marketing.html">server/routes/game/marketing</a></li><li><a href="module-server_routes_game_user.html">server/routes/game/user</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_routes_game_user.html#~compareVersions">compareVersions</a></li></ul></li><li><a href="module-server_routes_game_vessel.html">server/routes/game/vessel</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_routes_game_vessel.html#~refreshAndBroadcastHeader">refreshAndBroadcastHeader</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_game_vessel.html#~validateImageData">validateImageData</a></li></ul></li><li><a href="module-server_routes_harbor-map.html">server/routes/harbor-map</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_routes_harbor-map.html#~escapeCSVFormula">escapeCSVFormula</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_harbor-map.html#~formatHistoryAsTXT">formatHistoryAsTXT</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_harbor-map.html#~getGameIndexCached">getGameIndexCached</a></li></ul></li><li><a href="module-server_routes_health.html">server/routes/health</a></li><li><a href="module-server_routes_messenger.html">server/routes/messenger</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_routes_messenger.html#.GET/api/contact/get-contacts">GET /api/contact/get-contacts</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_messenger.html#.GET/api/hijacking/get-cases">GET /api/hijacking/get-cases</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_messenger.html#.GET/api/messenger/get-chats">GET /api/messenger/get-chats</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_messenger.html#.POST/api/messenger/delete-chat">POST /api/messenger/delete-chat</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_messenger.html#.POST/api/messenger/get-messages">POST /api/messenger/get-messages</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_messenger.html#.POST/api/messenger/send-private">POST /api/messenger/send-private</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_messenger.html#.POST/api/user/search">POST /api/user/search</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_messenger.html#~ensureHijackHistoryDir">ensureHijackHistoryDir</a></li></ul></li><li><a href="module-server_routes_poi.html">server/routes/poi</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_routes_poi.html#~ensureCacheDir">ensureCacheDir</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_poi.html#~fetchAllMuseumsFromAPI">fetchAllMuseumsFromAPI</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_poi.html#~fetchAllWrecksFromAPI">fetchAllWrecksFromAPI</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_poi.html#~filterPOIsByBbox">filterPOIsByBbox</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_poi.html#~initializePOICache">initializePOICache</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_poi.html#~isCacheValid">isCacheValid</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_poi.html#~loadFromCache">loadFromCache</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_poi.html#~reduceWreckData">reduceWreckData</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_poi.html#~saveToCache">saveToCache</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_poi.html#~startAutomaticCacheRefresh">startAutomaticCacheRefresh</a></li></ul></li><li><a href="module-server_routes_route-planner.html">server/routes/route-planner</a></li><li><a href="module-server_routes_server-config.html">server/routes/server-config</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_routes_server-config.html#~getDirectoryStats">getDirectoryStats</a></li></ul></li><li><a href="module-server_routes_settings.html">server/routes/settings</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_routes_settings.html#.GET/api/settings">GET /api/settings</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_settings.html#.POST/api/settings">POST /api/settings</a></li></ul></li><li><a href="module-server_routes_staff.html">server/routes/staff</a></li><li><a href="module-server_routes_stock.html">server/routes/stock</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_routes_stock.html#.GET/api/stock/check-company-age">GET /api/stock/check-company-age</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_stock.html#.GET/api/stock/finance-overview">GET /api/stock/finance-overview</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_stock.html#.GET/api/stock/market">GET /api/stock/market</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_stock.html#.GET/api/stock/purchase-times">GET /api/stock/purchase-times</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_stock.html#.GET/api/stock/recent-ipos">GET /api/stock/recent-ipos</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_stock.html#.POST/api/stock/increase-stock-for-sale">POST /api/stock/increase-stock-for-sale</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_stock.html#.POST/api/stock/purchase">POST /api/stock/purchase</a></li><li data-type='method' style='display: none;'><a href="module-server_routes_stock.html#.POST/api/stock/sell">POST /api/stock/sell</a></li></ul></li><li><a href="module-server_routes_transactions.html">server/routes/transactions</a></li><li><a href="module-server_routes_vessel-image.html">server/routes/vessel-image</a></li><li><a href="module-server_scheduler.html">server/scheduler</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_scheduler.html#~initScheduler">initScheduler</a></li><li data-type='method' style='display: none;'><a href="module-server_scheduler.html#~isServerReady">isServerReady</a></li></ul></li><li><a href="module-server_services_alliance-indexer.html">server/services/alliance-indexer</a></li><li><a href="module-server_settings-schema.html">server/settings-schema</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_settings-schema.html#~getDefault">getDefault</a></li><li data-type='method' style='display: none;'><a href="module-server_settings-schema.html#~getDefaults">getDefaults</a></li><li data-type='method' style='display: none;'><a href="module-server_settings-schema.html#~getRequiredKeys">getRequiredKeys</a></li><li data-type='method' style='display: none;'><a href="module-server_settings-schema.html#~getSettingsFilePath">getSettingsFilePath</a></li><li data-type='method' style='display: none;'><a href="module-server_settings-schema.html#~initializeSettings">initializeSettings</a></li><li data-type='method' style='display: none;'><a href="module-server_settings-schema.html#~saveSettings">saveSettings</a></li><li data-type='method' style='display: none;'><a href="module-server_settings-schema.html#~validateSettings">validateSettings</a></li><li data-type='method' style='display: none;'><a href="module-server_settings-schema.html#~validateValue">validateValue</a></li></ul></li><li><a href="module-server_state.html">server/state</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_state.html#~getAllLocks">getAllLocks</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~getAutopilotState">getAutopilotState</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~getBunkerState">getBunkerState</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~getCampaignStatus">getCampaignStatus</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~getCoopData">getCoopData</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~getDrydockCount">getDrydockCount</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~getEventData">getEventData</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~getHeaderData">getHeaderData</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~getLastCO2Alert">getLastCO2Alert</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~getLastFuelAlert">getLastFuelAlert</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~getLockStatus">getLockStatus</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~getPrices">getPrices</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~getRepairCount">getRepairCount</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~getSettings">getSettings</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~getStaffData">getStaffData</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~getUserState">getUserState</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~getVesselCounts">getVesselCounts</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~isAutopilotPaused">isAutopilotPaused</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~setAutopilotPaused">setAutopilotPaused</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~setAutopilotState">setAutopilotState</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~setLastCO2Alert">setLastCO2Alert</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~setLastFuelAlert">setLastFuelAlert</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~setLockStatus">setLockStatus</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~updateBunkerState">updateBunkerState</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~updateCampaignStatus">updateCampaignStatus</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~updateCoopData">updateCoopData</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~updateDrydockCount">updateDrydockCount</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~updateEventData">updateEventData</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~updateHeaderData">updateHeaderData</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~updatePrices">updatePrices</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~updateRepairCount">updateRepairCount</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~updateSettings">updateSettings</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~updateStaffData">updateStaffData</a></li><li data-type='method' style='display: none;'><a href="module-server_state.html#~updateVesselCounts">updateVesselCounts</a></li></ul></li><li><a href="module-server_utils_api.html">server/utils/api</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_utils_api.html#~apiCall">apiCall</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_api.html#~apiCallWithRetry">apiCallWithRetry</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_api.html#~checkAndUpdateAllianceId">checkAndUpdateAllianceId</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_api.html#~getAllianceId">getAllianceId</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_api.html#~getAllianceName">getAllianceName</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_api.html#~getChatFeed">getChatFeed</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_api.html#~getCompanyName">getCompanyName</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_api.html#~getUserCompanyName">getUserCompanyName</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_api.html#~getUserId">getUserId</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_api.html#~initializeAlliance">initializeAlliance</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_api.html#~setAllianceId">setAllianceId</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_api.html#~sleep">sleep</a></li></ul></li><li><a href="module-server_utils_audit-logger.html">server/utils/audit-logger</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_utils_audit-logger.html#~auditLog">auditLog</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_audit-logger.html#~formatCurrency">formatCurrency</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_audit-logger.html#~formatNumber">formatNumber</a></li></ul></li><li><a href="module-server_utils_encryption.html">server/utils/encryption</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_utils_encryption.html#~decryptData">decryptData</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_encryption.html#~deleteEncryptedData">deleteEncryptedData</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_encryption.html#~encryptData">encryptData</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_encryption.html#~getEncryptionInfo">getEncryptionInfo</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_encryption.html#~isEncrypted">isEncrypted</a></li></ul></li><li><a href="module-server_utils_fuel-calculator.html">server/utils/fuel-calculator</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_utils_fuel-calculator.html#~calculateFuelConsumption">calculateFuelConsumption</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_fuel-calculator.html#~calculateFuelFromFormula">calculateFuelFromFormula</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_fuel-calculator.html#~getFuelConsumptionDisplay">getFuelConsumptionDisplay</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_fuel-calculator.html#~getVesselFuelData">getVesselFuelData</a></li></ul></li><li><a href="module-server_utils_ipo-tracker.html">server/utils/ipo-tracker</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_utils_ipo-tracker.html#~ensureIpoTrackingFile">ensureIpoTrackingFile</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_ipo-tracker.html#~getHighestSeenUserId">getHighestSeenUserId</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_ipo-tracker.html#~getSeenIpoUserIds">getSeenIpoUserIds</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_ipo-tracker.html#~hasSeenIpo">hasSeenIpo</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_ipo-tracker.html#~initializeWithIpos">initializeWithIpos</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_ipo-tracker.html#~isFirstCheck">isFirstCheck</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_ipo-tracker.html#~markIpoAsSeen">markIpoAsSeen</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_ipo-tracker.html#~saveIpoTrackingFile">saveIpoTrackingFile</a></li></ul></li><li><a href="module-server_utils_logger.html">server/utils/logger</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_utils_logger.html#~debug">debug</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_logger.html#~error">error</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_logger.html#~info">info</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_logger.html#~isDebugMode">isDebugMode</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_logger.html#~loadLogLevel">loadLogLevel</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_logger.html#~warn">warn</a></li></ul></li><li><a href="module-server_utils_migrate-harbor-fees.html">server/utils/migrate-harbor-fees</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_utils_migrate-harbor-fees.html#~migrateAllHarborFees">migrateAllHarborFees</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_migrate-harbor-fees.html#~migrateHarborFeesForUser">migrateHarborFeesForUser</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_migrate-harbor-fees.html#~resolveVesselNameToId">resolveVesselNameToId</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_migrate-harbor-fees.html#~timestampToMySQLDatetime">timestampToMySQLDatetime</a></li></ul></li><li><a href="module-server_utils_read-tracker.html">server/utils/read-tracker</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_utils_read-tracker.html#~ensureReadTrackingFile">ensureReadTrackingFile</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_read-tracker.html#~getLastReadTimestamp">getLastReadTimestamp</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_read-tracker.html#~saveReadTrackingFile">saveReadTrackingFile</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_read-tracker.html#~updateLastReadTimestamp">updateLastReadTimestamp</a></li></ul></li><li><a href="module-server_utils_session-manager.html">server/utils/session-manager</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_utils_session-manager.html#~deleteSession">deleteSession</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_session-manager.html#~getAllUserIds">getAllUserIds</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_session-manager.html#~getAvailableSessions">getAvailableSessions</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_session-manager.html#~getSession">getSession</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_session-manager.html#~getSessionsPath">getSessionsPath</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_session-manager.html#~hasSession">hasSession</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_session-manager.html#~loadAllSessions">loadAllSessions</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_session-manager.html#~loadSessions">loadSessions</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_session-manager.html#~migrateToEncrypted">migrateToEncrypted</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_session-manager.html#~saveSession">saveSession</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_session-manager.html#~saveSessions">saveSessions</a></li></ul></li><li><a href="module-server_utils_telegram.html">server/utils/telegram</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_utils_telegram.html#~checkGreenPrices">checkGreenPrices</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_telegram.html#~sendPriceAlert">sendPriceAlert</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_telegram.html#~sendTelegramMessage">sendTelegramMessage</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_telegram.html#~testTelegramConnection">testTelegramConnection</a></li></ul></li><li><a href="module-server_utils_trip-data-store.html">server/utils/trip-data-store</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_utils_trip-data-store.html#~enrichHistoryWithTripData">enrichHistoryWithTripData</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_trip-data-store.html#~ensureDirectory">ensureDirectory</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_trip-data-store.html#~findLookupDataFuzzy">findLookupDataFuzzy</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_trip-data-store.html#~findTripDataFuzzy">findTripDataFuzzy</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_trip-data-store.html#~getFilePath">getFilePath</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_trip-data-store.html#~getTripData">getTripData</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_trip-data-store.html#~isMigrationCompleted">isMigrationCompleted</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_trip-data-store.html#~loadTripData">loadTripData</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_trip-data-store.html#~markMigrationCompleted">markMigrationCompleted</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_trip-data-store.html#~migrateFromOldStores">migrateFromOldStores</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_trip-data-store.html#~saveHarborFee">saveHarborFee</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_trip-data-store.html#~saveTripData">saveTripData</a></li><li data-type='method' style='display: none;'><a href="module-server_utils_trip-data-store.html#~saveTripDataToDisk">saveTripDataToDisk</a></li></ul></li><li><a href="module-server_websocket.html">server/websocket</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_websocket.html#~initWebSocket">initWebSocket</a></li></ul></li><li><a href="module-server_websocket_broadcaster.html">server/websocket/broadcaster</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_websocket_broadcaster.html#~broadcast">broadcast</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_broadcaster.html#~broadcastBunkerUpdate">broadcastBunkerUpdate</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_broadcaster.html#~broadcastHarborMapRefresh">broadcastHarborMapRefresh</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_broadcaster.html#~broadcastToUser">broadcastToUser</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_broadcaster.html#~getWebSocketServer">getWebSocketServer</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_broadcaster.html#~setWebSocketServer">setWebSocketServer</a></li></ul></li><li><a href="module-server_websocket_chat-refresh.html">server/websocket/chat-refresh</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_websocket_chat-refresh.html#~performChatRefresh">performChatRefresh</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_chat-refresh.html#~setMessengerRefreshFn">setMessengerRefreshFn</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_chat-refresh.html#~startChatAutoRefresh">startChatAutoRefresh</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_chat-refresh.html#~stopChatAutoRefresh">stopChatAutoRefresh</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_chat-refresh.html#~triggerImmediateChatRefresh">triggerImmediateChatRefresh</a></li></ul></li><li><a href="module-server_websocket_hijacking-cache.html">server/websocket/hijacking-cache</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_websocket_hijacking-cache.html#~getCachedHijackingCase">getCachedHijackingCase</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_hijacking-cache.html#~invalidateHijackingCase">invalidateHijackingCase</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_hijacking-cache.html#~readLocalCaseFile">readLocalCaseFile</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_hijacking-cache.html#~saveLocalCaseFile">saveLocalCaseFile</a></li></ul></li><li><a href="module-server_websocket_hijacking-refresh.html">server/websocket/hijacking-refresh</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_websocket_hijacking-refresh.html#~performHijackingRefresh">performHijackingRefresh</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_hijacking-refresh.html#~startHijackingAutoRefresh">startHijackingAutoRefresh</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_hijacking-refresh.html#~stopHijackingAutoRefresh">stopHijackingAutoRefresh</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_hijacking-refresh.html#~triggerImmediateHijackingRefresh">triggerImmediateHijackingRefresh</a></li></ul></li><li><a href="module-server_websocket_ipo-refresh.html">server/websocket/ipo-refresh</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_websocket_ipo-refresh.html#~getFreshIpos">getFreshIpos</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_ipo-refresh.html#~performIpoRefresh">performIpoRefresh</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_ipo-refresh.html#~resetIpoCache">resetIpoCache</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_ipo-refresh.html#~sendToAllianceChat">sendToAllianceChat</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_ipo-refresh.html#~startIpoAutoRefresh">startIpoAutoRefresh</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_ipo-refresh.html#~stopIpoAutoRefresh">stopIpoAutoRefresh</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_ipo-refresh.html#~triggerImmediateIpoRefresh">triggerImmediateIpoRefresh</a></li></ul></li><li><a href="module-server_websocket_message-cache.html">server/websocket/message-cache</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_websocket_message-cache.html#~getProcessedMessageIds">getProcessedMessageIds</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_message-cache.html#~getProcessedMessagesCachePath">getProcessedMessagesCachePath</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_message-cache.html#~loadProcessedMessageCache">loadProcessedMessageCache</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_message-cache.html#~saveProcessedMessageCache">saveProcessedMessageCache</a></li></ul></li><li><a href="module-server_websocket_messenger-cache.html">server/websocket/messenger-cache</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_websocket_messenger-cache.html#~getCachedMessengerChats">getCachedMessengerChats</a></li></ul></li><li><a href="module-server_websocket_messenger-content-cache.html">server/websocket/messenger-content-cache</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_websocket_messenger-content-cache.html#~deleteChatFromCache">deleteChatFromCache</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_messenger-content-cache.html#~ensureCacheDir">ensureCacheDir</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_messenger-content-cache.html#~flushCache">flushCache</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_messenger-content-cache.html#~getCacheStats">getCacheStats</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_messenger-content-cache.html#~getCachedChatList">getCachedChatList</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_messenger-content-cache.html#~getCachedChatMessages">getCachedChatMessages</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_messenger-content-cache.html#~getMessengerCachePath">getMessengerCachePath</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_messenger-content-cache.html#~hasNewMessages">hasNewMessages</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_messenger-content-cache.html#~loadMessengerCache">loadMessengerCache</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_messenger-content-cache.html#~markChatAsReadInCache">markChatAsReadInCache</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_messenger-content-cache.html#~saveMessengerCache">saveMessengerCache</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_messenger-content-cache.html#~updateChatList">updateChatList</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_messenger-content-cache.html#~updateChatMessages">updateChatMessages</a></li></ul></li><li><a href="module-server_websocket_messenger-refresh.html">server/websocket/messenger-refresh</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_websocket_messenger-refresh.html#~performMessengerRefresh">performMessengerRefresh</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_messenger-refresh.html#~startMessengerAutoRefresh">startMessengerAutoRefresh</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_messenger-refresh.html#~stopMessengerAutoRefresh">stopMessengerAutoRefresh</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_messenger-refresh.html#~triggerImmediateMessengerRefresh">triggerImmediateMessengerRefresh</a></li></ul></li><li><a href="module-server_websocket_staff-refresh.html">server/websocket/staff-refresh</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server_websocket_staff-refresh.html#~performStaffRefresh">performStaffRefresh</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_staff-refresh.html#~startStaffAutoRefresh">startStaffAutoRefresh</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_staff-refresh.html#~stopStaffAutoRefresh">stopStaffAutoRefresh</a></li><li data-type='method' style='display: none;'><a href="module-server_websocket_staff-refresh.html#~triggerImmediateStaffRefresh">triggerImmediateStaffRefresh</a></li></ul></li><li><a href="module-stock-manager.html">stock-manager</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-stock-manager.html#.calculatePriceStats">calculatePriceStats</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#.closeStockManager">closeStockManager</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#.initStockManager">initStockManager</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#.initializeChart">initializeChart</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#.openCompanyDetail">openCompanyDetail</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#.renderChartSection">renderChartSection</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#.showBuyDialog">showBuyDialog</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#.showSellDialog">showSellDialog</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#.showStockManager">showStockManager</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#.showStockManagerIpoAlerts">showStockManagerIpoAlerts</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~calculateMA">calculateMA</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~calculateSharePriceTier">calculateSharePriceTier</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~closeCompanyDetail">closeCompanyDetail</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~createEnhancedChart">createEnhancedChart</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~createMASeries">createMASeries</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~createMarketRow">createMarketRow</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~createTierRow">createTierRow</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~destroyChart">destroyChart</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~escapeHtml">escapeHtml</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~estimatePurchaseDateFromPrice">estimatePurchaseDateFromPrice</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~filterDataByTimeframe">filterDataByTimeframe</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~formatPurchaseDate">formatPurchaseDate</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~generateMarketRowHtml">generateMarketRowHtml</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~handleIncreaseSharesClick">handleIncreaseSharesClick</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~initTooltipSystem">initTooltipSystem</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~loadInvestments">loadInvestments</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~loadInvestors">loadInvestors</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~loadIpoAlerts">loadIpoAlerts</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~loadMarket">loadMarket</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~loadMarketList">loadMarketList</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~loadMoreMarketItems">loadMoreMarketItems</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~loadPortfolio">loadPortfolio</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~refreshIpoAlertTab">refreshIpoAlertTab</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~renderIpoAlertsTable">renderIpoAlertsTable</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~resetMarketState">resetMarketState</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~setupChartToolbar">setupChartToolbar</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~setupCompanyNameClickHandlers">setupCompanyNameClickHandlers</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~setupInvestmentSellButtons">setupInvestmentSellButtons</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~setupMarketRowClickHandlers">setupMarketRowClickHandlers</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~setupMarketScrollHandler">setupMarketScrollHandler</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~setupTooltips">setupTooltips</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~showIncreaseSharesModal">showIncreaseSharesModal</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~switchTab">switchTab</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~updateChart">updateChart</a></li><li data-type='method' style='display: none;'><a href="module-stock-manager.html#~updateMovingAverages">updateMovingAverages</a></li></ul></li><li><a href="module-ui-dialogs.html">ui-dialogs</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-ui-dialogs.html#.buyCampaign">buyCampaign</a></li><li data-type='method' style='display: none;'><a href="module-ui-dialogs.html#.closeCampaignsOverlay">closeCampaignsOverlay</a></li><li data-type='method' style='display: none;'><a href="module-ui-dialogs.html#.closeSettings">closeSettings</a></li><li data-type='method' style='display: none;'><a href="module-ui-dialogs.html#.showCampaignsOverlay">showCampaignsOverlay</a></li><li data-type='method' style='display: none;'><a href="module-ui-dialogs.html#.showConfirmDialog">showConfirmDialog</a></li><li data-type='method' style='display: none;'><a href="module-ui-dialogs.html#.showContactList">showContactList</a></li><li data-type='method' style='display: none;'><a href="module-ui-dialogs.html#.showPurchaseDialog">showPurchaseDialog</a></li><li data-type='method' style='display: none;'><a href="module-ui-dialogs.html#.showSettings">showSettings</a></li></ul></li><li><a href="module-utils.html">utils</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-utils.html#.escapeHtml">escapeHtml</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.formatCompactNumber">formatCompactNumber</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.formatNumber">formatNumber</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.getCO2PriceClass">getCO2PriceClass</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.getFuelPriceClass">getFuelPriceClass</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.isMobileDevice">isMobileDevice</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.loadBackupInfo">loadBackupInfo</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.loadServerConfig">loadServerConfig</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.registerServiceWorker">registerServiceWorker</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.renderStars">renderStars</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.requestNotificationPermission">requestNotificationPermission</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.showNotification">showNotification</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.showSideNotification">showSideNotification</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#~formatFileSize">formatFileSize</a></li></ul></li><li><a href="module-vessel-appearance-editor.html">vessel-appearance-editor</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-vessel-appearance-editor.html#.getVesselImageOnerror">getVesselImageOnerror</a></li><li data-type='method' style='display: none;'><a href="module-vessel-appearance-editor.html#.handleVesselImageError">handleVesselImageError</a></li><li data-type='method' style='display: none;'><a href="module-vessel-appearance-editor.html#.initVesselAppearanceEditor">initVesselAppearanceEditor</a></li><li data-type='method' style='display: none;'><a href="module-vessel-appearance-editor.html#.openAppearanceEditor">openAppearanceEditor</a></li><li data-type='method' style='display: none;'><a href="module-vessel-appearance-editor.html#~buildSvgUrl">buildSvgUrl</a></li><li data-type='method' style='display: none;'><a href="module-vessel-appearance-editor.html#~closeAppearanceEditor">closeAppearanceEditor</a></li><li data-type='method' style='display: none;'><a href="module-vessel-appearance-editor.html#~getFormData">getFormData</a></li><li data-type='method' style='display: none;'><a href="module-vessel-appearance-editor.html#~handleImageSelection">handleImageSelection</a></li><li data-type='method' style='display: none;'><a href="module-vessel-appearance-editor.html#~handleRemoveCustomImage">handleRemoveCustomImage</a></li><li data-type='method' style='display: none;'><a href="module-vessel-appearance-editor.html#~resetColorValues">resetColorValues</a></li><li data-type='method' style='display: none;'><a href="module-vessel-appearance-editor.html#~resizeImage">resizeImage</a></li><li data-type='method' style='display: none;'><a href="module-vessel-appearance-editor.html#~saveAppearance">saveAppearance</a></li><li data-type='method' style='display: none;'><a href="module-vessel-appearance-editor.html#~updateSvgPreview">updateSvgPreview</a></li></ul></li><li><a href="module-vessel-building.html">vessel-building</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-vessel-building.html#.initBuildShipModal">initBuildShipModal</a></li><li data-type='method' style='display: none;'><a href="module-vessel-building.html#.openBuildShipModal">openBuildShipModal</a></li><li data-type='method' style='display: none;'><a href="module-vessel-building.html#~applyPerkEffects">applyPerkEffects</a></li><li data-type='method' style='display: none;'><a href="module-vessel-building.html#~buildPreviewUrl">buildPreviewUrl</a></li><li data-type='method' style='display: none;'><a href="module-vessel-building.html#~calculateBaseRangeFromCapacity">calculateBaseRangeFromCapacity</a></li><li data-type='method' style='display: none;'><a href="module-vessel-building.html#~calculateBaseStats">calculateBaseStats</a></li><li data-type='method' style='display: none;'><a href="module-vessel-building.html#~calculateGameBaseSpeed">calculateGameBaseSpeed</a></li><li data-type='method' style='display: none;'><a href="module-vessel-building.html#~calculatePrice">calculatePrice</a></li><li data-type='method' style='display: none;'><a href="module-vessel-building.html#~calculateSpeedForEngine">calculateSpeedForEngine</a></li><li data-type='method' style='display: none;'><a href="module-vessel-building.html#~closeBuildShipModal">closeBuildShipModal</a></li><li data-type='method' style='display: none;'><a href="module-vessel-building.html#~formatBuildTime">formatBuildTime</a></li><li data-type='method' style='display: none;'><a href="module-vessel-building.html#~interpolate">interpolate</a></li><li data-type='method' style='display: none;'><a href="module-vessel-building.html#~nextStep">nextStep</a></li><li data-type='method' style='display: none;'><a href="module-vessel-building.html#~prevStep">prevStep</a></li><li data-type='method' style='display: none;'><a href="module-vessel-building.html#~renderCurrentStep">renderCurrentStep</a></li><li data-type='method' style='display: none;'><a href="module-vessel-building.html#~renderStep1">renderStep1</a></li><li data-type='method' style='display: none;'><a href="module-vessel-building.html#~renderStep3">renderStep3</a></li><li data-type='method' style='display: none;'><a href="module-vessel-building.html#~renderStep4">renderStep4</a></li><li data-type='method' style='display: none;'><a href="module-vessel-building.html#~renderStep5">renderStep5</a></li><li data-type='method' style='display: none;'><a href="module-vessel-building.html#~submitBuild">submitBuild</a></li><li data-type='method' style='display: none;'><a href="module-vessel-building.html#~updateStatsPreview">updateStatsPreview</a></li><li data-type='method' style='display: none;'><a href="module-vessel-building.html#~updateSvgPreview">updateSvgPreview</a></li></ul></li><li><a href="module-vessel-management.html">vessel-management</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-vessel-management.html#.departAllVessels">departAllVessels</a></li><li data-type='method' style='display: none;'><a href="module-vessel-management.html#.openRepairAndDrydockDialog">openRepairAndDrydockDialog</a></li><li data-type='method' style='display: none;'><a href="module-vessel-management.html#.purchaseSingleVessel">purchaseSingleVessel</a></li><li data-type='method' style='display: none;'><a href="module-vessel-management.html#.updateLockStateFromServer">updateLockStateFromServer</a></li><li data-type='method' style='display: none;'><a href="module-vessel-management.html#.updateVesselCount">updateVesselCount</a></li><li data-type='method' style='display: none;'><a href="module-vessel-management.html#~createVesselCard">createVesselCard</a></li><li data-type='method' style='display: none;'><a href="module-vessel-management.html#~displayFilteredVessels">displayFilteredVessels</a></li><li data-type='method' style='display: none;'><a href="module-vessel-management.html#~executeDrydock">executeDrydock</a></li><li data-type='method' style='display: none;'><a href="module-vessel-management.html#~getAvailableAnchorSlots">getAvailableAnchorSlots</a></li><li data-type='method' style='display: none;'><a href="module-vessel-management.html#~getCO2EfficiencyClass">getCO2EfficiencyClass</a></li><li data-type='method' style='display: none;'><a href="module-vessel-management.html#~getCapacityDisplay">getCapacityDisplay</a></li><li data-type='method' style='display: none;'><a href="module-vessel-management.html#~getFuelEfficiencyClass">getFuelEfficiencyClass</a></li><li data-type='method' style='display: none;'><a href="module-vessel-management.html#~loadCartFromStorage">loadCartFromStorage</a></li><li data-type='method' style='display: none;'><a href="module-vessel-management.html#~loadMorePendingVessels">loadMorePendingVessels</a></li><li data-type='method' style='display: none;'><a href="module-vessel-management.html#~loadMoreVessels">loadMoreVessels</a></li><li data-type='method' style='display: none;'><a href="module-vessel-management.html#~populateDynamicFilters">populateDynamicFilters</a></li><li data-type='method' style='display: none;'><a href="module-vessel-management.html#~refreshVesselCardsIfVisible">refreshVesselCardsIfVisible</a></li><li data-type='method' style='display: none;'><a href="module-vessel-management.html#~renderDrydockTab">renderDrydockTab</a></li><li data-type='method' style='display: none;'><a href="module-vessel-management.html#~renderRepairTab">renderRepairTab</a></li><li data-type='method' style='display: none;'><a href="module-vessel-management.html#~saveCartToStorage">saveCartToStorage</a></li><li data-type='method' style='display: none;'><a href="module-vessel-management.html#~showRepairAndDrydockDialog">showRepairAndDrydockDialog</a></li><li data-type='method' style='display: none;'><a href="module-vessel-management.html#~updateCapacityDropdowns">updateCapacityDropdowns</a></li><li data-type='method' style='display: none;'><a href="module-vessel-management.html#~vesselPassesFilters">vesselPassesFilters</a></li></ul></li><li><a href="module-vessel-selling.html">vessel-selling</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-vessel-selling.html#.bulkSellVessels">bulkSellVessels</a></li><li data-type='method' style='display: none;'><a href="module-vessel-selling.html#.closeSellVesselsOverlay">closeSellVesselsOverlay</a></li><li data-type='method' style='display: none;'><a href="module-vessel-selling.html#.openSellVesselsOverlay">openSellVesselsOverlay</a></li><li data-type='method' style='display: none;'><a href="module-vessel-selling.html#.refreshVesselsForSale">refreshVesselsForSale</a></li><li data-type='method' style='display: none;'><a href="module-vessel-selling.html#.setSellFilter">setSellFilter</a></li><li data-type='method' style='display: none;'><a href="module-vessel-selling.html#.showSellCart">showSellCart</a></li><li data-type='method' style='display: none;'><a href="module-vessel-selling.html#~clearSellCartCache">clearSellCartCache</a></li><li data-type='method' style='display: none;'><a href="module-vessel-selling.html#~displaySellVessels">displaySellVessels</a></li><li data-type='method' style='display: none;'><a href="module-vessel-selling.html#~fetchAllSellPrices">fetchAllSellPrices</a></li><li data-type='method' style='display: none;'><a href="module-vessel-selling.html#~getCO2EfficiencyClass">getCO2EfficiencyClass</a></li><li data-type='method' style='display: none;'><a href="module-vessel-selling.html#~getCapacityDisplay">getCapacityDisplay</a></li><li data-type='method' style='display: none;'><a href="module-vessel-selling.html#~getFuelEfficiencyClass">getFuelEfficiencyClass</a></li><li data-type='method' style='display: none;'><a href="module-vessel-selling.html#~groupVesselsByModel">groupVesselsByModel</a></li><li data-type='method' style='display: none;'><a href="module-vessel-selling.html#~loadSellCartFromCache">loadSellCartFromCache</a></li><li data-type='method' style='display: none;'><a href="module-vessel-selling.html#~loadUserVesselsForSale">loadUserVesselsForSale</a></li><li data-type='method' style='display: none;'><a href="module-vessel-selling.html#~removeVesselSelectionFromCart">removeVesselSelectionFromCart</a></li><li data-type='method' style='display: none;'><a href="module-vessel-selling.html#~saveSellCartToCache">saveSellCartToCache</a></li><li data-type='method' style='display: none;'><a href="module-vessel-selling.html#~updateBulkSellButton">updateBulkSellButton</a></li><li data-type='method' style='display: none;'><a href="module-vessel-selling.html#~updateSelectButtonState">updateSelectButtonState</a></li><li data-type='method' style='display: none;'><a href="module-vessel-selling.html#~updateVesselSelectionInCart">updateVesselSelectionInCart</a></li></ul></li></ul></li><li class="nav-list-toggle"><a>Global</a><ul style="display: none;"><li><a href="global.html#buildNav">buildNav</a></li><li><a href="global.html#deleteAllLogs">deleteAllLogs</a></li><li><a href="global.html#escapeCSVFormula">escapeCSVFormula</a></li><li><a href="global.html#express">express</a></li><li><a href="global.html#flushAllToDisk">flushAllToDisk</a></li><li><a href="global.html#formatDetailsAsTXT">formatDetailsAsTXT</a></li><li><a href="global.html#formatFileSize">formatFileSize</a></li><li><a href="global.html#formatLogsAsCSV">formatLogsAsCSV</a></li><li><a href="global.html#formatLogsAsTXT">formatLogsAsTXT</a></li><li><a href="global.html#fs">fs</a></li><li><a href="global.html#generateContainerSvg">generateContainerSvg</a></li><li><a href="global.html#generateTankerSvg">generateTankerSvg</a></li><li><a href="global.html#generateVesselSvg">generateVesselSvg</a></li><li><a href="global.html#getCategoryFromAction">getCategoryFromAction</a></li><li><a href="global.html#getLogEntries">getLogEntries</a></li><li><a href="global.html#getLogFilePath">getLogFilePath</a></li><li><a href="global.html#getLogFileSize">getLogFileSize</a></li><li><a href="global.html#getLogsFromCache">getLogsFromCache</a></li><li><a href="global.html#getSourceFromAction">getSourceFromAction</a></li><li><a href="global.html#getTransactionType">getTransactionType</a></li><li><a href="global.html#initialize">initialize</a></li><li><a href="global.html#isContainerVessel">isContainerVessel</a></li><li><a href="global.html#isDepartInProgress">isDepartInProgress</a></li><li><a href="global.html#loadBaseContainerSvg">loadBaseContainerSvg</a></li><li><a href="global.html#loadBaseTankerSvg">loadBaseTankerSvg</a></li><li><a href="global.html#loadLogsFromDisk">loadLogsFromDisk</a></li><li><a href="global.html#lockBulkBuyButton">lockBulkBuyButton</a></li><li><a href="global.html#lockCo2Button">lockCo2Button</a></li><li><a href="global.html#lockCoopButtons">lockCoopButtons</a></li><li><a href="global.html#lockDepartButton">lockDepartButton</a></li><li><a href="global.html#lockDrydockButton">lockDrydockButton</a></li><li><a href="global.html#lockFuelButton">lockFuelButton</a></li><li><a href="global.html#lockRepairButton">lockRepairButton</a></li><li><a href="global.html#logAutopilotAction">logAutopilotAction</a></li><li><a href="global.html#publish">publish</a></li><li><a href="global.html#searchInObject">searchInObject</a></li><li><a href="global.html#showAnchorTimer">showAnchorTimer</a></li><li><a href="global.html#shutdown">shutdown</a></li><li><a href="global.html#unlockBulkBuyButton">unlockBulkBuyButton</a></li><li><a href="global.html#unlockCo2Button">unlockCo2Button</a></li><li><a href="global.html#unlockCoopButtons">unlockCoopButtons</a></li><li><a href="global.html#unlockDepartButton">unlockDepartButton</a></li><li><a href="global.html#unlockDrydockButton">unlockDrydockButton</a></li><li><a href="global.html#unlockFuelButton">unlockFuelButton</a></li><li><a href="global.html#unlockRepairButton">unlockRepairButton</a></li><li><a href="global.html#writeLogsToDisk">writeLogsToDisk</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">public/js/modules/stock-manager.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @fileoverview Stock Manager Module
 *
 * Provides stock market functionality with TradingView charts including:
 * - My Portfolio: Own company stock with chart
 * - Market: Browse all listed companies
 * - Investments: Companies user has invested in
 * - Investors: Who holds user's stock
 *
 * Chart Features:
 * - Timeframe selection (1D, 1W, 1M, 3M, 1Y, ALL)
 * - Moving Averages (MA7, MA25, MA99)
 * - Line/Area chart toggle
 * - Price statistics (ATH, ATL, Change)
 *
 * @module stock-manager
 */

import { getStockFinanceOverview, getStockMarket, purchaseStock, getRecentIpos, increaseStockForSale, getStockPurchaseTimes } from './api.js';
import { showNotification, formatNumber } from './utils.js';
import { showPurchaseDialog } from './ui-dialogs.js';

// State
let currentChart = null;
let currentUserId = null;
let userHasIPO = false;
let financeData = null;

// Lazy loading state for market list
let marketState = {
  currentPage: 1,
  currentFilter: 'top',
  currentSearch: '',
  isLoading: false,
  hasMore: true,
  scrollContainer: null,
  scrollHandler: null
};

// Chart state
let chartState = {
  data: [],
  filteredData: [],
  timeframe: 'ALL',
  chartType: 'area',
  showMA7: false,
  showMA25: true,
  showMA99: false,
  maSeries: {}
};

// Chart color constants
export const CHART_COLORS = {
  up: '#10b981',
  down: '#ef4444',
  same: '#6b7280',
  ma7: '#fbbf24',
  ma25: '#3b82f6',
  ma99: '#a855f7'
};

// Global tooltip element
let globalTooltip = null;

/**
 * Initialize global tooltip system
 */
function initTooltipSystem() {
  if (globalTooltip) return;

  globalTooltip = document.createElement('div');
  globalTooltip.id = 'stockGlobalTooltip';
  globalTooltip.style.cssText = `
    position: fixed;
    padding: 4px 8px;
    background: var(--color-bg-primary);
    border: 1px solid var(--color-border);
    border-radius: 4px;
    font-size: 11px;
    color: var(--color-text-primary);
    white-space: nowrap;
    pointer-events: none;
    z-index: 999999;
    box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.15s ease;
  `;
  document.body.appendChild(globalTooltip);
}

/**
 * Setup tooltip handlers for elements with data-tooltip
 */
function setupTooltips(container) {
  initTooltipSystem();

  const elements = container.querySelectorAll('[data-tooltip]');
  elements.forEach(el => {
    el.addEventListener('mouseenter', () => {
      const text = el.getAttribute('data-tooltip');
      if (!text || !globalTooltip) return;

      globalTooltip.textContent = text;
      globalTooltip.style.opacity = '1';
      globalTooltip.style.visibility = 'visible';

      const rect = el.getBoundingClientRect();
      globalTooltip.style.left = rect.left + rect.width / 2 - globalTooltip.offsetWidth / 2 + 'px';
      globalTooltip.style.top = rect.top - globalTooltip.offsetHeight - 6 + 'px';
    });

    el.addEventListener('mouseleave', () => {
      if (globalTooltip) {
        globalTooltip.style.opacity = '0';
        globalTooltip.style.visibility = 'hidden';
      }
    });
  });
}

// Timeframe options in seconds
const TIMEFRAMES = {
  '1D': 86400,
  '1W': 604800,
  '1M': 2592000,
  '3M': 7776000,
  '1Y': 31536000,
  'ALL': Infinity
};

/**
 * Initialize the stock manager module
 * @param {number} userId - Current user's ID
 * @param {boolean} hasIPO - Whether user has completed IPO
 */
export function initStockManager(userId, hasIPO) {
  currentUserId = userId;
  userHasIPO = hasIPO;

  // Setup close button
  const closeBtn = document.getElementById('closeStockManagerBtn');
  if (closeBtn) {
    closeBtn.addEventListener('click', closeStockManager);
  }

  // Setup tab buttons
  const tabBtns = document.querySelectorAll('.stock-tab-btn');
  tabBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      const tab = btn.dataset.tab;
      switchTab(tab);
    });
  });

  // Setup company detail back button
  const backBtn = document.getElementById('stockCompanyBackBtn');
  if (backBtn) {
    backBtn.addEventListener('click', closeCompanyDetail);
  }

  const closeCompanyBtn = document.getElementById('closeStockCompanyBtn');
  if (closeCompanyBtn) {
    closeCompanyBtn.addEventListener('click', closeCompanyDetail);
  }

  console.log('[Stock Manager] Initialized');
}

/**
 * Show the stock manager overlay
 */
export async function showStockManager() {
  const overlay = document.getElementById('stockManagerOverlay');
  if (!overlay) {
    console.error('[Stock Manager] Overlay not found');
    return;
  }

  overlay.classList.remove('hidden');

  // Load initial data and show portfolio tab
  await switchTab('portfolio');
}

/**
 * Close the stock manager overlay
 */
export function closeStockManager() {
  const overlay = document.getElementById('stockManagerOverlay');
  if (overlay) {
    overlay.classList.add('hidden');
  }

  // Cleanup chart
  destroyChart();
}

/**
 * Switch between tabs
 * @param {string} tab - Tab name (portfolio, market, investments, investors)
 */
async function switchTab(tab) {
  // Update tab button states
  const tabBtns = document.querySelectorAll('.stock-tab-btn');
  tabBtns.forEach(btn => {
    btn.classList.toggle('active', btn.dataset.tab === tab);
  });

  // Load content for the selected tab
  const content = document.getElementById('stockManagerContent');
  if (!content) return;

  content.innerHTML = '&lt;div class="stock-loading">Loading...&lt;/div>';

  try {
    switch (tab) {
      case 'portfolio':
        await loadPortfolio(content);
        break;
      case 'market':
        await loadMarket(content);
        break;
      case 'investments':
        await loadInvestments(content);
        break;
      case 'investors':
        await loadInvestors(content);
        break;
      case 'ipo-alerts':
        await loadIpoAlerts(content);
        break;
    }
  } catch (error) {
    console.error(`[Stock Manager] Error loading ${tab}:`, error);
    content.innerHTML = '&lt;div class="stock-error">Failed to load data&lt;/div>';
  }
}

/**
 * Calculate the price tier for stock increase based on total shares issued
 * IPO starts with 25k shares, so first purchase is 25k->50k
 * Price doubles with each 25k tranche:
 * - 25k-50k: 6.25M
 * - 50k-75k: 12.5M
 * - 75k-100k: 25M
 * - 100k-125k: 50M
 * - 125k-150k: 100M
 * - etc. (doubles each tier, no upper limit)
 *
 * @param {number} totalShares - Total shares currently issued
 * @returns {Object} Price info with tier, price, and next tier info
 */
function calculateSharePriceTier(totalShares) {
  const SHARES_PER_TRANCHE = 25000;
  const BASE_PRICE = 6250000; // 6.25M for first increase (25k->50k)

  // IPO gives 25k shares, so tier 0 = 25k-50k, tier 1 = 50k-75k, etc.
  // Calculate which tier we're at based on total shares (0-indexed from 25k)
  const currentTier = Math.max(0, Math.floor((totalShares - SHARES_PER_TRANCHE) / SHARES_PER_TRANCHE));

  // Price doubles each tier
  const currentPrice = BASE_PRICE * Math.pow(2, currentTier);

  // Build tier history for display (starts at 25k since IPO gives first 25k)
  const tiers = [];
  for (let i = 0; i &lt;= currentTier; i++) {
    const tierPrice = BASE_PRICE * Math.pow(2, i);
    const tierStart = (i + 1) * SHARES_PER_TRANCHE; // +1 because IPO is 0-25k
    const tierEnd = (i + 2) * SHARES_PER_TRANCHE;
    tiers.push({
      tier: i + 1,
      range: `${formatNumber(tierStart)}-${formatNumber(tierEnd)}`,
      price: tierPrice,
      isCurrent: i === currentTier
    });
  }

  // Add next tier for reference
  const nextTierPrice = BASE_PRICE * Math.pow(2, currentTier + 1);
  const nextTierStart = (currentTier + 2) * SHARES_PER_TRANCHE;
  const nextTierEnd = (currentTier + 3) * SHARES_PER_TRANCHE;

  return {
    currentTier: currentTier + 1,
    currentPrice,
    sharesPerPurchase: SHARES_PER_TRANCHE,
    tiers,
    nextTier: {
      tier: currentTier + 2,
      range: `${formatNumber(nextTierStart)}-${formatNumber(nextTierEnd)}`,
      price: nextTierPrice
    }
  };
}

/**
 * Handle click on increase shares for sale button
 * Opens modal dialog with price tier info
 */
async function handleIncreaseSharesClick() {
  const stock = financeData?.data?.stock;

  if (!stock) {
    showNotification('Unable to get stock info', 'error');
    return;
  }

  // Calculate shares in circulation (total - for sale = in circulation with other players)
  // Actually, total shares = shares that exist, for_sale = available to buy
  // The pricing is based on total shares issued, not circulation
  const totalShares = stock.stock_total || 0;
  const forSale = stock.stock_for_sale || 0;

  // Calculate price based on total shares issued
  const priceInfo = calculateSharePriceTier(totalShares);

  // Create modal
  showIncreaseSharesModal(priceInfo, totalShares, forSale);
}

/**
 * Create a tier row element for the modal
 * @param {Object} tier - Tier data
 * @param {boolean} isNext - Whether this is the next tier (not current)
 * @returns {HTMLElement} Tier row element
 */
function createTierRow(tier, isNext = false) {
  const row = document.createElement('div');
  row.className = `stock-tier-row${tier.isCurrent ? ' current' : ''}${isNext ? ' next' : ''}`;

  const rangeSpan = document.createElement('span');
  rangeSpan.className = 'stock-tier-range';
  rangeSpan.textContent = tier.range;
  row.appendChild(rangeSpan);

  const priceSpan = document.createElement('span');
  priceSpan.className = 'stock-tier-price';
  priceSpan.textContent = `$${formatNumber(tier.price)}`;
  row.appendChild(priceSpan);

  if (tier.isCurrent || isNext) {
    const badge = document.createElement('span');
    badge.className = `stock-tier-badge${isNext ? ' next' : ''}`;
    badge.textContent = isNext ? 'NEXT' : 'CURRENT';
    row.appendChild(badge);
  }

  return row;
}

/**
 * Show the increase shares modal with price tier information
 * @param {Object} priceInfo - Price tier calculation result
 * @param {number} totalShares - Total shares issued
 * @param {number} forSale - Shares currently for sale
 */
function showIncreaseSharesModal(priceInfo, totalShares, forSale) {
  // Remove existing modal if any
  const existingModal = document.getElementById('increaseSharesModal');
  if (existingModal) {
    existingModal.remove();
  }

  // Create modal overlay
  const modal = document.createElement('div');
  modal.id = 'increaseSharesModal';
  modal.className = 'stock-increase-modal-overlay';

  // Create modal container
  const modalContainer = document.createElement('div');
  modalContainer.className = 'stock-increase-modal';

  // Header
  const header = document.createElement('div');
  header.className = 'stock-increase-modal-header';

  const title = document.createElement('h3');
  title.textContent = 'Issue New Shares';
  header.appendChild(title);

  const closeBtn = document.createElement('button');
  closeBtn.className = 'close-btn';
  const closeBtnSpan = document.createElement('span');
  closeBtnSpan.textContent = 'x';
  closeBtn.appendChild(closeBtnSpan);
  closeBtn.onmouseover = () => { closeBtnSpan.style.animation = 'wobble 0.5s ease-in-out'; };
  closeBtn.onmouseout = () => { closeBtnSpan.style.animation = 'none'; };
  header.appendChild(closeBtn);

  modalContainer.appendChild(header);

  // Body
  const body = document.createElement('div');
  body.className = 'stock-increase-modal-body';

  // Stats info
  const infoDiv = document.createElement('div');
  infoDiv.className = 'stock-increase-info';

  const stat1 = document.createElement('div');
  stat1.className = 'stock-increase-stat';
  const stat1Label = document.createElement('span');
  stat1Label.className = 'label';
  stat1Label.textContent = 'Total Shares Issued';
  const stat1Value = document.createElement('span');
  stat1Value.className = 'value';
  stat1Value.textContent = formatNumber(totalShares);
  stat1.appendChild(stat1Label);
  stat1.appendChild(stat1Value);
  infoDiv.appendChild(stat1);

  const stat2 = document.createElement('div');
  stat2.className = 'stock-increase-stat';
  const stat2Label = document.createElement('span');
  stat2Label.className = 'label';
  stat2Label.textContent = 'Currently For Sale';
  const stat2Value = document.createElement('span');
  stat2Value.className = 'value';
  stat2Value.textContent = formatNumber(forSale);
  stat2.appendChild(stat2Label);
  stat2.appendChild(stat2Value);
  infoDiv.appendChild(stat2);

  body.appendChild(infoDiv);

  // Tier section
  const tierSection = document.createElement('div');
  tierSection.className = 'stock-tier-section';

  const tierTitle = document.createElement('h4');
  tierTitle.textContent = 'Price Tiers (25,000 shares each)';
  tierSection.appendChild(tierTitle);

  const tierList = document.createElement('div');
  tierList.className = 'stock-tier-list';

  // Add last 3 tiers
  const recentTiers = priceInfo.tiers.slice(-3);
  recentTiers.forEach(tier => {
    tierList.appendChild(createTierRow(tier));
  });

  // Add next tier
  tierList.appendChild(createTierRow(priceInfo.nextTier, true));

  tierSection.appendChild(tierList);
  body.appendChild(tierSection);

  // Purchase section
  const purchaseDiv = document.createElement('div');
  purchaseDiv.className = 'stock-increase-purchase';

  const purchaseInfo = document.createElement('div');
  purchaseInfo.className = 'stock-increase-purchase-info';

  const amountSpan = document.createElement('span');
  amountSpan.className = 'stock-increase-amount';
  amountSpan.textContent = `+${formatNumber(priceInfo.sharesPerPurchase)} shares`;
  purchaseInfo.appendChild(amountSpan);

  const priceSpan = document.createElement('span');
  priceSpan.className = 'stock-increase-price';
  priceSpan.textContent = 'Cost: ';
  const priceStrong = document.createElement('strong');
  priceStrong.textContent = `$${formatNumber(priceInfo.currentPrice)}`;
  priceSpan.appendChild(priceStrong);
  purchaseInfo.appendChild(priceSpan);

  purchaseDiv.appendChild(purchaseInfo);

  const confirmBtn = document.createElement('button');
  confirmBtn.id = 'confirmIncreaseShares';
  confirmBtn.className = 'text-btn';
  confirmBtn.textContent = 'Issue Shares';
  purchaseDiv.appendChild(confirmBtn);

  body.appendChild(purchaseDiv);

  modalContainer.appendChild(body);
  modal.appendChild(modalContainer);
  document.body.appendChild(modal);

  // Close handlers
  closeBtn.addEventListener('click', () => modal.remove());
  modal.addEventListener('click', (e) => {
    if (e.target === modal) modal.remove();
  });

  // Confirm handler
  confirmBtn.addEventListener('click', async () => {
    confirmBtn.disabled = true;
    confirmBtn.textContent = 'Processing...';

    try {
      const result = await increaseStockForSale();

      if (result.error) {
        showNotification(`Failed: ${result.error}`, 'error');
        confirmBtn.disabled = false;
        confirmBtn.textContent = 'Issue Shares';
        return;
      }

      showNotification(`Successfully issued ${formatNumber(priceInfo.sharesPerPurchase)} new shares!`, 'success');
      modal.remove();

      // Reload portfolio to show updated values
      switchTab('portfolio');
    } catch (error) {
      console.error('[Stock Manager] Error increasing shares:', error);
      showNotification('Failed to issue shares', 'error');
      confirmBtn.disabled = false;
      confirmBtn.textContent = 'Issue Shares';
    }
  });
}

/**
 * Load portfolio tab content
 * @param {HTMLElement} container - Content container
 */
async function loadPortfolio(container) {
  // Fetch own finance data
  financeData = await getStockFinanceOverview(currentUserId);

  if (!financeData || !financeData.data) {
    container.innerHTML = '&lt;div class="stock-error">Failed to load portfolio data&lt;/div>';
    return;
  }

  const stock = financeData.data.stock;

  if (!userHasIPO || !stock) {
    container.innerHTML = `
      &lt;div class="stock-no-ipo">
        &lt;div class="stock-no-ipo-icon">&amp;#x1F4CA;&lt;/div>
        &lt;h3>IPO Required&lt;/h3>
        &lt;p>Complete your IPO to list your company on the stock market and view your portfolio.&lt;/p>
      &lt;/div>
    `;
    return;
  }

  const trend = stock.stock_trend || 'same';

  // Calculate statistics
  const stats = calculatePriceStats(stock.history || []);

  container.innerHTML = `
    &lt;div class="stock-portfolio">
      ${renderChartSection('portfolioChart', stock, stats, { stockForSale: stock.stock_for_sale, stockTotal: stock.stock_total || 0, showIncreaseButton: userHasIPO })}
    &lt;/div>
  `;

  // Setup increase shares button click handler
  const increaseBtn = container.querySelector('[data-action="increase"]');
  if (increaseBtn) {
    increaseBtn.addEventListener('click', handleIncreaseSharesClick);
  }

  // Create chart
  if (stock.history &amp;&amp; stock.history.length > 0) {
    initializeChart('portfolioChart', stock.history, CHART_COLORS[trend]);
  }
}

/**
 * Render the chart section with toolbar and stats
 * @param {string} containerId - The container element ID for the chart
 * @param {Object} stock - Stock data object
 * @param {Object} stats - Calculated price statistics
 * @param {Object} [options] - Optional extra data (stockForSale, stockTotal, ourShares)
 */
export function renderChartSection(containerId, stock, stats, options = {}) {
  const trend = stock.stock_trend || 'same';
  const trendIcon = trend === 'up' ? '&amp;#x25B2;' : trend === 'down' ? '&amp;#x25BC;' : '&amp;#x25CF;';
  const changeClass = stats.change >= 0 ? 'positive' : 'negative';
  const changeSign = stats.change >= 0 ? '+' : '';

  // Build shares legend item if stock data provided
  let sharesLegendItem = '';
  let increaseLegendItem = '';
  if (options.stockForSale !== undefined &amp;&amp; options.stockTotal !== undefined) {
    sharesLegendItem = `
        &lt;div class="stock-legend-item stock-legend-shares">
          &lt;span class="stock-legend-label">Shares (Sale/Total)&lt;/span>
          &lt;span class="stock-legend-value">${formatNumber(options.stockForSale)} / ${formatNumber(options.stockTotal)}&lt;/span>
        &lt;/div>`;
    // Show increase button as separate column if user can increase shares for sale
    if (options.showIncreaseButton) {
      increaseLegendItem = `
        &lt;div class="stock-legend-item stock-legend-increase">
          &lt;span class="stock-legend-label">Increase&lt;/span>
          &lt;span class="stock-increase-emoji" data-action="increase" title="Issue 25,000 new shares">&amp;#10133;&lt;/span>
        &lt;/div>`;
    }
  }

  // Build our shares legend item if provided
  let ourSharesLegendItem = '';
  if (options.ourShares > 0) {
    ourSharesLegendItem = `
        &lt;div class="stock-legend-item">
          &lt;span class="stock-legend-label">Yours&lt;/span>
          &lt;span class="stock-legend-value">${formatNumber(options.ourShares)}&lt;/span>
        &lt;/div>`;
  }

  return `
    &lt;div class="stock-chart-wrapper">
      &lt;div class="stock-chart-toolbar">
        &lt;div class="stock-chart-toolbar-left">
          &lt;button class="text-btn" data-action="timeframe" data-tf="1D">1D&lt;/button>
          &lt;button class="text-btn" data-action="timeframe" data-tf="1W">1W&lt;/button>
          &lt;button class="text-btn" data-action="timeframe" data-tf="1M">1M&lt;/button>
          &lt;button class="text-btn" data-action="timeframe" data-tf="3M">3M&lt;/button>
          &lt;button class="text-btn" data-action="timeframe" data-tf="1Y">1Y&lt;/button>
          &lt;button class="text-btn active" data-action="timeframe" data-tf="ALL">ALL&lt;/button>
        &lt;/div>
        &lt;div class="stock-chart-toolbar-right">
          &lt;button class="text-btn" data-action="ma" data-ma="7" data-tooltip="7-period MA">MA7&lt;/button>
          &lt;button class="text-btn active" data-action="ma" data-ma="25" data-tooltip="25-period MA">MA25&lt;/button>
          &lt;button class="text-btn" data-action="ma" data-ma="99" data-tooltip="99-period MA">MA99&lt;/button>
          &lt;span style="color: var(--color-text-muted); margin: 0 4px;">|&lt;/span>
          &lt;button class="text-btn active" data-action="chart-type" data-type="area" data-tooltip="Area Chart">&amp;#x1F4C8;&lt;/button>
          &lt;button class="text-btn" data-action="chart-type" data-type="line" data-tooltip="Line Chart">&amp;#x1F4C9;&lt;/button>
        &lt;/div>
      &lt;/div>
      &lt;div class="stock-chart-container" id="${containerId}">&lt;/div>
      &lt;div class="stock-price-legend">
        &lt;div class="stock-legend-item">
          &lt;span class="stock-legend-label">Current&lt;/span>
          &lt;span class="stock-legend-value">$${formatNumber(stock.stock)} &lt;span class="trend-${trend}">${trendIcon}&lt;/span>&lt;/span>
        &lt;/div>
        &lt;div class="stock-legend-item">
          &lt;span class="stock-legend-label">Change&lt;/span>
          &lt;span class="stock-legend-value ${changeClass}">${changeSign}${stats.changePercent.toFixed(2)}%&lt;/span>
        &lt;/div>
        &lt;div class="stock-legend-item">
          &lt;span class="stock-legend-label">ATH&lt;/span>
          &lt;span class="stock-legend-value">$${formatNumber(stats.ath)}&lt;/span>
        &lt;/div>
        &lt;div class="stock-legend-item">
          &lt;span class="stock-legend-label">ATL&lt;/span>
          &lt;span class="stock-legend-value">$${formatNumber(stats.atl)}&lt;/span>
        &lt;/div>
        &lt;div class="stock-legend-item">
          &lt;span class="stock-legend-label">Avg&lt;/span>
          &lt;span class="stock-legend-value">$${formatNumber(stats.avg)}&lt;/span>
        &lt;/div>${sharesLegendItem}${ourSharesLegendItem}${increaseLegendItem}
      &lt;/div>
    &lt;/div>
  `;
}

/**
 * Calculate price statistics from history data
 */
export function calculatePriceStats(history) {
  if (!history || history.length === 0) {
    return { ath: 0, atl: 0, avg: 0, change: 0, changePercent: 0 };
  }

  const values = history.map(h => parseFloat(h.value));
  const sortedByTime = [...history].sort((a, b) => a.time - b.time);

  const ath = Math.max(...values);
  const atl = Math.min(...values);
  const avg = values.reduce((a, b) => a + b, 0) / values.length;

  const firstValue = parseFloat(sortedByTime[0].value);
  const lastValue = parseFloat(sortedByTime[sortedByTime.length - 1].value);
  const change = lastValue - firstValue;
  const changePercent = firstValue > 0 ? (change / firstValue) * 100 : 0;

  return { ath, atl, avg, change, changePercent };
}

/**
 * Initialize chart with toolbar handlers
 */
export function initializeChart(containerId, historyData, trendColor) {
  // Parse and validate data
  const parsedData = historyData.map(item => ({
    time: item.time,
    value: parseFloat(item.value)
  }));

  // Check for invalid values and log them (don't silently hide)
  const invalidEntries = parsedData.filter(d => isNaN(d.value) || d.value === null);
  if (invalidEntries.length > 0) {
    console.warn('[Stock Manager] Chart data contains invalid values:', invalidEntries);
  }

  // Sort by time
  const sortedData = parsedData
    .filter(d => !isNaN(d.value) &amp;&amp; d.value !== null)
    .sort((a, b) => a.time - b.time);

  // LightweightCharts requires unique timestamps - deduplicate
  // API sometimes returns duplicate timestamps which crashes the chart
  const seenTimes = new Set();
  chartState.data = sortedData.filter(d => {
    if (seenTimes.has(d.time)) {
      return false;
    }
    seenTimes.add(d.time);
    return true;
  });

  if (sortedData.length !== chartState.data.length) {
    console.debug(`[Stock Manager] Removed ${sortedData.length - chartState.data.length} duplicate timestamps from chart data`);
  }

  chartState.filteredData = [...chartState.data];
  chartState.timeframe = 'ALL';
  chartState.showMA25 = true;

  // Create the chart
  createEnhancedChart(containerId, trendColor);

  // Setup toolbar event handlers
  setupChartToolbar(containerId, trendColor);
}

/**
 * Setup chart toolbar event handlers
 */
function setupChartToolbar(containerId, trendColor) {
  // Timeframe buttons
  document.querySelectorAll('[data-action="timeframe"]').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('[data-action="timeframe"]').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      chartState.timeframe = btn.dataset.tf;
      filterDataByTimeframe();
      updateChart(containerId, trendColor);
    });
  });

  // MA toggle buttons
  document.querySelectorAll('[data-action="ma"]').forEach(btn => {
    btn.addEventListener('click', () => {
      btn.classList.toggle('active');
      const ma = btn.dataset.ma;
      if (ma === '7') chartState.showMA7 = btn.classList.contains('active');
      if (ma === '25') chartState.showMA25 = btn.classList.contains('active');
      if (ma === '99') chartState.showMA99 = btn.classList.contains('active');
      updateMovingAverages();
    });
  });

  // Chart type buttons
  document.querySelectorAll('[data-action="chart-type"]').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('[data-action="chart-type"]').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      chartState.chartType = btn.dataset.type;
      updateChart(containerId, trendColor);
    });
  });

  // Setup tooltips for buttons with data-tooltip attribute
  const chartWrapper = document.getElementById(containerId)?.closest('.stock-chart-wrapper');
  if (chartWrapper) {
    setupTooltips(chartWrapper);
  }
}

/**
 * Filter data by selected timeframe
 */
function filterDataByTimeframe() {
  const now = Math.floor(Date.now() / 1000);
  const seconds = TIMEFRAMES[chartState.timeframe];

  if (seconds === Infinity) {
    chartState.filteredData = [...chartState.data];
  } else {
    const cutoff = now - seconds;
    chartState.filteredData = chartState.data.filter(d => d.time >= cutoff);
  }

  // Ensure we have at least 2 data points
  if (chartState.filteredData.length &lt; 2 &amp;&amp; chartState.data.length >= 2) {
    chartState.filteredData = chartState.data.slice(-2);
  }
}

/**
 * Create enhanced chart with all features
 */
function createEnhancedChart(containerId, trendColor) {
  destroyChart();

  const container = document.getElementById(containerId);
  if (!container || !window.LightweightCharts) {
    console.error('[Stock Manager] Chart container or library not found');
    return;
  }

  const chart = window.LightweightCharts.createChart(container, {
    width: container.clientWidth,
    height: 350,
    layout: {
      background: { type: 'solid', color: 'transparent' },
      textColor: '#9ca3af',
      attributionLogo: false
    },
    grid: {
      vertLines: { color: 'rgba(55, 65, 81, 0.5)' },
      horzLines: { color: 'rgba(55, 65, 81, 0.5)' }
    },
    rightPriceScale: {
      borderColor: '#374151',
      scaleMargins: { top: 0.1, bottom: 0.1 }
    },
    timeScale: {
      borderColor: '#374151',
      timeVisible: true,
      secondsVisible: false,
      tickMarkFormatter: (time) => {
        const date = new Date(time * 1000);
        return `${date.getMonth() + 1}/${date.getDate()}`;
      }
    },
    crosshair: {
      mode: window.LightweightCharts.CrosshairMode.Normal,
      vertLine: {
        color: 'rgba(255, 255, 255, 0.4)',
        width: 1,
        style: 2,
        labelBackgroundColor: '#374151'
      },
      horzLine: {
        color: 'rgba(255, 255, 255, 0.4)',
        width: 1,
        style: 2,
        labelBackgroundColor: '#374151'
      }
    },
    handleScroll: { mouseWheel: true, pressedMouseMove: true },
    handleScale: { axisPressedMouseMove: true, mouseWheel: true, pinch: true }
  });

  // Create main series based on chart type
  let mainSeries;
  const seriesOptions = chartState.chartType === 'area' ? {
    lineColor: trendColor,
    topColor: trendColor + '60',
    bottomColor: trendColor + '05',
    lineWidth: 2,
    crosshairMarkerVisible: true,
    crosshairMarkerRadius: 4,
    crosshairMarkerBackgroundColor: trendColor
  } : {
    color: trendColor,
    lineWidth: 2,
    crosshairMarkerVisible: true,
    crosshairMarkerRadius: 4,
    crosshairMarkerBackgroundColor: trendColor
  };

  // v4+ vs v3 API compatibility
  if (chartState.chartType === 'area') {
    if (typeof chart.addAreaSeries === 'function') {
      mainSeries = chart.addAreaSeries(seriesOptions);
    } else {
      mainSeries = chart.addSeries(window.LightweightCharts.AreaSeries, seriesOptions);
    }
  } else {
    if (typeof chart.addLineSeries === 'function') {
      mainSeries = chart.addLineSeries(seriesOptions);
    } else {
      mainSeries = chart.addSeries(window.LightweightCharts.LineSeries, seriesOptions);
    }
  }

  mainSeries.setData(chartState.filteredData);

  // Create MA series
  chartState.maSeries = {};
  createMASeries(chart, 7, CHART_COLORS.ma7, chartState.showMA7);
  createMASeries(chart, 25, CHART_COLORS.ma25, chartState.showMA25);
  createMASeries(chart, 99, CHART_COLORS.ma99, chartState.showMA99);

  chart.timeScale().fitContent();

  // Handle resize
  const resizeObserver = new ResizeObserver(entries => {
    const { width } = entries[0].contentRect;
    chart.applyOptions({ width });
  });
  resizeObserver.observe(container);

  currentChart = { chart, mainSeries, resizeObserver, containerId, trendColor };
}

/**
 * Create a Moving Average series
 */
function createMASeries(chart, period, color, visible) {
  const maData = calculateMA(chartState.filteredData, period);

  let maSeries;
  const options = {
    color: color,
    lineWidth: 1,
    priceLineVisible: false,
    lastValueVisible: false,
    crosshairMarkerVisible: false
  };

  if (typeof chart.addLineSeries === 'function') {
    maSeries = chart.addLineSeries(options);
  } else {
    maSeries = chart.addSeries(window.LightweightCharts.LineSeries, options);
  }

  if (visible &amp;&amp; maData.length > 0) {
    maSeries.setData(maData);
  }

  chartState.maSeries[`ma${period}`] = { series: maSeries, visible };
}

/**
 * Calculate Moving Average
 */
function calculateMA(data, period) {
  if (data.length &lt; period) return [];

  const result = [];
  for (let i = period - 1; i &lt; data.length; i++) {
    let sum = 0;
    for (let j = 0; j &lt; period; j++) {
      sum += data[i - j].value;
    }
    result.push({
      time: data[i].time,
      value: sum / period
    });
  }
  return result;
}

/**
 * Update Moving Averages visibility
 */
function updateMovingAverages() {
  if (!currentChart) return;

  const periods = [
    { key: 'ma7', period: 7, show: chartState.showMA7 },
    { key: 'ma25', period: 25, show: chartState.showMA25 },
    { key: 'ma99', period: 99, show: chartState.showMA99 }
  ];

  periods.forEach(({ key, period, show }) => {
    const ma = chartState.maSeries[key];
    if (ma) {
      if (show) {
        const maData = calculateMA(chartState.filteredData, period);
        ma.series.setData(maData);
      } else {
        ma.series.setData([]);
      }
      ma.visible = show;
    }
  });
}

/**
 * Update chart with new data/settings
 */
function updateChart(containerId, trendColor) {
  if (currentChart) {
    createEnhancedChart(containerId, trendColor);
  }
}

/**
 * Reset market state for new filter/search
 */
function resetMarketState() {
  marketState.currentPage = 1;
  marketState.isLoading = false;
  marketState.hasMore = true;
}

/**
 * Setup scroll handler for infinite scroll
 * @param {HTMLElement} scrollContainer - The scrollable container
 */
function setupMarketScrollHandler(scrollContainer) {
  // Remove existing handler if any
  if (marketState.scrollHandler &amp;&amp; marketState.scrollContainer) {
    marketState.scrollContainer.removeEventListener('scroll', marketState.scrollHandler);
  }

  marketState.scrollContainer = scrollContainer;

  marketState.scrollHandler = () => {
    if (marketState.isLoading || !marketState.hasMore) return;

    const { scrollTop, scrollHeight, clientHeight } = scrollContainer;
    const scrollThreshold = 100; // pixels from bottom to trigger load

    if (scrollTop + clientHeight >= scrollHeight - scrollThreshold) {
      loadMoreMarketItems();
    }
  };

  scrollContainer.addEventListener('scroll', marketState.scrollHandler);
}

/**
 * Load more market items (next page)
 */
async function loadMoreMarketItems() {
  if (marketState.isLoading || !marketState.hasMore) return;

  marketState.currentPage++;
  await loadMarketList(marketState.currentFilter, marketState.currentPage, marketState.currentSearch, true);
}

/**
 * Load market tab content
 * @param {HTMLElement} container - Content container
 */
async function loadMarket(container) {
  // Reset market state when loading tab
  resetMarketState();
  marketState.currentFilter = 'top';
  marketState.currentSearch = '';

  container.innerHTML = `
    &lt;div class="stock-market">
      &lt;div class="stock-market-filters">
        &lt;button class="text-btn active" data-action="filter" data-filter="top">Top&lt;/button>
        &lt;button class="text-btn" data-action="filter" data-filter="low">Low&lt;/button>
        &lt;button class="text-btn" data-action="filter" data-filter="activity">Activity&lt;/button>
        &lt;button class="text-btn" data-action="filter" data-filter="recent-ipo">Recent IPO&lt;/button>
        &lt;input type="text" class="stock-search-input" placeholder="Search company..." id="stockSearchInput">
      &lt;/div>
      &lt;div class="stock-market-list" id="stockMarketList">
        &lt;div class="stock-loading">Loading...&lt;/div>
      &lt;/div>
    &lt;/div>
  `;

  // Setup filter buttons
  const filterBtns = container.querySelectorAll('[data-action="filter"]');
  filterBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      filterBtns.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      resetMarketState();
      marketState.currentFilter = btn.dataset.filter;
      loadMarketList(btn.dataset.filter, 1, marketState.currentSearch);
    });
  });

  // Setup search
  const searchInput = document.getElementById('stockSearchInput');
  if (searchInput) {
    let searchTimeout;
    searchInput.addEventListener('input', () => {
      clearTimeout(searchTimeout);
      searchTimeout = setTimeout(() => {
        resetMarketState();
        marketState.currentSearch = searchInput.value;
        loadMarketList(marketState.currentFilter, 1, searchInput.value);
      }, 300);
    });
  }

  // Setup scroll handler on the main content container
  const stockManagerContent = document.getElementById('stockManagerContent');
  if (stockManagerContent) {
    setupMarketScrollHandler(stockManagerContent);
  }

  // Load initial market list
  await loadMarketList('top', 1);
}

/**
 * Generate table row HTML for a company
 * @param {Object} company - Company data
 * @returns {string} HTML string for table row
 */
function generateMarketRowHtml(company) {
  const trend = company.stock_trend || 'same';
  const trendIcon = trend === 'up' ? '&amp;#x25B2;' : trend === 'down' ? '&amp;#x25BC;' : '&amp;#x25CF;';
  return `
    &lt;tr class="stock-table-row" data-user-id="${company.id}">
      &lt;td class="stock-company-name stock-clickable" data-user-id="${company.id}" data-company-name="${escapeHtml(company.company_name)}">${escapeHtml(company.company_name)}&lt;/td>
      &lt;td>$${formatNumber(company.stock)}&lt;/td>
      &lt;td class="trend-${trend}">${trendIcon}&lt;/td>
      &lt;td>${formatNumber(company.stock_for_sale)}&lt;/td>
    &lt;/tr>
  `;
}

/**
 * Create a table row element for a company
 * @param {Object} company - Company data
 * @returns {HTMLTableRowElement} Table row element
 */
function createMarketRow(company) {
  const trend = company.stock_trend || 'same';
  const trendIcon = trend === 'up' ? '\u25B2' : trend === 'down' ? '\u25BC' : '\u25CF';

  const tr = document.createElement('tr');
  tr.className = 'stock-table-row';
  tr.dataset.userId = company.id;

  const tdName = document.createElement('td');
  tdName.className = 'stock-company-name stock-clickable';
  tdName.dataset.userId = company.id;
  tdName.dataset.companyName = company.company_name;
  tdName.textContent = company.company_name;
  tr.appendChild(tdName);

  const tdPrice = document.createElement('td');
  tdPrice.textContent = '$' + formatNumber(company.stock);
  tr.appendChild(tdPrice);

  const tdTrend = document.createElement('td');
  tdTrend.className = 'trend-' + trend;
  tdTrend.textContent = trendIcon;
  tr.appendChild(tdTrend);

  const tdForSale = document.createElement('td');
  tdForSale.textContent = formatNumber(company.stock_for_sale);
  tr.appendChild(tdForSale);

  return tr;
}

/**
 * Setup click handlers for market table rows
 * @param {NodeList} rows - Table rows to setup
 */
function setupMarketRowClickHandlers(rows) {
  rows.forEach(row => {
    if (row.dataset.clickBound) return; // Prevent double-binding
    row.dataset.clickBound = 'true';
    row.style.cursor = 'pointer';
    row.addEventListener('click', async () => {
      const { openPlayerProfile } = await import('./company-profile.js');
      openPlayerProfile(parseInt(row.dataset.userId));
    });
  });
}

/**
 * Load market list with filter and lazy loading
 * @param {string} filter - Filter type (top, low, activity, recent-ipo)
 * @param {number} page - Page number
 * @param {string} search - Search query
 * @param {boolean} append - Whether to append to existing list
 */
async function loadMarketList(filter, page, search = '', append = false) {
  const listContainer = document.getElementById('stockMarketList');

  if (!listContainer) return;

  // Prevent concurrent loads
  if (marketState.isLoading) return;
  marketState.isLoading = true;

  // Show loading indicator
  if (append) {
    // Add loading spinner at bottom
    const loadingIndicator = document.createElement('div');
    loadingIndicator.className = 'stock-lazy-loading';
    loadingIndicator.id = 'stockLazyLoading';
    loadingIndicator.innerHTML = '&lt;span class="stock-lazy-spinner">&lt;/span> Loading more...';
    listContainer.appendChild(loadingIndicator);
  } else {
    listContainer.innerHTML = '&lt;div class="stock-loading">Loading...&lt;/div>';
  }

  try {
    // Use filter=search when search term is provided, otherwise use selected filter
    const effectiveFilter = search.trim() ? 'search' : filter;
    const result = await getStockMarket(effectiveFilter, page, 40, search);

    // Remove loading indicator
    const loadingIndicator = document.getElementById('stockLazyLoading');
    if (loadingIndicator) {
      loadingIndicator.remove();
    }

    if (!result || !result.data || !result.data.market) {
      if (!append) {
        listContainer.innerHTML = '&lt;div class="stock-error">No companies found&lt;/div>';
      }
      marketState.hasMore = false;
      marketState.isLoading = false;
      return;
    }

    const market = result.data.market;
    marketState.hasMore = result.data.has_next;

    if (market.length === 0) {
      if (!append) {
        listContainer.innerHTML = '&lt;div class="stock-empty">No companies found&lt;/div>';
      }
      marketState.hasMore = false;
      marketState.isLoading = false;
      return;
    }

    if (append) {
      // Append rows to existing table using DOM methods
      const tbody = listContainer.querySelector('tbody');
      if (tbody) {
        market.forEach(company => {
          const row = createMarketRow(company);
          tbody.appendChild(row);
          setupMarketRowClickHandlers([row]);
        });
      }
    } else {
      // Create new table
      listContainer.innerHTML = `
        &lt;table class="stock-table">
          &lt;thead>
            &lt;tr>
              &lt;th>Company&lt;/th>
              &lt;th>Price&lt;/th>
              &lt;th>Trend&lt;/th>
              &lt;th>For Sale&lt;/th>
            &lt;/tr>
          &lt;/thead>
          &lt;tbody>
            ${market.map(company => generateMarketRowHtml(company)).join('')}
          &lt;/tbody>
        &lt;/table>
      `;

      // Setup row click handlers
      const rows = listContainer.querySelectorAll('.stock-table-row[data-user-id]');
      setupMarketRowClickHandlers(rows);
    }
  } catch (error) {
    console.error('[Stock Manager] Error loading market:', error);
    if (!append) {
      listContainer.innerHTML = '&lt;div class="stock-error">Failed to load market data&lt;/div>';
    }
    // Remove loading indicator on error
    const loadingIndicator = document.getElementById('stockLazyLoading');
    if (loadingIndicator) {
      loadingIndicator.remove();
    }
  } finally {
    marketState.isLoading = false;
  }
}

// 48 hours in milliseconds and seconds
const STOCK_LOCK_PERIOD_MS = 48 * 60 * 60 * 1000;
const STOCK_LOCK_PERIOD_SEC = 48 * 60 * 60;

/**
 * Format a Unix timestamp as a short date (e.g., "Jan 15" or "Jan 15 '24")
 * @param {number} timestampSec - Unix timestamp in seconds
 * @returns {string} Formatted date string
 */
function formatPurchaseDate(timestampSec) {
  if (!timestampSec) return '-';
  const date = new Date(timestampSec * 1000);
  const now = new Date();
  const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
  const month = months[date.getMonth()];
  const day = date.getDate();

  // If same year, just show "Jan 15", otherwise "Jan 15 '24"
  if (date.getFullYear() === now.getFullYear()) {
    return `${month} ${day}`;
  }
  const yearShort = String(date.getFullYear()).slice(-2);
  return `${month} ${day} '${yearShort}`;
}

/**
 * Load investments tab content
 */
async function loadInvestments(container) {
  // Fetch finance data and purchase times in parallel
  const [financeResult, purchaseTimesResult] = await Promise.all([
    getStockFinanceOverview(currentUserId),
    getStockPurchaseTimes().catch(() => ({ purchaseTimes: {}, gameStockPurchases: [] }))
  ]);

  financeData = financeResult;
  const purchaseTimes = purchaseTimesResult.purchaseTimes || {};
  const gameStockPurchases = purchaseTimesResult.gameStockPurchases || [];

  if (!financeData || !financeData.data) {
    container.innerHTML = '&lt;div class="stock-error">Failed to load investments&lt;/div>';
    return;
  }

  // API returns investments as object with company names as keys - convert to array
  const investmentsObj = financeData.data.investments || {};
  const investments = Object.entries(investmentsObj).map(([companyName, inv]) => ({
    company_name: companyName,
    ...inv
  }));

  if (investments.length === 0) {
    container.innerHTML = `
      &lt;div class="stock-empty-state">
        &lt;div class="stock-empty-icon">&amp;#x1F4BC;&lt;/div>
        &lt;h3>No Investments Yet&lt;/h3>
        &lt;p>Browse the market to find companies to invest in.&lt;/p>
      &lt;/div>
    `;
    return;
  }

  // Calculate totals
  const totalInvested = investments.reduce((sum, inv) => sum + parseFloat(inv.invested || 0), 0);
  const totalReturn = investments.reduce((sum, inv) => sum + parseFloat(inv.return || 0), 0);
  const returnClass = totalReturn >= 0 ? 'trend-up' : 'trend-down';

  const nowMs = Date.now();
  const nowSec = Math.floor(nowMs / 1000);

  container.innerHTML = `
    &lt;div class="stock-investments">
      &lt;div class="stock-summary-row">
        &lt;span class="stock-summary-item">&lt;span class="stock-summary-label">Invested:&lt;/span> &lt;span class="trend-down">-$${formatNumber(totalInvested)}&lt;/span>&lt;/span>
        &lt;span class="stock-summary-item">&lt;span class="stock-summary-label">Return:&lt;/span> &lt;span class="${returnClass}">$${formatNumber(totalReturn)}&lt;/span>&lt;/span>
      &lt;/div>
      &lt;table class="stock-table">
        &lt;thead>
          &lt;tr>
            &lt;th>Company&lt;/th>
            &lt;th>Shares&lt;/th>
            &lt;th>Buy Price&lt;/th>
            &lt;th>Current&lt;/th>
            &lt;th>P/L&lt;/th>
            &lt;th>Purchased&lt;/th>
            &lt;th>Sell&lt;/th>
          &lt;/tr>
        &lt;/thead>
        &lt;tbody>
          ${investments.map(inv => {
            const buyPrice = parseFloat(inv.bought_at || 0);
            const currentPrice = parseFloat(inv.current_value || 0);
            const shares = parseInt(inv.total_shares || 0);
            const pl = (currentPrice - buyPrice) * shares;
            const plPercent = buyPrice > 0 ? ((currentPrice - buyPrice) / buyPrice * 100).toFixed(1) : 0;
            const plClass = pl >= 0 ? 'trend-up' : 'trend-down';
            const plSign = pl >= 0 ? '+' : '';

            // Sell availability from API
            const availableToSell = parseInt(inv.available_to_sell, 10) || 0;

            // Calculate purchase time - try multiple sources:
            // 1. API next_available_sale_time (purchase_time + 48h) - only set if still locked
            // 2. Logbook entry for this company
            // 3. POD1 transaction matching by amount
            const apiNextSaleTime = parseInt(inv.next_available_sale_time, 10) || 0;
            let purchaseTimeSec = apiNextSaleTime > 0 ? apiNextSaleTime - STOCK_LOCK_PERIOD_SEC : 0;

            // Calculate unlock time from logbook or game transactions
            let nextSaleTime = 0;
            let purchaseTimeMs = purchaseTimes[inv.id];

            // If not in logbook, try to match from game transactions
            if (!purchaseTimeMs &amp;&amp; gameStockPurchases.length > 0) {
              // If we have next_available_sale_time from API, find transaction near that time - 48h
              if (apiNextSaleTime > 0) {
                const expectedPurchaseTime = (apiNextSaleTime - STOCK_LOCK_PERIOD_SEC) * 1000;
                // Find transaction within 1 hour of expected purchase time
                const matchingTx = gameStockPurchases.find(tx => {
                  const timeDiff = Math.abs(tx.time - expectedPurchaseTime);
                  return timeDiff &lt;= 3600000; // 1 hour tolerance
                });
                if (matchingTx) {
                  purchaseTimeMs = matchingTx.time;
                }
              }
              // Fallback: try to match by invested amount (for older purchases)
              if (!purchaseTimeMs &amp;&amp; inv.invested) {
                const investedAmount = Math.round(parseFloat(inv.invested));
                // Game transaction includes 5% brokerage fee
                const expectedTxAmount = Math.round(investedAmount * 1.05);
                // Find matching transaction (within 5% tolerance for multiple purchases)
                const matchingTx = gameStockPurchases.find(tx => {
                  const diff = Math.abs(tx.amount - expectedTxAmount);
                  return diff &lt;= expectedTxAmount * 0.05;
                });
                if (matchingTx) {
                  purchaseTimeMs = matchingTx.time;
                }
              }
            }

            if (purchaseTimeMs) {
              // Unlock time = purchase time + 48h (convert to seconds)
              nextSaleTime = Math.floor((purchaseTimeMs + STOCK_LOCK_PERIOD_MS) / 1000);
            }

            // If we still don't have a purchase time, use the logbook/transaction time
            if (!purchaseTimeSec &amp;&amp; purchaseTimeMs) {
              purchaseTimeSec = Math.floor(purchaseTimeMs / 1000);
            }

            const hasLockedShares = nextSaleTime > nowSec;
            const lockedAmount = shares - availableToSell;

            // Debug: log investment data to understand sell availability
            if (window.DEBUG_MODE) {
              console.log('[Stock Manager] Investment:', inv.company_name, {
                shares,
                availableToSell,
                nextSaleTime,
                nowSec,
                hasLockedShares,
                lockedAmount,
                purchaseTimeFromLogbook: purchaseTimes[inv.id],
                raw: { available_to_sell: inv.available_to_sell, next_available_sale_time: inv.next_available_sale_time }
              });
            }

            let sellCell = '';
            if (availableToSell > 0 &amp;&amp; hasLockedShares &amp;&amp; lockedAmount > 0) {
              // Some shares available, some still locked - show button + timer
              sellCell = `
                &lt;button class="text-btn" data-action="sell" data-user-id="${inv.id}" data-company="${escapeHtml(inv.company_name || '')}" data-max="${availableToSell}" data-price="${currentPrice}">Sell (${formatNumber(availableToSell)})&lt;/button>
                &lt;span class="stock-sell-timer stock-sell-timer-small" data-unlock-time="${nextSaleTime}" title="+${formatNumber(lockedAmount)} more">+${formatNumber(lockedAmount)}&lt;/span>
              `;
            } else if (availableToSell > 0) {
              // All shares available
              sellCell = `&lt;button class="text-btn" data-action="sell" data-user-id="${inv.id}" data-company="${escapeHtml(inv.company_name || '')}" data-max="${availableToSell}" data-price="${currentPrice}">Sell (${formatNumber(availableToSell)})&lt;/button>`;
            } else if (hasLockedShares) {
              // No shares available yet - show countdown timer with all shares locked
              sellCell = `&lt;span class="stock-sell-timer" data-unlock-time="${nextSaleTime}">${formatNumber(shares)} locked&lt;/span>`;
            } else if (lockedAmount > 0) {
              // Shares locked but no purchase time in logbook (bought before logging)
              sellCell = `&lt;span class="stock-sell-locked">${formatNumber(lockedAmount)} locked&lt;/span>`;
            } else {
              sellCell = '&lt;span class="stock-sell-unavailable">-&lt;/span>';
            }

            return `
              &lt;tr class="stock-table-row" data-user-id="${inv.id}">
                &lt;td class="stock-company-name clickable" data-user-id="${inv.id}">${escapeHtml(inv.company_name || 'Unknown')}&lt;/td>
                &lt;td>${formatNumber(shares)}&lt;/td>
                &lt;td>$${formatNumber(buyPrice)}&lt;/td>
                &lt;td>$${formatNumber(currentPrice)}&lt;/td>
                &lt;td class="${plClass}">${plSign}$${formatNumber(Math.abs(pl))} (${plSign}${plPercent}%)&lt;/td>
                &lt;td class="stock-purchased-cell">${formatPurchaseDate(purchaseTimeSec)}&lt;/td>
                &lt;td class="stock-sell-cell">${sellCell}&lt;/td>
              &lt;/tr>
            `;
          }).join('')}
        &lt;/tbody>
      &lt;/table>
    &lt;/div>
  `;

  // Setup click handlers for company names
  setupCompanyNameClickHandlers(container);

  // Setup sell button handlers
  setupInvestmentSellButtons(container);

  // Start countdown timers
  startSellTimers(container);
}

/**
 * Estimate purchase date by finding when stock price matched bought_at price
 * @param {number} boughtAt - Price per share when bought
 * @param {Array} history - Stock price history array
 * @returns {number} Estimated timestamp in seconds, or 0 if not found
 */
function estimatePurchaseDateFromPrice(boughtAt, history) {
  if (!history || history.length === 0 || !boughtAt) return 0;

  // Sort history by time (oldest first)
  const sortedHistory = [...history].sort((a, b) => a.time - b.time);

  // Find the first time the stock price was close to bought_at (within 1%)
  const tolerance = boughtAt * 0.01;
  for (const entry of sortedHistory) {
    const price = parseFloat(entry.value);
    if (Math.abs(price - boughtAt) &lt;= tolerance) {
      return entry.time;
    }
  }

  // If no exact match, find closest price
  let closestEntry = null;
  let closestDiff = Infinity;
  for (const entry of sortedHistory) {
    const price = parseFloat(entry.value);
    const diff = Math.abs(price - boughtAt);
    if (diff &lt; closestDiff) {
      closestDiff = diff;
      closestEntry = entry;
    }
  }

  return closestEntry ? closestEntry.time : 0;
}

/**
 * Load investors tab content
 */
async function loadInvestors(container) {
  if (!userHasIPO) {
    container.innerHTML = `
      &lt;div class="stock-no-ipo">
        &lt;div class="stock-no-ipo-icon">&amp;#x1F465;&lt;/div>
        &lt;h3>IPO Required&lt;/h3>
        &lt;p>Complete your IPO to see who invests in your company.&lt;/p>
      &lt;/div>
    `;
    return;
  }

  if (!financeData) {
    financeData = await getStockFinanceOverview(currentUserId);
  }

  if (!financeData || !financeData.data) {
    container.innerHTML = '&lt;div class="stock-error">Failed to load investors&lt;/div>';
    return;
  }

  // API returns investors as object with company names as keys - convert to array
  const investorsObj = financeData.data.investors || {};
  const investors = Object.entries(investorsObj).map(([companyName, inv]) => ({
    company_name: companyName,
    ...inv
  }));

  if (investors.length === 0) {
    container.innerHTML = `
      &lt;div class="stock-empty-state">
        &lt;div class="stock-empty-icon">&amp;#x1F465;&lt;/div>
        &lt;h3>No Investors Yet&lt;/h3>
        &lt;p>No one has invested in your company yet.&lt;/p>
      &lt;/div>
    `;
    return;
  }

  // Get stock history to estimate purchase dates
  const stockHistory = financeData.data.stock?.history || [];

  container.innerHTML = `
    &lt;div class="stock-investors">
      &lt;table class="stock-table">
        &lt;thead>
          &lt;tr>
            &lt;th>Investor&lt;/th>
            &lt;th>Shares&lt;/th>
            &lt;th>Bought At&lt;/th>
            &lt;th>Purchased&lt;/th>
          &lt;/tr>
        &lt;/thead>
        &lt;tbody>
          ${investors.map(inv => {
            const boughtAt = parseFloat(inv.bought_at);
            const estimatedTime = estimatePurchaseDateFromPrice(boughtAt, stockHistory);
            return `
            &lt;tr class="stock-table-row" data-user-id="${inv.id}">
              &lt;td class="stock-company-name clickable" data-user-id="${inv.id}">${escapeHtml(inv.company_name)}&lt;/td>
              &lt;td>${formatNumber(inv.total_shares)}&lt;/td>
              &lt;td>$${formatNumber(boughtAt)}&lt;/td>
              &lt;td class="stock-purchased-cell">${formatPurchaseDate(estimatedTime)}&lt;/td>
            &lt;/tr>
          `;
          }).join('')}
        &lt;/tbody>
      &lt;/table>
    &lt;/div>
  `;

  // Setup click handlers for company names
  setupCompanyNameClickHandlers(container);
}

/**
 * Setup click handlers for clickable table rows
 */
function setupCompanyNameClickHandlers(container) {
  const rows = container.querySelectorAll('.stock-table-row[data-user-id]');
  rows.forEach(row => {
    row.style.cursor = 'pointer';
    row.addEventListener('click', async () => {
      const userId = parseInt(row.dataset.userId);
      if (userId) {
        const { openPlayerProfile } = await import('./company-profile.js');
        openPlayerProfile(userId);
      }
    });
  });
}

/**
 * Open company detail overlay
 */
export async function openCompanyDetail(userId, companyName) {
  const overlay = document.getElementById('stockCompanyDetailOverlay');
  const titleEl = document.getElementById('stockCompanyTitle');
  const contentEl = document.getElementById('stockCompanyContent');

  if (!overlay || !contentEl) return;

  overlay.classList.remove('hidden');
  if (titleEl) titleEl.textContent = companyName;
  contentEl.innerHTML = '&lt;div class="stock-loading">Loading...&lt;/div>';

  try {
    const data = await getStockFinanceOverview(userId);

    if (!data || !data.data || !data.data.stock) {
      contentEl.innerHTML = '&lt;div class="stock-error">Failed to load company data&lt;/div>';
      return;
    }

    const stock = data.data.stock;
    const trend = stock.stock_trend || 'same';
    const stats = calculatePriceStats(stock.history || []);
    const forSale = stock.stock_for_sale || 0;
    const totalShares = stock.stock_total || 0;
    const isOwnCompany = userId === currentUserId;

    contentEl.innerHTML = `
      &lt;div class="stock-company-detail">
        ${renderChartSection('companyDetailChart', stock, stats, { stockForSale: forSale, stockTotal: totalShares, showIncreaseButton: isOwnCompany &amp;&amp; userHasIPO })}
        &lt;div class="stock-buy-section">
          &lt;div class="stock-buy-info">
            &lt;span class="stock-buy-label">Available:&lt;/span>
            &lt;span class="stock-buy-value">${formatNumber(forSale)} / ${formatNumber(totalShares)}&lt;/span>
          &lt;/div>
          &lt;button id="stockBuyBtn" class="text-btn" data-action="buy" ${!userHasIPO ? 'disabled title="IPO required to purchase stocks"' : ''} ${forSale &lt; 1 ? 'disabled title="No shares available"' : ''}>
            Buy Shares
          &lt;/button>
        &lt;/div>
      &lt;/div>
    `;

    // Setup increase shares button click handler (if own company)
    const increaseBtnEl = contentEl.querySelector('[data-action="increase"]');
    if (increaseBtnEl) {
      increaseBtnEl.addEventListener('click', handleIncreaseSharesClick);
    }

    // Initialize chart
    if (stock.history &amp;&amp; stock.history.length > 0) {
      initializeChart('companyDetailChart', stock.history, CHART_COLORS[trend]);
    }

    // Setup buy button
    const buyBtn = document.getElementById('stockBuyBtn');
    if (buyBtn &amp;&amp; userHasIPO &amp;&amp; forSale > 0) {
      const currentPrice = stock.value || stats.current || 0;
      buyBtn.addEventListener('click', async () => {
        // Get current cash
        let userCash = 0;
        try {
          const response = await fetch(window.apiUrl('/api/user/get-company'), {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({})
          });
          const cashData = await response.json();
          userCash = cashData.user?.cash || 0;
        } catch (err) {
          console.error('[Stock Manager] Failed to get user cash:', err);
        }

        // Show buy dialog
        const amount = await showBuyDialog(companyName, forSale, currentPrice, userCash);
        if (!amount) return;

        buyBtn.disabled = true;
        buyBtn.textContent = 'Purchasing...';

        try {
          const result = await purchaseStock(userId, amount, companyName, currentPrice);
          if (result.error) {
            showNotification(result.error, 'error');
          } else {
            showNotification(`Successfully purchased ${amount} shares!`, 'success');
            financeData = null;
            closeCompanyDetail();
          }
        } catch (error) {
          console.error('[Stock Manager] Purchase error:', error);
          showNotification('Failed to purchase shares', 'error');
        } finally {
          buyBtn.disabled = false;
          buyBtn.textContent = 'Buy Shares';
        }
      });
    }
  } catch (error) {
    console.error('[Stock Manager] Error loading company detail:', error);
    contentEl.innerHTML = '&lt;div class="stock-error">Failed to load company data&lt;/div>';
  }
}

/**
 * Close company detail overlay
 */
function closeCompanyDetail() {
  const overlay = document.getElementById('stockCompanyDetailOverlay');
  if (overlay) {
    overlay.classList.add('hidden');
  }
  destroyChart();
}

/**
 * Destroy current chart instance
 */
function destroyChart() {
  if (currentChart) {
    currentChart.resizeObserver?.disconnect();
    currentChart.chart?.remove();
    currentChart = null;
  }
  chartState.maSeries = {};
}

/**
 * Render IPO alerts table with given data
 * Backend provides fully filtered data - frontend just displays it
 * @param {HTMLElement} container - Content container
 * @param {Array} ipos - Array of IPO data (already filtered by backend)
 * @param {number} maxAgeDays - Max age setting in days
 */
function renderIpoAlertsTable(container, ipos, maxAgeDays) {
  const maxAgeLabel = maxAgeDays === 1 ? '1 day' : maxAgeDays === 7 ? '1 week' : maxAgeDays === 30 ? '1 month' : '6 months';

  container.innerHTML = `
    &lt;div class="stock-ipo-alerts">
      &lt;div class="stock-ipo-header" id="stockIpoHeader">
        &lt;span class="stock-ipo-header-text">Fresh IPOs - accounts younger than ${maxAgeLabel}&lt;br>Updates automatically every 5 minutes&lt;/span>
        &lt;span class="stock-ipo-header-close" id="stockIpoHeaderClose">&amp;#x2715;&lt;/span>
      &lt;/div>
      &lt;table class="stock-table">
        &lt;thead>
          &lt;tr>
            &lt;th>Company&lt;/th>
            &lt;th>Price&lt;/th>
            &lt;th>For Sale&lt;/th>
            &lt;th>Age&lt;/th>
          &lt;/tr>
        &lt;/thead>
        &lt;tbody>
          ${ipos.map(company => {
            const trend = company.stock_trend || 'same';
            const trendIcon = trend === 'up' ? '&amp;#x25B2;' : trend === 'down' ? '&amp;#x25BC;' : '&amp;#x25CF;';
            return `
              &lt;tr class="stock-table-row stock-ipo-fresh" data-user-id="${company.id}">
                &lt;td class="stock-company-name stock-clickable" data-user-id="${company.id}">${escapeHtml(company.company_name)} &lt;span class="stock-user-id">(${company.id})&lt;/span>&lt;/td>
                &lt;td>$${formatNumber(company.stock)} &lt;span class="trend-${trend}">${trendIcon}&lt;/span>&lt;/td>
                &lt;td>${formatNumber(company.stock_for_sale)}&lt;/td>
                &lt;td>${company.age_days}d&lt;/td>
              &lt;/tr>
            `;
          }).join('')}
        &lt;/tbody>
      &lt;/table>
    &lt;/div>
  `;

  // Setup close button for header
  const closeBtn = container.querySelector('#stockIpoHeaderClose');
  const header = container.querySelector('#stockIpoHeader');
  if (closeBtn &amp;&amp; header) {
    closeBtn.addEventListener('click', () => {
      header.style.display = 'none';
    });
  }

  // Setup row click handlers - open company profile modal
  const rows = container.querySelectorAll('.stock-table-row[data-user-id]');
  rows.forEach(row => {
    row.style.cursor = 'pointer';
    row.addEventListener('click', async () => {
      const { openPlayerProfile } = await import('./company-profile.js');
      openPlayerProfile(parseInt(row.dataset.userId));
    });
  });
}

/**
 * Load IPO Alerts tab content
 * @param {HTMLElement} container - Content container
 */
async function loadIpoAlerts(container) {
  try {
    const maxAgeDays = window.settings?.ipoAlertMaxAgeDays || 7;
    const maxAgeLabel = maxAgeDays === 1 ? '1 day' : maxAgeDays === 7 ? '1 week' : maxAgeDays === 30 ? '1 month' : '6 months';
    const result = await getRecentIpos();

    if (!result || !result.ipos || result.ipos.length === 0) {
      container.innerHTML = `
        &lt;div class="stock-empty-state">
          &lt;div class="stock-empty-icon">&amp;#x1F4C8;&lt;/div>
          &lt;h3>No Fresh IPOs&lt;/h3>
          &lt;p>No companies with accounts younger than ${maxAgeLabel}.&lt;/p>
        &lt;/div>
      `;
      return;
    }

    renderIpoAlertsTable(container, result.ipos, maxAgeDays);
  } catch (error) {
    console.error('[Stock Manager] Error loading IPO alerts:', error);
    container.innerHTML = '&lt;div class="stock-error">Failed to load IPO data&lt;/div>';
  }
}

/**
 * Refresh IPO Alert tab with new data from WebSocket
 * @param {Array} freshIpos - Array of fresh IPOs from backend
 * @param {number} maxAgeDays - Max age setting in days
 */
function refreshIpoAlertTab(freshIpos, maxAgeDays) {
  const container = document.querySelector('.stock-content');
  if (!container) return;

  const maxAgeLabel = maxAgeDays === 1 ? '1 day' : maxAgeDays === 7 ? '1 week' : maxAgeDays === 30 ? '1 month' : '6 months';

  if (!freshIpos || freshIpos.length === 0) {
    container.innerHTML = `
      &lt;div class="stock-empty-state">
        &lt;div class="stock-empty-icon">&amp;#x1F4C8;&lt;/div>
        &lt;h3>No Fresh IPOs&lt;/h3>
        &lt;p>No companies with accounts younger than ${maxAgeLabel}.&lt;/p>
      &lt;/div>
    `;
    return;
  }

  renderIpoAlertsTable(container, freshIpos, maxAgeDays);
}

// Export to window for WebSocket handler
window.refreshIpoAlertTab = refreshIpoAlertTab;

/**
 * Open stock manager and switch to IPO Alerts tab
 */
export async function showStockManagerIpoAlerts() {
  const overlay = document.getElementById('stockManagerOverlay');
  if (!overlay) {
    console.error('[Stock Manager] Overlay not found');
    return;
  }

  overlay.classList.remove('hidden');
  await switchTab('ipo-alerts');
}

/**
 * Escape HTML to prevent XSS
 */
function escapeHtml(str) {
  if (!str) return '';
  const div = document.createElement('div');
  div.textContent = str;
  return div.innerHTML;
}

/**
 * Setup sell button handlers for investments tab
 */
function setupInvestmentSellButtons(container) {
  const sellButtons = container.querySelectorAll('[data-action="sell"]');

  sellButtons.forEach(btn => {
    btn.addEventListener('click', async (e) => {
      e.stopPropagation(); // Prevent row click

      const userId = parseInt(btn.dataset.userId, 10);
      const companyName = btn.dataset.company;
      const maxShares = parseInt(btn.dataset.max, 10);
      const price = parseFloat(btn.dataset.price);

      // Get current cash
      let userCash = 0;
      try {
        const response = await fetch(window.apiUrl('/api/user/get-company'), {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({})
        });
        const cashData = await response.json();
        userCash = cashData.user?.cash || 0;
      } catch (err) {
        console.error('[Stock Manager] Failed to get user cash:', err);
      }

      // Show sell dialog
      const amount = await showSellDialog(companyName, maxShares, price, userCash);
      if (!amount) return;

      btn.disabled = true;
      btn.textContent = 'Selling...';

      try {
        const { sellStock } = await import('./api.js');
        const result = await sellStock(userId, amount, companyName, price);

        if (result.error) {
          showNotification(`Failed: ${result.error}`, 'error');
        } else {
          showNotification(`Sold ${formatNumber(amount)} shares of ${companyName}!`, 'success');
          // Reload investments tab
          financeData = null; // Clear cache
          switchTab('investments');
        }
      } catch (error) {
        console.error('[Stock Manager] Sell error:', error);
        showNotification('Failed to sell shares', 'error');
      } finally {
        btn.disabled = false;
        btn.textContent = `Sell (${formatNumber(maxShares)})`;
      }
    });
  });
}

/**
 * Show buy dialog and return amount to buy
 */
export async function showBuyDialog(companyName, maxShares, price, cash) {
  return showPurchaseDialog({
    title: 'Buy Shares',
    maxAmount: maxShares,
    price: price,
    cash: cash,
    unit: ' shares',
    priceLabel: 'Price per Share',
    confirmText: 'Buy Shares',
    feePercent: 0.05
  });
}

/**
 * Show sell dialog and return amount to sell
 */
export async function showSellDialog(companyName, maxShares, price, cash) {
  return showPurchaseDialog({
    title: 'Sell Shares',
    maxAmount: maxShares,
    price: price,
    cash: cash,
    unit: ' shares',
    priceLabel: 'Price per Share',
    confirmText: 'Sell Shares',
    feePercent: 0.05,
    isSell: true
  });
}

/**
 * Start countdown timers for locked shares
 */
let sellTimerInterval = null;

function startSellTimers(container) {
  // Clear any existing interval
  if (sellTimerInterval) {
    clearInterval(sellTimerInterval);
  }

  const updateTimers = () => {
    const timers = container.querySelectorAll('.stock-sell-timer');
    const now = Math.floor(Date.now() / 1000);

    timers.forEach(timer => {
      const unlockTime = parseInt(timer.dataset.unlockTime, 10);
      const remaining = unlockTime - now;

      if (remaining &lt;= 0) {
        // Time's up - reload to show sell button
        timer.textContent = 'Ready!';
        timer.classList.add('stock-sell-ready');
      } else {
        // Format countdown
        const hours = Math.floor(remaining / 3600);
        const minutes = Math.floor((remaining % 3600) / 60);
        const seconds = remaining % 60;

        if (hours > 0) {
          timer.textContent = `${hours}h ${minutes}m`;
        } else if (minutes > 0) {
          timer.textContent = `${minutes}m ${seconds}s`;
        } else {
          timer.textContent = `${seconds}s`;
        }
      }
    });

    // Stop interval if no more timers
    if (timers.length === 0 &amp;&amp; sellTimerInterval) {
      clearInterval(sellTimerInterval);
      sellTimerInterval = null;
    }
  };

  // Initial update
  updateTimers();

  // Update every second
  sellTimerInterval = setInterval(updateTimers, 1000);
}
</code></pre>
        </article>
    </section>





    
</div>

<br class="clear">

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

</body>
</html>
