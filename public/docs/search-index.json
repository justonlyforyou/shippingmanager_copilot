[
  {
    "type": "readme",
    "name": "README",
    "longname": "readme home",
    "url": "index.html",
    "description": "üö¢ Shipping Manager - CoPilot A comprehensive &quot;Addon&quot; for the beloved game Shipping Manager . Key Features at a Glance Harbor Map : Interactive world map with live fleet tracking, vessel/port details, route visualization, weather overlays (rain, temperature, wind) , and maritime POI (museums, shipwrecks) Logbook : Comprehensive event tracking for alliance activities, vessel operations, and game history AutoPilot System : Intelligent automation for fuel/CO2 purchasing, vessel operations, hijacking negotiation, and more ChatBot : Automated alliance assistant with role-based commands , scheduled announcements, and custom command support Mobile Support : As a Steam player, you can now receive mobile notifications via your Wi-Fi at home Fleet Management : Streamlined vessel purchasing, bulk repairs , automated departures, and bulk selling with shopping cart Price Alerts : Set up your own custom price alerts! Alliance Cooperation : Easily manage and send cooperation vessels to alliance members Company Profile : Track your achievements, progress, and company statistics Bug-Free Chat : Alliance chat and private messaging without the page reload bugs that Steam players commonly experience with Shippingmanager.cc ...and much more! Discord Community ! Table of Contents The Bug That Became The Tool Features Installation Documentation Session Cookie Encryption Legal Disclaimer &amp; Risk Notice Security Notice Privacy &amp; Data Collection License Screenshots üõ†Ô∏è The Bug That Became The Tool This project started out of sheer frustration with persistent bugs in Shipping Manager and the complete lack of ongoing development by the creators. Initially, I just wanted to build a simple chat messenger ‚Äì something that would allow me to communicate with my alliance on Steam without constantly worrying about certain keystrokes triggering a full page reload (a well-known bug in the Steam Version that never gets fixed). What truly annoyed me was the inability to log in through a standard browser using my Steam account to receive game notifications while moving around the house or to earn Point Rewards from Ads on my mobile device . Given that I have paid money for in-game items, it felt a bit like &quot;I got scammed.&quot; I decided: I want to create my own benefits, especially since I can't watch ads to earn points or even receive notifications while I'm at home... Well... things got a little out of hand, and the result is what you see here now :-D This comprehensive standalone web interface connects directly to the Shipping Manager API and is packed with features the normal game is missing. üöÄ Features Core Features Feature Description Bug-Free Chat Alliance chat and private messaging without Steam's page reload bugs Harbor Map Interactive world map with live fleet tracking, weather overlays, route visualization, and maritime POIs Logbook Comprehensive event tracking with search, filters, and CSV/JSON export Forecast Calendar 30-minute precision fuel/CO2 price forecasts with multi-day planning Route Planner Visual destination selection with real-time cost/fuel/piracy calculations Company Profile Achievement tracking, analytics dashboard, and performance metrics Fleet Management Feature Description Depart Manager Fleet dashboard with bulk departures, status tabs, and map integration Drydock Management Bulk drydock operations with cost previews and maintenance scheduling Bulk Repair One-click repairs with configurable wear thresholds and cost preview Vessel Building Custom vessel construction with appearance editor and fast delivery option Vessel Selling Bulk sales with shopping cart and real-time price verification Anchor Points Fleet capacity management with one-click purchasing Business &amp; Analytics Feature Description Business Analytics BI tools with performance metrics, trends, and historical data Stock Manager IPO stock tracking, price alerts, and portfolio management The Purser Automated dividend collection and stock monitoring (IPO users) Alliance League Real-time league standings, progress tracking, and seasonal stats Marketing Campaigns Campaign management with status badges and one-click activation AutoPilot System Intelligent automation with configurable thresholds and emergency buy override: AutoPilot Function Barrel Boss Auto-rebuy fuel when price drops below threshold Atmosphere Broker Auto-rebuy CO2 when price drops below threshold Cargo Marshal Auto-depart vessels with demand validation and route optimization Yard Foreman Auto bulk repair when wear exceeds threshold Reputation Chief Auto campaign renewal to prevent downtime Fair Hand Auto coop vessel distribution to alliance members Harbormaster Auto anchor point purchasing when capacity needed Cap'n Blackbeard Auto hijacking negotiation with aggressive counter-offers The Purser Auto dividend collection (IPO users only) All AutoPilots support Emergency Buy Override : Configure minimum bunker level, ships at port threshold, and max price for emergency purchases. ChatBot Automated alliance assistant with role-based commands, scheduled announcements (forecast, welcome), custom commands, anti-spam cooldowns, and configurable prefixes. Broadcast Templates : Management roles (CEO, COO, Management) can send templated DMs to alliance members: !msg &lt;template&gt; [userID] - Send template to single user !msg &lt;template&gt; [id1] [id2] [id3] - Send template to multiple users Built-in templates: coop , inactive , reminder (customizable) DM Queue : All private messages are queued and sent with 45-second intervals to respect Game API rate limits. Success/failure notifications appear in alliance chat. Additional Features Price Alerts : Custom fuel/CO2 price notifications with desktop alerts Alliance Coop Center : Member list with color-coded status and one-click vessel dispatch Hijacking Management : Multi-tier negotiation (25%/50%/75%) with payment integration Mobile Notifications : Receive game alerts via Wi-Fi on mobile devices HTTPS &amp; Certificates : Auto-generated certificates with LAN access and QR codes for mobile Installation Installation Guide : See docs/tutorials/01-installation-guide.md Windows Users (Using .exe Installer) Modern web browser (Chrome/Chromium recommended) Active Shipping Manager account (Steam, Browser, or Mobile Account) Download the latest release here Linux/Mac Users Modern web browser (Chrome/Chromium recommended) Active Shipping Manager account (Steam, Browser, or Mobile Account) NOTE: Please, keep in mind Mac &amp; Linux is fully untested! Download the latest release here Developers (Running from Source) Build Guide : See docs/tutorials/02-build-guide.md Documentation Comprehensive JSDoc documentation is available when the application is running: Click the docs button in the UI (next to settings) The documentation includes build instructions, installation guides, and complete API reference for all modules. Session Cookie Encryption All session cookies are automatically encrypted using OS-native secure storage! How It Works Session cookies are stored in userdata/settings/sessions.json (or AppData/Local/ShippingManagerCoPilot/userdata/settings/sessions.json when installed) but never in plaintext . The file only contains encrypted references like KEYRING:session_1234567 . The actual cookie values are securely stored in your operating system's credential manager. Cross-Platform Security Backends The application automatically uses the most secure storage available for your platform: Windows Backend : Windows DPAPI (Data Protection API) + Credential Manager Security : Encrypted with your Windows user account credentials Access : Only you on this specific machine can decrypt Location : Windows Credential Manager ( Control Panel &gt; Credential Manager ) macOS Backend : macOS Keychain Security : Encrypted with Keychain encryption Access : Only you on this specific machine can decrypt Location : Keychain Access app Linux Backend : libsecret (GNOME Keyring / KWallet) Security : Encrypted with Secret Service API Access : Only you on this specific machine can decrypt Requirements : libsecret-1-dev package must be installed Benefits No plaintext cookies : Even if someone copies your sessions.json , they cannot use it Machine-locked : Cookies can only be decrypted on the same machine by the same user Zero configuration : Works automatically, no setup required New sessions protected : All newly saved sessions are encrypted immediately Legal Disclaimer &amp; Risk Notice This tool is not affiliated with Shipping Manager or Steam. WARNING: USE OF THIS TOOL IS AT YOUR OWN RISK! This tool implements automated procedures to extract session cookies from the local Steam client cache and interacts directly with the game's API ( shippingmanager.cc ). Violation of ToS: These techniques most likely violate the Terms of Service (ToS) of both Steam and Shipping Manager . Potential Consequences: Use of this tool may lead to the temporary suspension or permanent ban of your Steam or game account. No Liability: The developers of this tool assume no liability for any damages or consequences resulting from its use. Every user is solely responsible for complying with the respective terms of service. Privacy &amp; Data Collection This application collects ZERO data from users. No telemetry : The software does not send any usage data, statistics, or analytics to the developer No tracking : Your gameplay data, account information, and activity remain completely private Local only : All data is stored locally on your machine (settings.json, session cookies in memory) No external servers : The application only communicates with shippingmanager.cc API - never with developer servers Open source : You can verify the code yourself - there are no hidden data collection mechanisms The developer has zero interest in your data. This tool was created to solve a game bug, not to collect user information. License AGPL-3.0-only WITH Commons Clause License Condition v1.0 Copyright (c) 2024-2025 sitzmoebelchronograph This software is free to use and modify, but may not be sold commercially . See LICENSE file for full terms. Screenshots Startup &amp; Overview Fuel &amp; CO2 Management Vessel Management Vessel Selling Bulk Operations Forecast &amp; Anchor Points Settings ChatBot AutoPilot Logbook Harbor Map"
  },
  {
    "type": "module",
    "name": "alliance-tabs",
    "longname": "module:alliance-tabs",
    "url": "module-alliance-tabs.html",
    "description": "<p>Alliance Cooperation Tabs Management</p>\n<p>Handles the 6-tab interface for Alliance Cooperation:</p>\n<ul>\n<li>Allianz: Alliance info and statistics</li>\n<li>Coop: Current coop functionality (member send buttons)</li>\n<li>Liga: User's league and group standings</li>\n<li>HighScore: Alliance leaderboard</li>\n<li>Management: Queue pool and member role management</li>\n<li>Settings: Alliance coop settings</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "analytics",
    "longname": "module:analytics",
    "url": "module-analytics.html",
    "description": "<p>Analytics Dashboard Module</p>\n<p>Business intelligence dashboard showing:</p>\n<ul>\n<li>Weekly cash flow summary (revenue, expenses, profit)</li>\n<li>Detailed expense breakdown by category</li>\n<li>Vessel performance metrics</li>\n<li>Route profitability analysis</li>\n<li>Route contribution analysis</li>\n<li>Revenue trend chart (using TradingView Lightweight Charts)</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "api",
    "longname": "module:api",
    "url": "module-api.html",
    "description": "<p>API module for all client-server communication.\nHandles all HTTP requests to the backend API endpoints including chat,\nvessels, bunker management, messenger, campaigns, and user data.</p>\n<p>All functions implement proper error handling and return promises.</p>"
  },
  {
    "type": "module",
    "name": "app",
    "longname": "module:app",
    "url": "module-app.html",
    "description": "<p>Main application entry point for Shipping Manager CoPilot.\nThis is a standalone HTTPS web server that provides a workaround for the in-game chat bug\nwhere certain characters cause page reloads. The application proxies API calls to\nshippingmanager.cc with session-based authentication, providing real-time WebSocket updates,\nalliance chat, private messaging, and game management features (fuel/CO2 purchasing, vessel\ndepartures, bulk repairs, marketing campaigns).</p>\n<p>The server architecture:</p>\n<ul>\n<li>Express-based HTTPS server with self-signed certificates</li>\n<li>WebSocket server for real-time chat updates (25-second refresh interval)</li>\n<li>Modular route handlers for alliance, messenger, and game management</li>\n<li>Rate limiting and security middleware</li>\n<li>Network-accessible on all interfaces (listens on 0.0.0.0)</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "automation",
    "longname": "module:automation",
    "url": "module-automation.html",
    "description": "<p>AutoPilot Automation System for Shipping Manager</p>\n<p>Provides intelligent automation features with anti-detection mechanisms:</p>\n<p><strong>Features:</strong></p>\n<ol>\n<li><strong>Auto-Rebuy Fuel</strong> - Monitors fuel prices and automatically purchases when at/below threshold</li>\n<li><strong>Auto-Rebuy CO2</strong> - Monitors CO2 prices and automatically purchases when at/below threshold</li>\n<li><strong>Auto-Depart All</strong> - Continuously departs all vessels in port when fuel is available</li>\n<li><strong>Auto Bulk Repair</strong> - Repairs all vessels with wear &gt; 0 when affordable</li>\n<li><strong>Auto Campaign Renewal</strong> - Renews expired campaigns (reputation, awareness, green)</li>\n</ol>\n<p><strong>Auto-Rebuy Strategy:</strong>\nSimple price-driven logic - whenever price is at or below the configured threshold,\nthe system attempts to purchase. Continues buying every 30-35 seconds (when prices\nupdate) until bunker is full or funds are depleted. No time windows - purely price-based.</p>\n<p><strong>Rate Limiting &amp; Anti-Detection:</strong></p>\n<ul>\n<li>Fuel/CO2 rebuy: Event-driven (triggered by price updates every 30-35s)</li>\n<li>Auto-depart checks: Random 1-2 minute intervals</li>\n<li>Auto-repair checks: Random 1-2 minute intervals</li>\n<li>Campaign renewal checks: Random 2-3 minute intervals</li>\n<li>Global automation loop: Random 1-3 minute intervals</li>\n</ul>\n<p><strong>Event-Driven Architecture:</strong>\nBunker price updates from bunker-management.js trigger rebuy checks via\ntriggerAutoRebuyChecks(). This ensures fuel/CO2 purchases happen immediately\nwhen prices drop, without constant API polling.</p>"
  },
  {
    "type": "module",
    "name": "badge-manager",
    "longname": "module:badge-manager",
    "url": "module-badge-manager.html",
    "description": "<p>Badge Manager\nCentralized badge update system that updates BOTH hidden badges (for compatibility)\nand map icon bar badges directly. During transition, both are updated. Once hidden\nbuttons are removed, only map icon badges will be updated.</p>"
  },
  {
    "type": "module",
    "name": "broadcast",
    "longname": "module:broadcast",
    "url": "module-broadcast.html",
    "description": "<p>Broadcast Templates Module\nManages broadcast message templates for sending to all alliance members via DM.</p>"
  },
  {
    "type": "module",
    "name": "bunker-management",
    "longname": "module:bunker-management",
    "url": "module-bunker-management.html",
    "description": "<p>Bunker Management Module - Handles fuel and CO2 quota purchasing, real-time price monitoring,\nand automated price alerts for the Shipping Manager game. This module tracks commodity prices in 30-minute\nUTC time slots and triggers browser/desktop notifications when prices fall below user-defined thresholds.\nAlso monitors marketing campaign status and notifies users when campaigns are not fully active.</p>\n<p>Key Features:</p>\n<ul>\n<li>Real-time fuel and CO2 price tracking with 30-minute UTC time slot granularity</li>\n<li>Price alert system with browser notifications when thresholds are met</li>\n<li>Maximum capacity tracking and purchase cost calculations</li>\n<li>Marketing campaign monitoring (3 types: reputation, awareness, green)</li>\n<li>Auto-rebuy integration for automated purchasing when conditions are met</li>\n</ul>\n<p>Price Alert Logic:</p>\n<ul>\n<li>Alerts trigger once per price change (prevents spam)</li>\n<li>Resets when price goes above threshold (allows re-alert on next drop)</li>\n<li>Supports both in-app visual alerts and desktop notifications</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "chat",
    "longname": "module:chat",
    "url": "module-chat.html",
    "description": "<p>Alliance Chat Module - Manages real-time alliance chat functionality with WebSocket support,\nmessage rendering, mention autocomplete, and notification handling. This module provides the core\ncommunication interface for alliance members to collaborate and coordinate in the Shipping Manager game.</p>\n<p>Key Features:</p>\n<ul>\n<li>Real-time chat updates via WebSocket (server broadcasts every 25 seconds)</li>\n<li>User mention system with @username autocomplete (converts to [user_id] format)</li>\n<li>Mixed message types: chat messages and system feed events (member joins, route completions)</li>\n<li>Smart auto-scroll behavior (maintains position while scrolling up to read history)</li>\n<li>Desktop notifications for new messages when window is not focused</li>\n<li>Company name caching to reduce API calls</li>\n</ul>\n<p>Message Flow:</p>\n<ol>\n<li>Messages loaded from REST API on initial page load</li>\n<li>WebSocket pushes updates every 25 seconds from server</li>\n<li>New messages trigger notifications if window not focused</li>\n<li>Duplicate messages filtered by type+timestamp+content comparison</li>\n</ol>\n<p>Mention System:</p>\n<ul>\n<li>Typing &quot;@&quot; triggers autocomplete with alliance member list</li>\n<li>Selecting member inserts [user_id] into message</li>\n<li>Server converts [user_id] to @CompanyName on broadcast</li>\n<li>Clicking @CompanyName opens private messenger</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "company-profile",
    "longname": "module:company-profile",
    "url": "module-company-profile.html",
    "description": "<p>Company Profile Overlay Module\nReusable overlay for viewing company profiles (own and other players)\nCan be accessed from: XP star, alliance menu, search results</p>"
  },
  {
    "type": "module",
    "name": "coop",
    "longname": "module:coop",
    "url": "module-coop.html",
    "description": "<p>Alliance Cooperation Management</p>\n<p>Handles alliance coop vessel management including:</p>\n<ul>\n<li>Fetching coop data and statistics</li>\n<li>Displaying member list with coop information</li>\n<li>Managing coop vessel sends (placeholder for future implementation)</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "core/app-initializer",
    "longname": "module:core/app-initializer",
    "url": "module-core_app-initializer.html",
    "description": "<p>Application initializer module.\nOrchestrates the initialization sequence and loads initial data.</p>"
  },
  {
    "type": "module",
    "name": "core/auto-refresh",
    "longname": "module:core/auto-refresh",
    "url": "module-core_auto-refresh.html",
    "description": "<p>Auto-refresh and page visibility management module.\nHandles automatic data refreshes and page visibility change detection.</p>"
  },
  {
    "type": "module",
    "name": "core/badge-cache",
    "longname": "module:core/badge-cache",
    "url": "module-core_badge-cache.html",
    "description": "<p>Badge cache management module.\nHandles loading and saving badge/status data to localStorage for instant\ndisplay on page load before WebSocket sends fresh data.</p>"
  },
  {
    "type": "module",
    "name": "core/debounced-api",
    "longname": "module:core/debounced-api",
    "url": "module-core_debounced-api.html",
    "description": "<p>Debounced API calls module.\nProvides debouncing functionality to prevent excessive API calls when\nuser actions trigger rapid updates (e.g., adjusting threshold sliders).</p>"
  },
  {
    "type": "module",
    "name": "core/event-registry",
    "longname": "module:core/event-registry",
    "url": "module-core_event-registry.html",
    "description": "<p>Event registry module.\nCentralizes all DOM event listener registrations for the application.\nThis module attaches 60+ event listeners to UI elements.</p>"
  },
  {
    "type": "module",
    "name": "core/global-exports",
    "longname": "module:core/global-exports",
    "url": "module-core_global-exports.html",
    "description": "<p>Global exports module.\nExposes functions globally via window object for HTML onclick handlers\nand cross-module communication.</p>"
  },
  {
    "type": "module",
    "name": "core/settings-sync",
    "longname": "module:core/settings-sync",
    "url": "module-core_settings-sync.html",
    "description": "<p>Settings synchronization module.\nHandles settings updates received from WebSocket broadcasts and updates UI\nto keep all browser tabs/devices in sync.</p>"
  },
  {
    "type": "module",
    "name": "core/storage-manager",
    "longname": "module:core/storage-manager",
    "url": "module-core_storage-manager.html",
    "description": "<p>Per-user localStorage management module.\nProvides automatic prefixing of storage keys with user ID to prevent\ndata leakage between accounts when switching users.</p>"
  },
  {
    "type": "module",
    "name": "core/websocket-client",
    "longname": "module:core/websocket-client",
    "url": "module-core_websocket-client.html",
    "description": "<p>WebSocket client module.\nHandles WebSocket connection initialization and provides utilities.\nNote: The actual WebSocket message handling is in chat.js module\nwhich is already set up with the proper handlers.</p>"
  },
  {
    "type": "module",
    "name": "depart-manager",
    "longname": "module:depart-manager",
    "url": "module-depart-manager.html",
    "description": "<p>Depart Manager Panel\nDraggable panel for managing vessel departures</p>"
  },
  {
    "type": "module",
    "name": "desktop-notification-templates",
    "longname": "module:desktop-notification-templates",
    "url": "module-desktop-notification-templates.html",
    "description": "<p>Desktop Notification Templates</p>\n<p>Standardized desktop/browser notification system with consistent formatting.</p>"
  },
  {
    "type": "module",
    "name": "event-info",
    "longname": "module:event-info",
    "url": "module-event-info.html",
    "description": "<p>Event Information Module</p>\n<p>Displays complete event information in a modal window.\nShows all event details including ports, discounts, timing, and demand multipliers.</p>"
  },
  {
    "type": "module",
    "name": "forecast-calendar",
    "longname": "module:forecast-calendar",
    "url": "module-forecast-calendar.html",
    "description": "<p>Forecast Calendar Module</p>\n<p>Displays an interactive price forecast calendar with page-flip navigation.\nShows fuel and CO2 prices for upcoming days with color-coded pricing tiers.</p>\n<p>The module now relies on server-side timezone conversion - all data is\nreceived already converted to the browser's local timezone.</p>"
  },
  {
    "type": "module",
    "name": "harbor-map-aggregator",
    "longname": "module:harbor-map-aggregator",
    "url": "module-harbor-map-aggregator.html",
    "description": "<p>Harbor Map Data Aggregator\nAggregates vessel and port data from multiple API sources\nCombines reachable ports with demand data from game/index</p>"
  },
  {
    "type": "module",
    "name": "harbor-map-calculator",
    "longname": "module:harbor-map-calculator",
    "url": "module-harbor-map-calculator.html",
    "description": "<p>Harbor Map Calculator Utilities\nHandles position calculations, ETA formatting, and demand level determination</p>"
  },
  {
    "type": "module",
    "name": "harbor-map-init",
    "longname": "module:harbor-map-init",
    "url": "module-harbor-map-init.html",
    "description": "<p>Harbor Map Initialization Module\nWires up harbor map functionality with event listeners\nExports initialization function to be called from script.js</p>"
  },
  {
    "type": "module",
    "name": "harbor-map/api-client",
    "longname": "module:harbor-map/api-client",
    "url": "module-harbor-map_api-client.html",
    "description": "<p>Harbor Map API Client\nHandles all communication with harbor-map backend endpoints\nAll responses are ready-to-render data (no processing in frontend)</p>"
  },
  {
    "type": "module",
    "name": "harbor-map/filters",
    "longname": "module:harbor-map/filters",
    "url": "module-harbor-map_filters.html",
    "description": "<p>Client-Side Filtering Logic for Harbor Map\nAll filtering happens in browser - NO API calls when changing filters</p>\n<p>Filter Types:</p>\n<ul>\n<li>Max Demand: Uses the <code>demand</code> field directly (total demand capacity)</li>\n<li>Current Demand: Uses <code>demand - consumed</code> (remaining unfulfilled demand)</li>\n<li>My Ports: Only ports where isAssigned === true</li>\n<li>All Ports: All ports regardless of assignment</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "harbor-map/map-controller",
    "longname": "module:harbor-map/map-controller",
    "url": "module-harbor-map_map-controller.html",
    "description": "<p>Harbor Map Controller\nHandles Leaflet.js map initialization, rendering, and user interactions\nONLY renders data - NO data processing (all logic in backend)</p>"
  },
  {
    "type": "module",
    "name": "harbor-map/panel-drag",
    "longname": "module:harbor-map/panel-drag",
    "url": "module-harbor-map_panel-drag.html",
    "description": "<p>Panel Drag &amp; Drop Component\nMakes detail panels draggable on the map\nPanels can be freely repositioned after sliding in from the right</p>"
  },
  {
    "type": "module",
    "name": "harbor-map/port-panel",
    "longname": "module:harbor-map/port-panel",
    "url": "module-harbor-map_port-panel.html",
    "description": "<p>Port Detail Panel Component\nRenders port information panel with demand analytics and vessel lists\nONLY renders data - NO data processing</p>"
  },
  {
    "type": "module",
    "name": "harbor-map/route-vessels-panel",
    "longname": "module:harbor-map/route-vessels-panel",
    "url": "module-harbor-map_route-vessels-panel.html",
    "description": "<p>Route Vessels Panel Component\nShows a list of all vessels on a selected route\nClicking a vessel opens the vessel detail panel</p>"
  },
  {
    "type": "module",
    "name": "harbor-map/vessel-panel",
    "longname": "module:harbor-map/vessel-panel",
    "url": "module-harbor-map_vessel-panel.html",
    "description": "<p>Vessel Detail Panel Component\nRenders vessel information panel with trip history and actions\nONLY renders data - NO data processing</p>"
  },
  {
    "type": "module",
    "name": "logbook",
    "longname": "module:logbook",
    "url": "module-logbook.html",
    "description": "<p>Autopilot Logbook Module - Display and manage autopilot action logs</p>\n<p>Provides transparency into all autopilot operations with SUCCESS/ERROR tracking.\nFeatures table view with filters, search, expand/collapse details, and export functionality.</p>\n<p>Key Features:</p>\n<ul>\n<li>Real-time log updates via WebSocket</li>\n<li>Filters: Status (All/Success/Warning/Error), Time Range (Today/Yesterday/48h/7days/lastweek/30days/lastmonth/All), Autopilot (dynamic list)</li>\n<li>Search: Full-text search across all fields including nested details</li>\n<li>Expand/collapse: Click rows to see detailed operation data, double-click details to collapse</li>\n<li>Export: Download logs as TXT, CSV, or JSON</li>\n<li>Smart auto-prepend: New entries appear at top without scrolling user</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "map-icon-bar",
    "longname": "module:map-icon-bar",
    "url": "module-map-icon-bar.html",
    "description": "<p>Map Icon Bar\nFloating icon bar on harbor map that provides quick access to actions\nDesktop: Horizontal top-right, Mobile: Vertical right side</p>"
  },
  {
    "type": "module",
    "name": "messenger",
    "longname": "module:messenger",
    "url": "module-messenger.html",
    "description": "<p>Private Messaging Module - Handles direct message conversations between players and system notifications.\nProvides a WhatsApp-style messaging interface with conversation selection, message threading, and system message handling.</p>\n<p>Key Features:</p>\n<ul>\n<li>Multi-conversation management with subject-based threading</li>\n<li>System notification handling (vessel hijacking, stock transactions, alliance events)</li>\n<li>Chat selection overlay for choosing between multiple conversations with same user</li>\n<li>Message bubble UI with sender identification</li>\n<li>Unread badge tracking</li>\n<li>Chat deletion with confirmation</li>\n<li>Integration with contact list and alliance chat</li>\n</ul>\n<p>Conversation Flow:</p>\n<ol>\n<li>User clicks company name (from chat/contacts)</li>\n<li>System fetches all conversations with that user</li>\n<li>Conversation selection overlay displays (or creates new chat)</li>\n<li>Selected conversation opens with full message history</li>\n<li>User can send replies or delete conversation</li>\n</ol>\n<p>System Messages:</p>\n<ul>\n<li>Read-only notifications from game (vessel hijacked, stock trades, etc.)</li>\n<li>Formatted with specialized templates per message type</li>\n<li>Grouped under &quot;Gameplay&quot; participant</li>\n<li>Cannot reply (input hidden for system chats)</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "public/js/modules/hijacking",
    "longname": "module:public/js/modules/hijacking",
    "url": "module-public_js_modules_hijacking.html",
    "description": "<p>Hijacking Management - Blackbeard's Phone Booth</p>\n<p>Manages the hijacking inbox system, separate from messenger.\nShows all hijacking cases (open + closed) in dedicated overlay.</p>\n<p>Key Features:</p>\n<ul>\n<li>Dedicated hijacking inbox overlay</li>\n<li>Badge count for open cases only</li>\n<li>Case list format: [CASE_ID] [OPEN|CLOSED] Vessel Name - $Amount</li>\n<li>Delete functionality for closed cases</li>\n<li>Click to view full case details</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "route-planner",
    "longname": "module:route-planner",
    "url": "module-route-planner.html",
    "description": "<p>Route Planner Panel\nDraggable panel for planning vessel routes</p>"
  },
  {
    "type": "module",
    "name": "server/analytics/aggregator",
    "longname": "module:server/analytics/aggregator",
    "url": "module-server_analytics_aggregator.html",
    "description": "<p>Analytics Aggregation Module</p>\n<p>Reads audit log and trip data to calculate analytics summaries:</p>\n<ul>\n<li>Weekly/daily revenue, expenses, profit</li>\n<li>Vessel performance metrics</li>\n<li>Route profitability analysis</li>\n<li>Fuel/CO2 purchase analysis</li>\n<li>Harbor fee analysis by port</li>\n<li>Contribution tracking</li>\n</ul>\n<p>All data is LOCAL (JSON files) - no API calls needed.\nExpected load time: ~100-200ms for full analytics data.</p>"
  },
  {
    "type": "module",
    "name": "server/analytics/api-stats-store",
    "longname": "module:server/analytics/api-stats-store",
    "url": "module-server_analytics_api-stats-store.html",
    "description": "<p>API Stats Time-Series Store</p>\n<p>Stores API call statistics in time-series format for analytics.\nData is aggregated per minute to keep file sizes manageable.</p>\n<p>Storage format:</p>\n<ul>\n<li>One file per day: api-stats-YYYY-MM-DD.json</li>\n<li>Each file contains minute-by-minute stats per endpoint</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/analytics/lookup-store",
    "longname": "module:server/analytics/lookup-store",
    "url": "module-server_analytics_lookup-store.html",
    "description": "<p>Lookup Store (POD4)</p>\n<p>Combines data from all three PODs into a unified lookup table:</p>\n<ul>\n<li>POD1: Game Transactions (transaction-store.js)</li>\n<li>POD2: Audit Log (logbook.js)</li>\n<li>POD3: Vessel History (vessel-history-store.js)</li>\n</ul>\n<p>Matching algorithm:</p>\n<ol>\n<li>Exact: timestamp === pod2.timestamp &amp;&amp; cash === pod2.cash</li>\n<li>Near: |timestamp - pod2.timestamp| &lt;= 2000ms &amp;&amp; cash === pod2.cash</li>\n<li>Tolerant: |timestamp - pod2.timestamp| &lt;= 2000ms &amp;&amp; |cash - pod2.cash| &lt;= cash * 0.10</li>\n</ol>"
  },
  {
    "type": "module",
    "name": "server/analytics/transaction-store",
    "longname": "module:server/analytics/transaction-store",
    "url": "module-server_analytics_transaction-store.html",
    "description": "<p>Transaction Store</p>\n<p>Fetches and stores game transaction history locally.\nThe game API only provides ~7 days of data via /user/get-weekly-transactions\nThis module stores all transactions persistently for long-term analytics.</p>"
  },
  {
    "type": "module",
    "name": "server/analytics/vessel-history-store",
    "longname": "module:server/analytics/vessel-history-store",
    "url": "module-server_analytics_vessel-history-store.html",
    "description": "<p>Vessel History Store</p>\n<p>Fetches and caches vessel trip history from the Game API.\nTransforms historical data into &quot;Game Departure&quot; entries compatible\nwith the audit log format for analytics merging.</p>\n<p>Features:</p>\n<ul>\n<li>Incremental sync: tracks per-vessel sync state</li>\n<li>Resumable: saves progress after each vessel</li>\n<li>Auto-start: can run in background on server startup</li>\n<li>Only fetches new entries since last sync per vessel</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/automation",
    "longname": "module:server/automation",
    "url": "module-server_automation.html",
    "description": "<p>Backend Automation System</p>\n<p>Runs server-side automation tasks with configurable intervals:</p>\n<ul>\n<li>Auto-Repair: Repairs vessels based on settings (interval from settings)</li>\n</ul>\n<p>Why Backend:</p>\n<ul>\n<li>Runs even when browser is closed</li>\n<li>More reliable timing (not affected by browser sleep/throttling)</li>\n<li>Centralized control for all users</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/autopilot",
    "longname": "module:server/autopilot",
    "url": "module-server_autopilot.html",
    "description": "<p>Autopilot Service - Main Orchestrator</p>\n<p>Centralized autopilot logic running on the backend.\nCoordinates all pilot modules and manages shared state.</p>\n<p>Key Features:</p>\n<ul>\n<li>Price updates at fixed times (:01 and :31 every hour)</li>\n<li>Orchestrates 8 specialized pilot modules</li>\n<li>Badge updates (repair count, campaigns, hijacking)</li>\n<li>Main event loop coordination</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/autopilot/pilot_atmosphere_broker",
    "longname": "module:server/autopilot/pilot_atmosphere_broker",
    "url": "module-server_autopilot_pilot_atmosphere_broker.html",
    "description": "<p>Atmosphere Broker - Auto-Rebuy CO2 Pilot</p>\n<p>Automatically purchases CO2 when price is below threshold and bunker has space.\nNO COOLDOWNS - purchases immediately when conditions are met.</p>"
  },
  {
    "type": "module",
    "name": "server/autopilot/pilot_barrel_boss",
    "longname": "module:server/autopilot/pilot_barrel_boss",
    "url": "module-server_autopilot_pilot_barrel_boss.html",
    "description": "<p>Barrel Boss - Auto-Rebuy Fuel Pilot</p>\n<p>Automatically purchases fuel when price is below threshold and bunker has space.\nNO COOLDOWNS - purchases immediately when conditions are met.</p>"
  },
  {
    "type": "module",
    "name": "server/autopilot/pilot_captain_blackbeard",
    "longname": "module:server/autopilot/pilot_captain_blackbeard",
    "url": "module-server_autopilot_pilot_captain_blackbeard.html",
    "description": "<p>Captain Blackbeard - Auto-Negotiate Hijacking Pilot</p>\n<p>Automatically negotiates hijacked vessels.\nStrategy: Make exactly 2 counter-offers (25%), then accept pirate's price.</p>\n<p>Flow (identical to manual):</p>\n<ol>\n<li>Pirate demands X</li>\n<li>We offer 25% -&gt; API returns pirate counter Y immediately</li>\n<li>We offer 25% of Y -&gt; API returns pirate counter Z immediately</li>\n<li>We ACCEPT Z (pay ransom)</li>\n</ol>"
  },
  {
    "type": "module",
    "name": "server/autopilot/pilot_cargo_marshal",
    "longname": "module:server/autopilot/pilot_cargo_marshal",
    "url": "module-server_autopilot_pilot_cargo_marshal.html",
    "description": "<p>Cargo Marshal - Auto-Depart Vessels Pilot</p>\n<p>Automatically departs vessels with intelligent demand-based routing.\nIncludes race condition prevention and $0 revenue protection.</p>"
  },
  {
    "type": "module",
    "name": "server/autopilot/pilot_drydock_master",
    "longname": "module:server/autopilot/pilot_drydock_master",
    "url": "module-server_autopilot_pilot_drydock_master.html",
    "description": "<p>Drydock Master - Auto Drydock Pilot</p>\n<p>Automatically sends vessels to drydock when hours_until_check reaches threshold.\nRespects minimum cash balance requirements.</p>"
  },
  {
    "type": "module",
    "name": "server/autopilot/pilot_fair_hand",
    "longname": "module:server/autopilot/pilot_fair_hand",
    "url": "module-server_autopilot_pilot_fair_hand.html",
    "description": "<p>Fair Hand - Auto-COOP Sending Pilot</p>\n<p>Automatically sends available COOP vessels to alliance members.\nRuns every 3 hours (0, 3, 6, 9, 12, 15, 18, 21 UTC).</p>"
  },
  {
    "type": "module",
    "name": "server/autopilot/pilot_harbormaster",
    "longname": "module:server/autopilot/pilot_harbormaster",
    "url": "module-server_autopilot_pilot_harbormaster.html",
    "description": "<p>Harbormaster - Auto-Purchase Anchor Points Pilot</p>\n<p>Automatically purchases anchor points respecting construction timer.\nChecks construction timer, price threshold, and cash availability before purchase.</p>"
  },
  {
    "type": "module",
    "name": "server/autopilot/pilot_reputation_chief",
    "longname": "module:server/autopilot/pilot_reputation_chief",
    "url": "module-server_autopilot_pilot_reputation_chief.html",
    "description": "<p>Reputation Chief - Auto Campaign Renewal Pilot</p>\n<p>Automatically renews reputation/awareness/green campaigns when they expire.\nEvent-driven: triggers immediately when active campaigns &lt; 3.</p>"
  },
  {
    "type": "module",
    "name": "server/autopilot/pilot_staff_captain",
    "longname": "module:server/autopilot/pilot_staff_captain",
    "url": "module-server_autopilot_pilot_staff_captain.html",
    "description": "<p>Staff Captain - Auto-Manage Staff Morale Pilot</p>\n<p>Automatically manages staff salaries to maintain crew and management morale\nat or above target levels without exceeding +3% threshold.</p>"
  },
  {
    "type": "module",
    "name": "server/autopilot/pilot_the_purser",
    "longname": "module:server/autopilot/pilot_the_purser",
    "url": "module-server_autopilot_pilot_the_purser.html",
    "description": "<p>The Purser - Auto Stock Trading Pilot</p>\n<p>Automatically purchases stocks from fresh IPOs and sells falling investments.\nUses the IPO Alert threshold for finding fresh companies.</p>\n<p>Auto-Buy Logic:</p>\n<ol>\n<li>Gets fresh IPOs from ipo-refresh cache (already filtered by max age + stock_for_sale &gt; 0)</li>\n<li>Filters by max stock price setting</li>\n<li>Checks cash balance &gt;= min cash reserve</li>\n<li>Purchases all available shares from each qualifying IPO</li>\n</ol>\n<p>Auto-Sell Logic:</p>\n<ol>\n<li>Fetches user investments via /stock/get-finance-overview</li>\n<li>Tracks purchased stocks (via investments data)</li>\n<li>Sells when stock is falling for X days OR dropped by Y%</li>\n</ol>"
  },
  {
    "type": "module",
    "name": "server/autopilot/pilot_yard_foreman",
    "longname": "module:server/autopilot/pilot_yard_foreman",
    "url": "module-server_autopilot_pilot_yard_foreman.html",
    "description": "<p>Yard Foreman - Auto Bulk Repair Pilot</p>\n<p>Automatically repairs vessels when wear reaches threshold.\nRespects minimum cash balance requirements.</p>"
  },
  {
    "type": "module",
    "name": "server/cache",
    "longname": "module:server/cache",
    "url": "module-server_cache.html",
    "description": "<p>Campaign Cache Module</p>\n<p>Provides time-based caching ONLY for campaign data.\nCampaigns change infrequently (only on manual activation).</p>\n<p>Note: /game/index and port demand data changes too frequently for safe caching.</p>"
  },
  {
    "type": "module",
    "name": "server/certificate",
    "longname": "module:server/certificate",
    "url": "module-server_certificate.html",
    "description": "<p>HTTPS Certificate Generation and Management Module</p>\n<p>This module handles automatic generation and management of self-signed SSL/TLS certificates\nfor the Shipping Manager CoPilot application. It creates a Certificate Authority (CA) that can\nbe trusted by browsers, then generates server certificates signed by that CA.</p>\n<p>Key Features:</p>\n<ul>\n<li>Generates a long-lived (10 year) Certificate Authority that can be installed in system trust store</li>\n<li>Creates server certificates with Subject Alternative Names (SANs) for all network interfaces</li>\n<li>Supports localhost, 127.0.0.1, ::1, and all LAN IP addresses (e.g., 192.168.x.x)</li>\n<li>Provides automatic CA installation on Windows via certutil (requires admin rights)</li>\n<li>Certificates valid for 1 year and automatically regenerated when missing</li>\n</ul>\n<p>Why This Exists:</p>\n<ul>\n<li>WebSocket connections (wss://) require HTTPS, not just HTTP</li>\n<li>Browser security policies require trusted certificates for WebSocket communication</li>\n<li>Supporting multiple network interfaces allows access from other devices on LAN</li>\n<li>CA-based approach allows one-time browser trust instead of per-certificate warnings</li>\n</ul>\n<p>Certificate Chain:\nCA Certificate (10yr) ‚Üí Server Certificate (1yr)\nca-cert.pem, ca-key.pem ‚Üí cert.pem, key.pem</p>\n<p>Installation Workflow:</p>\n<ol>\n<li>First run: Generate CA + server cert, prompt for CA installation</li>\n<li>User installs CA in system trust store (manual or automatic)</li>\n<li>All future server certificates signed by this CA are automatically trusted</li>\n<li>Server cert regenerated when missing (uses existing CA if available)</li>\n</ol>"
  },
  {
    "type": "module",
    "name": "server/chatbot",
    "longname": "module:server/chatbot",
    "url": "module-server_chatbot.html",
    "description": "<p>Chat Bot System</p>\n<p>Main orchestrator for ChatBot functionality.\nDelegates to specialized modules for settings, parsing, commands, and scheduling.</p>\n<p>Features:</p>\n<ul>\n<li>Command parsing and execution</li>\n<li>Private message auto-reply</li>\n<li>Scheduled message sending</li>\n<li>Custom command management</li>\n<li>Rate limiting and cooldowns</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/chatbot/commands",
    "longname": "module:server/chatbot/commands",
    "url": "module-server_chatbot_commands.html",
    "description": "<p>ChatBot Command Handlers Module</p>\n<p>Handles built-in command logic (forecast, help).\nCustom commands are handled by executor.js.</p>"
  },
  {
    "type": "module",
    "name": "server/chatbot/executor",
    "longname": "module:server/chatbot/executor",
    "url": "module-server_chatbot_executor.html",
    "description": "<p>ChatBot Command Executor Module</p>\n<p>Routes parsed commands to appropriate handlers.\nHandles both built-in commands (forecast, help) and custom commands.</p>"
  },
  {
    "type": "module",
    "name": "server/chatbot/parser",
    "longname": "module:server/chatbot/parser",
    "url": "module-server_chatbot_parser.html",
    "description": "<p>ChatBot Message Parser Module</p>\n<p>Parses incoming alliance chat and private messages for commands.\nHandles command resolution, cooldowns, validation, and execution routing.</p>"
  },
  {
    "type": "module",
    "name": "server/chatbot/scheduler",
    "longname": "module:server/chatbot/scheduler",
    "url": "module-server_chatbot_scheduler.html",
    "description": "<p>ChatBot Scheduler Module</p>\n<p>Handles scheduled task management (daily forecasts, etc.).</p>"
  },
  {
    "type": "module",
    "name": "server/chatbot/sender",
    "longname": "module:server/chatbot/sender",
    "url": "module-server_chatbot_sender.html",
    "description": "<p>ChatBot Message Sender Module</p>\n<p>Handles sending responses via alliance chat or private messages.\nIncludes global DM queue with rate limiting to respect Game API limits.</p>"
  },
  {
    "type": "module",
    "name": "server/chatbot/settings",
    "longname": "module:server/chatbot/settings",
    "url": "module-server_chatbot_settings.html",
    "description": "<p>ChatBot Settings Manager Module</p>\n<p>Handles loading, mapping, and updating ChatBot settings.\nSettings are stored in per-user settings files with flat keys.</p>"
  },
  {
    "type": "module",
    "name": "server/config",
    "longname": "module:server/config",
    "url": "module-server_config.html",
    "description": "<p>Centralized configuration for Shipping Manager application.\nContains all server settings, API endpoints, rate limiting rules, and timing intervals.\nSession cookie is loaded from encrypted sessions.json (secure storage).</p>\n<p>Important configuration notes:</p>\n<ul>\n<li>All settings loaded from userdata/settings/settings.json (NO env vars)</li>\n<li>Rate limits are set conservatively to avoid API detection</li>\n<li>Chat refresh interval is 25 seconds (within the 29-minute price window)</li>\n<li>Session cookie provides full account access - never log or expose it</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/gameapi",
    "longname": "module:server/gameapi",
    "url": "module-server_gameapi.html",
    "description": "<p>Game API Client - Central Entry Point</p>\n<p>This module re-exports all API functions from sub-modules for backward compatibility.\nExisting code using require('./gameapi') or require('../gameapi') continues to work unchanged.</p>\n<p>Sub-modules:</p>\n<ul>\n<li>bunker.js: Fuel/CO2 prices and purchases</li>\n<li>vessel.js: Vessel operations and departures</li>\n<li>port.js: Port and route data</li>\n<li>campaign.js: Marketing campaigns</li>\n<li>maintenance.js: Vessel repairs</li>\n<li>util.js: Events, messages, game index</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/gameapi/alliance",
    "longname": "module:server/gameapi/alliance",
    "url": "module-server_gameapi_alliance.html",
    "description": "<p>Alliance API Client Module</p>\n<p>This module handles alliance-related API calls including:</p>\n<ul>\n<li>Fetching user's current contribution points</li>\n<li>Alliance member statistics</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/gameapi/bunker",
    "longname": "module:server/gameapi/bunker",
    "url": "module-server_gameapi_bunker.html",
    "description": "<p>Bunker Operations API Client Module</p>\n<p>This module handles all bunker-related API calls including:</p>\n<ul>\n<li>Fetching fuel and CO2 prices (with event discount handling)</li>\n<li>Getting bunker state (fuel, CO2, cash, capacity)</li>\n<li>Purchasing fuel and CO2 certificates</li>\n<li>Price bug detection and logging</li>\n</ul>\n<p>API Quirks:</p>\n<ul>\n<li>Prices use UTC time slots (00:00, 00:30, 01:00, etc.)</li>\n<li>Fuel/CO2 stored in kg but displayed in tons (1t = 1000kg)</li>\n<li>Purchase API doesn't return cost (must calculate ourselves)</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/gameapi/campaign",
    "longname": "module:server/gameapi/campaign",
    "url": "module-server_gameapi_campaign.html",
    "description": "<p>Marketing Campaign API Client Module</p>\n<p>This module handles all marketing campaign-related API calls including:</p>\n<ul>\n<li>Fetching available and active campaigns</li>\n<li>Activating campaigns by ID</li>\n<li>Campaign cache management</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/gameapi/maintenance",
    "longname": "module:server/gameapi/maintenance",
    "url": "module-server_gameapi_maintenance.html",
    "description": "<p>Vessel Maintenance API Client Module</p>\n<p>This module handles all maintenance-related API calls including:</p>\n<ul>\n<li>Getting maintenance cost calculations</li>\n<li>Performing bulk vessel repairs</li>\n<li>Counting vessels needing repair</li>\n</ul>\n<p>API Quirks:</p>\n<ul>\n<li>vessel_ids must be sent as JSON string, not array</li>\n<li>getMaintenanceCost doesn't return total_cost (must calculate)</li>\n<li>bulkRepairVessels does return total_cost field</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/gameapi/port",
    "longname": "module:server/gameapi/port",
    "url": "module-server_gameapi_port.html",
    "description": "<p>Port API Client Module</p>\n<p>This module handles all port and route-related API calls including:</p>\n<ul>\n<li>Fetching assigned ports with demand data</li>\n<li>Getting auto-price calculations for routes</li>\n<li>Retrieving reachable ports for vessels</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/gameapi/util",
    "longname": "module:server/gameapi/util",
    "url": "module-server_gameapi_util.html",
    "description": "<p>Utility API Client Module</p>\n<p>This module handles utility API calls including:</p>\n<ul>\n<li>Fetching unread message counts</li>\n<li>Getting active event data</li>\n<li>Retrieving complete game index state</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/gameapi/vessel",
    "longname": "module:server/gameapi/vessel",
    "url": "module-server_gameapi_vessel.html",
    "description": "<p>Vessel API Client Module</p>\n<p>This module handles all vessel-related API calls including:</p>\n<ul>\n<li>Fetching vessel data</li>\n<li>Departing vessels on routes</li>\n<li>Getting vessel history</li>\n<li>Harbor fee bug detection and logging</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/middleware/index",
    "longname": "module:server/middleware/index",
    "url": "module-server_middleware_index.html",
    "description": "<p>Express Middleware Configuration and Setup</p>\n<p>This module centralizes all middleware configuration for the Express application,\nincluding security headers, rate limiting, body parsing, and static file serving.\nIt provides a single point of configuration for application-wide middleware concerns.</p>\n<p>Key Features:</p>\n<ul>\n<li>Security headers via Helmet (customized for network access requirements)</li>\n<li>Two-tier rate limiting (global + message-specific)</li>\n<li>JSON body parsing with size limits</li>\n<li>Static file serving for frontend assets</li>\n</ul>\n<p>Why This Architecture:</p>\n<ul>\n<li>Separates middleware concerns from main app.js logic</li>\n<li>Centralizes security and performance configuration</li>\n<li>Provides reusable rate limiters for different endpoint types</li>\n<li>Ensures consistent middleware application order</li>\n</ul>\n<p>Middleware Application Order (Critical):</p>\n<ol>\n<li>Helmet (security headers)</li>\n<li>Body parser (JSON parsing)</li>\n<li>Static files (public/ directory)</li>\n<li>Global rate limiter</li>\n<li>Routes (defined in app.js)</li>\n<li>Message-specific limiter (applied per-route)</li>\n</ol>\n<p>Security Posture:</p>\n<ul>\n<li>Helmet disabled CSP to allow network access (192.168.x.x)</li>\n<li>Rate limiting prevents API abuse and DoS attacks</li>\n<li>50KB body limit allows history storage while preventing excessive payloads</li>\n<li>CORS headers disabled for cross-origin access from LAN devices</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/routes/alliance",
    "longname": "module:server/routes/alliance",
    "url": "module-server_routes_alliance.html",
    "description": "<p>Alliance Chat API Routes</p>\n<p>This module defines HTTP endpoints for alliance chat functionality, including\nfetching the chat feed, sending messages, and retrieving alliance member information.\nIt acts as a proxy between the frontend and the Shipping Manager game API.</p>\n<p>Key Features:</p>\n<ul>\n<li>Chat feed retrieval with message transformation (API format ‚Üí client format)</li>\n<li>Message sending with validation and rate limiting</li>\n<li>Company name lookup by user ID (used for chat rendering)</li>\n<li>Alliance member list retrieval</li>\n<li>Graceful handling of users not in alliance (no_alliance flag)</li>\n</ul>\n<p>Why This Exists:</p>\n<ul>\n<li>Centralizes alliance-related endpoints</li>\n<li>Abstracts game API details from frontend</li>\n<li>Provides input validation and sanitization</li>\n<li>Implements rate limiting on message sending</li>\n<li>Transforms timestamps and enriches data with company names</li>\n</ul>\n<p>Security Considerations:</p>\n<ul>\n<li>Message length validation (0-1000 characters)</li>\n<li>Input sanitization via validator.trim() and validator.unescape()</li>\n<li>Rate limiting: 30 messages per minute (messageLimiter)</li>\n<li>User ID validation (must be positive integer)</li>\n<li>Authentication inherited from apiCall() session cookie</li>\n</ul>\n<p>No Alliance Handling:</p>\n<ul>\n<li>All endpoints check getAllianceId() before proceeding</li>\n<li>Returns appropriate response when user not in alliance</li>\n<li>Prevents 404 errors from game API alliance endpoints</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/routes/alliance-logo",
    "longname": "module:server/routes/alliance-logo",
    "url": "module-server_routes_alliance-logo.html",
    "description": "<p>Alliance Logo Proxy with Color Replacement</p>\n<p>Proxies alliance logo SVGs from shippingmanager.cc and replaces\nthe fill color with the specified primary color from image_colors.</p>"
  },
  {
    "type": "module",
    "name": "server/routes/alliances",
    "longname": "module:server/routes/alliances",
    "url": "module-server_routes_alliances.html",
    "description": "<p>Alliance Search Routes</p>\n<p>Provides API endpoints for searching and filtering alliances.</p>"
  },
  {
    "type": "module",
    "name": "server/routes/analytics",
    "longname": "module:server/routes/analytics",
    "url": "module-server_routes_analytics.html",
    "description": "<p>Analytics API Routes</p>\n<p>Provides endpoints for business intelligence and analytics:</p>\n<ul>\n<li>Weekly/daily summaries</li>\n<li>Vessel performance metrics</li>\n<li>Route profitability</li>\n<li>Purchase analysis</li>\n<li>Harbor fee analysis</li>\n<li>Contribution tracking</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/routes/anchor",
    "longname": "module:server/routes/anchor",
    "url": "module-server_routes_anchor.html",
    "description": "<p>Anchor Point API Routes</p>\n<p>This module provides HTTP endpoints for anchor point management including\nprice retrieval and purchasing of anchor points.</p>\n<p>Key Features:</p>\n<ul>\n<li>Fetch current anchor point price and construction duration</li>\n<li>Purchase anchor points (1-10 at a time, all built in parallel)</li>\n<li>Support for auto-purchase autopilot feature</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/routes/broadcast",
    "longname": "module:server/routes/broadcast",
    "url": "module-server_routes_broadcast.html",
    "description": "<p>Broadcast Templates API Routes</p>\n<p>Manages broadcast message templates that can be sent to all alliance members via DM.\nTemplates are stored per-user in userdata/broadcast-templates/{userId}.json</p>\n<p>Features:</p>\n<ul>\n<li>CRUD operations for broadcast templates (key + message text)</li>\n<li>Send broadcast to all alliance members (sends DM to each member)</li>\n<li>Rate limiting to prevent spam</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/routes/coop",
    "longname": "module:server/routes/coop",
    "url": "module-server_routes_coop.html",
    "description": "<p>Alliance Cooperation Routes</p>\n<p>Handles cooperation/coop vessel management within alliances.\nProvides endpoints for viewing coop stats and member information.</p>"
  },
  {
    "type": "module",
    "name": "server/routes/forecast",
    "longname": "module:server/routes/forecast",
    "url": "module-server_routes_forecast.html",
    "description": "<p>Forecast API Route - Clean Timezone Implementation</p>\n<p>APPROACH:</p>\n<ul>\n<li>Source data (forecast.json) is ALWAYS in CEST (UTC+2) - never changes</li>\n<li>API converts from CEST to requested timezone (default: server local timezone)</li>\n<li>All timezone calculations happen server-side</li>\n<li>Response includes clear metadata about source and delivered timezone</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/routes/game",
    "longname": "module:server/routes/game",
    "url": "module-server_routes_game.html",
    "description": "<p>Game Management API Routes - Main Router</p>\n<p>This module serves as the central router that imports and mounts all game-related\nsub-routers. It organizes game endpoints into logical groups for better maintainability\nand parallel development.</p>\n<p>Sub-routers:</p>\n<ul>\n<li>vessel.js: Vessel management (buy, sell, repair, rename)</li>\n<li>bunker.js: Fuel and CO2 purchasing</li>\n<li>maintenance.js: Vessel wear repairs and drydock services</li>\n<li>marketing.js: Marketing campaign management</li>\n<li>autopilot.js: Autopilot control and status</li>\n<li>depart.js: Vessel departure logic</li>\n<li>user.js: User settings, company data, and version checking</li>\n</ul>\n<p>URL Structure:</p>\n<ul>\n<li>/api/vessel/*     ‚Üí vessel.js</li>\n<li>/api/bunker/*     ‚Üí bunker.js</li>\n<li>/api/maintenance/* ‚Üí maintenance.js</li>\n<li>/api/marketing/*  ‚Üí marketing.js</li>\n<li>/api/autopilot/*  ‚Üí autopilot.js</li>\n<li>/api/route/*      ‚Üí depart.js</li>\n<li>/api/user/*       ‚Üí user.js</li>\n<li>/api/port/*       ‚Üí user.js</li>\n<li>/api/game/*       ‚Üí user.js</li>\n<li>/api/version/*    ‚Üí user.js</li>\n<li>/api/check-price-alerts ‚Üí autopilot.js (special top-level route)</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/routes/game/autopilot",
    "longname": "module:server/routes/game/autopilot",
    "url": "module-server_routes_game_autopilot.html",
    "description": "<p>Autopilot Control Routes</p>\n<p>This module provides endpoints for controlling and monitoring the autopilot system.\nThe autopilot automates vessel departures, repairs, and rebuy operations.</p>\n<p>Key Features:</p>\n<ul>\n<li>Toggle autopilot pause/resume state</li>\n<li>Get current autopilot status</li>\n<li>Manual trigger for auto-depart (event-driven)</li>\n<li>Price alert checking and notifications</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/routes/game/bunker",
    "longname": "module:server/routes/game/bunker",
    "url": "module-server_routes_game_bunker.html",
    "description": "<p>Bunker Management Routes</p>\n<p>This module provides endpoints for fuel and CO2 certificate purchasing.\nIncludes lock management to prevent concurrent purchases, cost calculation,\naudit logging, and WebSocket broadcasting for real-time UI updates.</p>\n<p>Key Features:</p>\n<ul>\n<li>Get current fuel and CO2 market prices</li>\n<li>Purchase fuel with lock management and notifications</li>\n<li>Purchase CO2 certificates with lock management and notifications</li>\n<li>Calculate actual costs including discounts</li>\n<li>Audit logging for all purchases</li>\n<li>WebSocket broadcasts for UI synchronization</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/routes/game/depart",
    "longname": "module:server/routes/game/depart",
    "url": "module-server_routes_game_depart.html",
    "description": "<p>Vessel Departure Routes</p>\n<p>This module provides the universal endpoint for vessel departures.\nIt supports departing all vessels or specific vessels by ID.</p>\n<p>Key Features:</p>\n<ul>\n<li>Universal depart endpoint for all vessels or specific ones</li>\n<li>Integration with autopilot system for departure logic</li>\n<li>Audit logging of departure results</li>\n<li>Harbor fee tracking for vessel history</li>\n<li>WebSocket broadcast notifications</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/routes/game/maintenance",
    "longname": "module:server/routes/game/maintenance",
    "url": "module-server_routes_game_maintenance.html",
    "description": "<p>Vessel Maintenance Routes</p>\n<p>This module provides endpoints for vessel maintenance operations including\nwear repairs and drydock services (major/minor antifouling restoration).</p>\n<p>Key Features:</p>\n<ul>\n<li>Get maintenance cost calculations for vessels</li>\n<li>Perform bulk wear maintenance repairs</li>\n<li>Check drydock service availability and pricing</li>\n<li>Execute bulk drydock operations with lock management</li>\n<li>Audit logging for all maintenance operations</li>\n<li>WebSocket notifications for operation progress</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/routes/game/marketing",
    "longname": "module:server/routes/game/marketing",
    "url": "module-server_routes_game_marketing.html",
    "description": "<p>Marketing Campaign Management Routes</p>\n<p>This module provides endpoints for viewing and activating marketing campaigns.\nMarketing campaigns provide temporary bonuses to reputation, revenue, or other game mechanics.</p>\n<p>Key Features:</p>\n<ul>\n<li>Retrieve available and active marketing campaigns</li>\n<li>Activate marketing campaigns with cost tracking</li>\n<li>Graceful error handling (returns empty arrays to prevent UI breaks)</li>\n<li>Audit logging for campaign activations</li>\n<li>Cache invalidation for fresh data after activation</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/routes/game/user",
    "longname": "module:server/routes/game/user",
    "url": "module-server_routes_game_user.html",
    "description": "<p>User, Port, Game and Version Routes</p>\n<p>This module provides endpoints for user settings, company data, port information,\ngame index data, and version checking against GitHub releases.</p>\n<p>Key Features:</p>\n<ul>\n<li>User company and settings retrieval</li>\n<li>Company type caching for offline access</li>\n<li>Assigned ports data for capacity calculations</li>\n<li>Game index endpoint proxy</li>\n<li>Version update checking with GitHub API</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/routes/game/vessel",
    "longname": "module:server/routes/game/vessel",
    "url": "module-server_routes_game_vessel.html",
    "description": "<p>Vessel Management Routes</p>\n<p>This module provides comprehensive endpoints for vessel operations including:</p>\n<ul>\n<li>Listing vessels in harbor</li>\n<li>Purchasing and selling vessels</li>\n<li>Vessel repairs and maintenance</li>\n<li>Vessel renaming</li>\n<li>Bulk operations with progress notifications</li>\n</ul>\n<p>Key Features:</p>\n<ul>\n<li>Get vessels in harbor with status and cargo information</li>\n<li>Purchase vessels with custom configuration</li>\n<li>Sell vessels individually or in bulk</li>\n<li>Repair vessels based on wear threshold</li>\n<li>Rename vessels</li>\n<li>Broadcast notifications for bulk operations</li>\n<li>Audit logging for all transactions</li>\n<li>WebSocket updates for real-time UI synchronization</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/routes/harbor-map",
    "longname": "module:server/routes/harbor-map",
    "url": "module-server_routes_harbor-map.html",
    "description": "<p>Harbor Map API Routes</p>\n<p>This module provides HTTP endpoints for the Harbor Map &amp; Live Route Monitoring System.\nHandles vessel positions, port data aggregation, and real-time route visualization.</p>\n<p>Key Features:</p>\n<ul>\n<li>Vessel position tracking with linear interpolation</li>\n<li>Port demand analytics with color indicators</li>\n<li>Reachable ports calculation for vessel-specific routes</li>\n<li>&quot;My Ports&quot; vs &quot;All Ports&quot; filtering</li>\n<li>Vessel categorization by port (in/to/from)</li>\n</ul>\n<p>Architecture:</p>\n<ul>\n<li>ALL API calls happen in backend</li>\n<li>ALL data processing happens in backend</li>\n<li>Frontend receives ready-to-render data only</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/routes/health",
    "longname": "module:server/routes/health",
    "url": "module-server_routes_health.html",
    "description": "<p>Health Check Endpoint</p>\n<p>Provides HTTP health check endpoint for monitoring server status.\nUsed by start.py to detect when server is fully initialized.</p>"
  },
  {
    "type": "module",
    "name": "server/routes/messenger",
    "longname": "module:server/routes/messenger",
    "url": "module-server_routes_messenger.html",
    "description": "<p>Private Messaging API Routes</p>\n<p>This module handles all private messaging (DM) functionality between users in the game.\nIt provides endpoints for managing contacts, viewing conversation lists, sending messages,\nand deleting chats. Acts as a proxy between the frontend and the Shipping Manager game API.</p>\n<p>Key Features:</p>\n<ul>\n<li>Contact list retrieval (both personal contacts and alliance members)</li>\n<li>Conversation list management (all active DM threads)</li>\n<li>Message history retrieval for specific conversations</li>\n<li>Private message sending with validation and rate limiting</li>\n<li>Chat deletion functionality</li>\n</ul>\n<p>Why This Module:</p>\n<ul>\n<li>Separates private messaging concerns from alliance chat</li>\n<li>Provides unified interface for contact management</li>\n<li>Adds input validation before forwarding to game API</li>\n<li>Includes user context (own_user_id, own_company_name) in responses</li>\n<li>Graceful error handling to prevent UI breakage</li>\n</ul>\n<p>Security Considerations:</p>\n<ul>\n<li>Message length validation (0-1000 characters)</li>\n<li>Subject line validation (required, non-empty)</li>\n<li>Target user ID validation (must be valid integer)</li>\n<li>Input sanitization via validator.trim() and validator.unescape()</li>\n<li>Rate limiting on message sending (30 messages/minute)</li>\n</ul>\n<p>Error Handling Philosophy:</p>\n<ul>\n<li>GET endpoints return empty arrays on error (prevents UI breaking)</li>\n<li>POST endpoints return 400/500 errors as appropriate</li>\n<li>Detailed error logging for debugging</li>\n<li>User context always included in successful responses</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/routes/poi",
    "longname": "module:server/routes/poi",
    "url": "module-server_routes_poi.html",
    "description": "<p>POI (Points of Interest) Routes</p>\n<p>Provides cached access to maritime POIs (museums, lighthouses, etc.)\nfrom OpenStreetMap Overpass API. Caches data for 24 hours to reduce\nexternal API load and improve response times.</p>"
  },
  {
    "type": "module",
    "name": "server/routes/route-planner",
    "longname": "module:server/routes/route-planner",
    "url": "module-server_routes_route-planner.html",
    "description": "<p>Route Planner API Routes</p>\n<p>Provides endpoints for route planning functionality:</p>\n<ul>\n<li>Get available ports for a vessel</li>\n<li>Get suggested route for a vessel</li>\n<li>Get route data between two ports</li>\n<li>Create/assign route to vessel</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/routes/server-config",
    "longname": "module:server/routes/server-config",
    "url": "module-server_routes_server-config.html",
    "description": "<p>Server Configuration and Backup/Restore Routes</p>\n<p>This module handles server configuration (IP/Port) and backup/restore operations.\nThese settings are stored in the Python launcher's settings.json file.</p>"
  },
  {
    "type": "module",
    "name": "server/routes/settings",
    "longname": "module:server/routes/settings",
    "url": "module-server_routes_settings.html",
    "description": "<p>Persistent Settings Storage and Management Routes</p>\n<p>This module handles persistent application settings including price alert thresholds,\nautomation toggles, and notification preferences. Settings are stored in a JSON file\nand synchronized across all connected WebSocket clients in real-time.</p>\n<p>Key Features:</p>\n<ul>\n<li>Persistent storage in settings.json (survives server restarts)</li>\n<li>Default settings fallback when file missing or corrupted</li>\n<li>Input validation and type coercion for all settings</li>\n<li>Real-time synchronization via WebSocket broadcast</li>\n<li>Graceful error handling with sensible defaults</li>\n</ul>\n<p>Why This Module:</p>\n<ul>\n<li>Centralizes user preferences and automation configuration</li>\n<li>Enables price alerts and auto-rebuy features</li>\n<li>Provides consistent settings across multiple client tabs</li>\n<li>Persists user choices between sessions</li>\n<li>Allows dynamic reconfiguration without server restart</li>\n</ul>\n<p>Settings Categories:</p>\n<ol>\n<li>\n<p>Alert Thresholds:</p>\n<ul>\n<li>fuelThreshold: Price alert for fuel ($/ton)</li>\n<li>co2Threshold: Price alert for CO2 ($/ton)</li>\n<li>maintenanceThreshold: Vessel condition alert (%)</li>\n</ul>\n</li>\n<li>\n<p>Auto-Rebuy Settings:</p>\n<ul>\n<li>autoRebuyFuel: Enable automatic fuel purchasing</li>\n<li>autoRebuyFuelUseAlert: Use alert threshold (or custom threshold)</li>\n<li>autoRebuyFuelThreshold: Custom fuel purchase threshold</li>\n<li>autoRebuyCO2: Enable automatic CO2 purchasing</li>\n<li>autoRebuyCO2UseAlert: Use alert threshold (or custom threshold)</li>\n<li>autoRebuyCO2Threshold: Custom CO2 purchase threshold</li>\n</ul>\n</li>\n<li>\n<p>Automation Toggles:</p>\n<ul>\n<li>autoDepartAll: Auto-depart all vessels when ready</li>\n<li>autoBulkRepair: Auto-repair all vessels below threshold</li>\n<li>autoCampaignRenewal: Auto-renew marketing campaigns</li>\n<li>autoPilotNotifications: Enable browser notifications for automation</li>\n</ul>\n</li>\n<li>\n<p>Intelligent Auto-Depart Settings:</p>\n<ul>\n<li>autoDepartUseRouteDefaults: Use route defaults vs custom values (default true)</li>\n<li>minVesselUtilization: Minimum vessel capacity utilization % (default 45%)</li>\n<li>autoVesselSpeed: Vessel speed as % of max_speed (default 50%)</li>\n</ul>\n</li>\n</ol>\n<p>Default Values:</p>\n<ul>\n<li>Fuel alert: $400/ton (industry competitive price)</li>\n<li>CO2 alert: $7/ton (low market price)</li>\n<li>Maintenance alert: 10% vessel condition</li>\n<li>All automation: Disabled by default (user opt-in required)</li>\n<li>Vessel utilization: 45% minimum (prevents unprofitable trips)</li>\n<li>Vessel speed: 50% of max_speed (fuel cost optimization)</li>\n<li>Auto-depart: Use route defaults enabled (respects per-route settings)</li>\n</ul>\n<p>Synchronization:</p>\n<ul>\n<li>Settings changes broadcast to all connected WebSocket clients</li>\n<li>Message type: 'settings_update' with full settings object</li>\n<li>Ensures consistent UI state across all open tabs/devices</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/routes/staff",
    "longname": "module:server/routes/staff",
    "url": "module-server_routes_staff.html",
    "description": "<p>Staff Management Routes</p>\n<p>This module provides endpoints for staff management including:</p>\n<ul>\n<li>Getting user staff data</li>\n<li>Raising/reducing staff salaries</li>\n<li>Training staff perks</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/routes/stock",
    "longname": "module:server/routes/stock",
    "url": "module-server_routes_stock.html",
    "description": "<p>Stock Market Routes</p>\n<p>Handles stock market functionality including viewing market data,\ncompany stock history, and purchasing stocks.</p>"
  },
  {
    "type": "module",
    "name": "server/routes/transactions",
    "longname": "module:server/routes/transactions",
    "url": "module-server_routes_transactions.html",
    "description": "<p>Transaction History API Routes</p>\n<p>Provides endpoints for game transaction history:</p>\n<ul>\n<li>Sync transactions from game API</li>\n<li>Get transaction summary</li>\n<li>Get daily breakdown</li>\n<li>Get filtered transactions</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/routes/vessel-image",
    "longname": "module:server/routes/vessel-image",
    "url": "module-server_routes_vessel-image.html",
    "description": "<p>Vessel Image Caching Proxy</p>\n<p>Proxies vessel images from shippingmanager.cc with aggressive caching:</p>\n<ul>\n<li>Filesystem cache for downloaded images (persistent)</li>\n<li>Browser cache headers (1 year)</li>\n<li>Reduces external API calls and improves load times</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/scheduler",
    "longname": "module:server/scheduler",
    "url": "module-server_scheduler.html",
    "description": "<p>Scheduler Service</p>\n<p>Manages timed tasks using cron.</p>\n<p>Event-Driven Autopilot Architecture:</p>\n<ul>\n<li>Main loop runs every 60 seconds, checks game state</li>\n<li>Triggers autopilot functions based on conditions (vessels ready, repair needed, etc.)</li>\n<li>Price updates: :01 and :31 every hour (when game updates prices)</li>\n<li>Auto-Anchor: Every 5 minutes (separate from main loop)</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/services/alliance-indexer",
    "longname": "module:server/services/alliance-indexer",
    "url": "module-server_services_alliance-indexer.html",
    "description": "<p>Alliance Indexer Service</p>\n<p>Indexes all alliances from the game API for search functionality.</p>\n<p>Features:</p>\n<ul>\n<li>File-based persistent cache (userdata/cache/alliance_pool.json)</li>\n<li>Fast startup by loading from cache file</li>\n<li>Background refresh cycle (all alliances over 1 hour)</li>\n<li>Search and filter capabilities</li>\n<li>WebSocket notification when ready</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/settings-schema",
    "longname": "module:server/settings-schema",
    "url": "module-server_settings-schema.html",
    "description": "<p>Settings Schema and Validation</p>\n<p>This module defines the COMPLETE settings schema with strict validation.\nNO FALLBACKS - if a setting is missing or invalid, the application CRASHES.</p>\n<p>Philosophy:</p>\n<ul>\n<li>Settings are REQUIRED, not optional</li>\n<li>Missing settings = HARD ERROR and application exit</li>\n<li>No silent fallbacks with || operators</li>\n<li>First run: Create settings.json with defaults</li>\n<li>Every run: Validate ALL required keys exist</li>\n<li>Invalid value: Write default and continue</li>\n<li>Missing file or unreadable: CRASH</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/state",
    "longname": "module:server/state",
    "url": "module-server_state.html",
    "description": "<p>State Management Module</p>\n<p>In-memory state management for autopilot features.\nStores state including bunker levels, prices, settings, and alert tracking.</p>\n<p>Why In-Memory:</p>\n<ul>\n<li>Fast access (no DB queries)</li>\n<li>Simple implementation</li>\n<li>State rebuilt from game API on server restart</li>\n</ul>\n<p>Multi-Account Support:</p>\n<ul>\n<li>Supports switching between different game accounts (via start.py)</li>\n<li>Each game account has isolated state stored in Map&lt;gameUserId, UserState&gt;</li>\n<li>gameUserId is the user.id from shippingmanager.cc API (e.g., 1234567, 7654321)</li>\n<li>Account switching automatically uses correct state (no manual clearing needed)</li>\n<li>No data leakage between different game accounts</li>\n</ul>\n<p>State Structure:</p>\n<ul>\n<li>bunker: Current fuel, CO2, cash, and capacity levels</li>\n<li>prices: Latest fuel/CO2 prices (updated at :01 and :31)</li>\n<li>lastAlerts: Last price that triggered an alert (prevents duplicate alerts)</li>\n<li>settings: User's autopilot settings (loaded from localStorage via WebSocket)</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/utils/api",
    "longname": "module:server/utils/api",
    "url": "module-server_utils_api.html",
    "description": "<p>API Helper Functions and Game API Integration</p>\n<p>This module provides centralized API communication with the Shipping Manager game server\n(shippingmanager.cc). It handles authentication, connection pooling, state management,\nand caching to optimize API calls and reduce rate limit risk.</p>\n<p>Key Responsibilities:</p>\n<ul>\n<li>Authenticated API calls with session cookie injection</li>\n<li>HTTP Keep-Alive connection pooling for performance</li>\n<li>User and alliance state initialization and management</li>\n<li>Company name caching to reduce redundant API calls</li>\n<li>Error handling and fallback mechanisms</li>\n</ul>\n<p>Why This Architecture:</p>\n<ul>\n<li>Centralizes all game API communication in one module</li>\n<li>Connection pooling reduces latency (reuses TCP connections)</li>\n<li>State caching reduces API load (important for rate limiting)</li>\n<li>Session cookie loaded from encrypted storage via session-manager</li>\n<li>Graceful degradation when user not in alliance</li>\n</ul>\n<p>Connection Pooling Strategy:</p>\n<ul>\n<li>Keep-Alive enabled: Reuses TCP connections instead of opening new ones</li>\n<li>Max 10 simultaneous connections: Prevents overwhelming API server</li>\n<li>LIFO scheduling: Most recently used socket first (better connection reuse)</li>\n<li>30-second keep-alive: Balance between connection reuse and resource usage</li>\n<li>This mimics normal browser behavior, reducing detection risk</li>\n</ul>\n<p>State Management:</p>\n<ul>\n<li>USER_ID: Current user's unique identifier</li>\n<li>USER_COMPANY_NAME: Current user's company name</li>\n<li>ALLIANCE_ID: User's alliance ID (null if not in alliance)</li>\n<li>userNameCache: Map of user_id ‚Üí company_name (reduces API calls)</li>\n</ul>\n<p>Rate Limiting Considerations:</p>\n<ul>\n<li>Fewer API calls via caching = lower rate limit risk</li>\n<li>Keep-Alive reduces overhead, faster responses</li>\n<li>Connection pooling prevents connection exhaustion</li>\n<li>Mimics normal browser traffic patterns</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/utils/audit-logger",
    "longname": "module:server/utils/audit-logger",
    "url": "module-server_utils_audit-logger.html",
    "description": "<p>Comprehensive Audit Logging System\nLogs all manual and autopilot actions to the logbook</p>"
  },
  {
    "type": "module",
    "name": "server/utils/encryption",
    "longname": "module:server/utils/encryption",
    "url": "module-server_utils_encryption.html",
    "description": "<p>Cross-Platform Encryption Utility</p>\n<p>Provides secure storage for sensitive data using OS-native credential storage:</p>\n<ul>\n<li>Windows: DPAPI (Data Protection API)</li>\n<li>macOS: Keychain</li>\n<li>Linux: libsecret (Secret Service API)</li>\n</ul>\n<p>Uses 'keytar' package which abstracts the platform-specific implementations.</p>\n<p>Security Features:</p>\n<ul>\n<li>Data is encrypted with OS user account credentials</li>\n<li>Only the same user on the same machine can decrypt</li>\n<li>No master password needed (uses OS authentication)</li>\n<li>If file is copied to another machine, data is useless</li>\n<li>NO FALLBACK ENCRYPTION - keytar is required</li>\n</ul>\n<p>Known Issues &amp; Workarounds:</p>\n<ul>\n<li>Python/Node.js keyring incompatibility on Windows: Python's keyring library stores\ncredentials as UTF-16, creating null bytes between characters when read by Node.js\nkeytar (which expects UTF-8). The decryptData() function includes automatic detection\nand removal of these null bytes. This affects sessions saved by Python (browser login)\nbut not sessions saved differently (Steam login).</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/utils/fuel-calculator",
    "longname": "module:server/utils/fuel-calculator",
    "url": "module-server_utils_fuel-calculator.html",
    "description": "<p>Fuel Calculator Utility - Calculates vessel fuel consumption</p>\n<p>Uses the discovered game formula:\nfuel_kg_per_nm = capacity * Math.sqrt(speed) * fuel_factor / 40</p>\n<p>All vessel data (capacity, max_speed, fuel_factor) comes from the game API.\nNo lookup tables or user-entered data needed.</p>"
  },
  {
    "type": "module",
    "name": "server/utils/ipo-tracker",
    "longname": "module:server/utils/ipo-tracker",
    "url": "module-server_utils_ipo-tracker.html",
    "description": "<p>IPO Tracking Module</p>\n<p>This module manages tracking of seen IPOs to detect new ones.\nIt provides persistent storage of the highest seen user ID and\na set of all seen IPO user IDs.</p>\n<p>Key Features:</p>\n<ul>\n<li>Persistent tracking of seen IPO user IDs</li>\n<li>Highest user ID tracking for efficient new IPO detection</li>\n<li>JSON file storage in userdata/settings/</li>\n<li>In-memory cache for performance</li>\n</ul>\n<p>Storage Format:\n{\n&quot;highestSeenUserId&quot;: 123456,\n&quot;seenIpoUserIds&quot;: [123456, 123455, 123454, ...]\n}</p>"
  },
  {
    "type": "module",
    "name": "server/utils/logger",
    "longname": "module:server/utils/logger",
    "url": "module-server_utils_logger.html",
    "description": "<p>Centralized logging utility with winston</p>\n<p>Provides consistent timestamp formatting and log levels across all server logs.\nFormat: [2025-11-02T12:34:56.789Z] [LEVEL] message</p>"
  },
  {
    "type": "module",
    "name": "server/utils/migrate-harbor-fees",
    "longname": "module:server/utils/migrate-harbor-fees",
    "url": "module-server_utils_migrate-harbor-fees.html",
    "description": "<p>Harbor Fee Migration Utility</p>\n<p>Extracts harbor fees from audit log entries and populates the harbor fee storage.\nMatches logbook entries with vessel history by vessel name and timestamp.</p>"
  },
  {
    "type": "module",
    "name": "server/utils/read-tracker",
    "longname": "module:server/utils/read-tracker",
    "url": "module-server_utils_read-tracker.html",
    "description": "<p>Alliance Chat Read Tracking Module</p>\n<p>This module manages per-user read timestamps for alliance chat messages.\nIt provides persistent storage of when each user last read the alliance chat,\nenabling accurate unread counts and preventing duplicate notifications.</p>\n<p>Key Features:</p>\n<ul>\n<li>Per-user read timestamp storage</li>\n<li>Persistent JSON file storage in userdata/settings/</li>\n<li>Thread-safe read/write operations</li>\n<li>Automatic file creation if missing</li>\n<li>Graceful error handling</li>\n</ul>\n<p>Why This Exists:</p>\n<ul>\n<li>Game API does not track alliance chat read status (unlike private messages)</li>\n<li>localStorage-based tracking doesn't sync across devices/browsers</li>\n<li>Backend tracking enables consistent state across all connected clients</li>\n<li>Prevents old messages from repeatedly showing as unread</li>\n<li>Stops notification spam from messages user has already seen</li>\n</ul>\n<p>Storage Format:\n{\n&quot;userId1&quot;: {\n&quot;allianceChatLastRead&quot;: 1699876543000  // Unix timestamp in milliseconds\n},\n&quot;userId2&quot;: {\n&quot;allianceChatLastRead&quot;: 1699876600000\n}\n}</p>\n<p>Design Decisions:</p>\n<ul>\n<li>Timestamps in milliseconds (matches JavaScript Date.getTime())</li>\n<li>Per-user storage (multiple users can use same server)</li>\n<li>JSON format for human readability and easy debugging</li>\n<li>Stored in userdata/settings/ alongside other user settings</li>\n<li>Single file for all users (simpler than per-user files)</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/utils/session-manager",
    "longname": "module:server/utils/session-manager",
    "url": "module-server_utils_session-manager.html",
    "description": "<p>Secure Session Manager</p>\n<p>Manages user sessions with encrypted storage of sensitive cookies.\nSessions are stored in sessions.json but cookies are encrypted using OS-native storage.</p>\n<p>Features:</p>\n<ul>\n<li>Automatic encryption of session cookies</li>\n<li>Platform-independent (Windows/macOS/Linux)</li>\n<li>Migration of old plaintext sessions</li>\n<li>Session validation</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/utils/telegram",
    "longname": "module:server/utils/telegram",
    "url": "module-server_utils_telegram.html",
    "description": "<p>Telegram Alert Service</p>\n<p>Sends price alerts to Telegram when fuel/CO2 prices are in the &quot;green&quot; zone.\nUses the Telegram Bot API to send messages.</p>\n<p>Price Thresholds (from utils.js):</p>\n<ul>\n<li>Fuel green: &lt; 500 $/t</li>\n<li>CO2 green: &lt; 10 $/t</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/utils/trip-data-store",
    "longname": "module:server/utils/trip-data-store",
    "url": "module-server_utils_trip-data-store.html",
    "description": "<p>Unified Trip Data Storage</p>\n<p>Stores all additional trip data for vessel history enrichment:</p>\n<ul>\n<li>Harbor fees</li>\n<li>Contribution gains</li>\n<li>Speed, guards, CO2 used</li>\n<li>Cargo rates and utilization</li>\n</ul>\n<p>Consolidates harbor-fee-store, contribution-store, and departure-data-store\ninto a single unified store.</p>"
  },
  {
    "type": "module",
    "name": "server/websocket",
    "longname": "module:server/websocket",
    "url": "module-server_websocket.html",
    "description": "<p>WebSocket Server and Real-Time Chat Update Management</p>\n<p>This module manages bidirectional real-time communication between the server and connected\nbrowser clients using WebSocket protocol. It implements automatic chat feed broadcasting\nat regular intervals to keep all connected clients synchronized with alliance chat updates.</p>\n<p>Key Features:</p>\n<ul>\n<li>WebSocket server initialization and connection lifecycle management</li>\n<li>Automatic chat feed polling every 25 seconds (configurable in config.js)</li>\n<li>Broadcast system pushing updates to all connected clients simultaneously</li>\n<li>Message transformation (converting API format to client-ready format)</li>\n<li>Company name caching to reduce API calls during message processing</li>\n<li>Graceful handling of users not in alliance (skips polling)</li>\n</ul>\n<p>Architecture:\nThis file serves as the main entry point and orchestrates sub-modules:</p>\n<ul>\n<li>websocket/message-cache.js - Processed DM message ID caching</li>\n<li>websocket/messenger-cache.js - Messenger chat list caching</li>\n<li>websocket/hijacking-cache.js - Hijacking case details caching</li>\n<li>websocket/broadcaster.js - WebSocket broadcasting functions</li>\n<li>websocket/chat-refresh.js - Alliance chat auto-refresh logic</li>\n<li>websocket/messenger-refresh.js - Messenger inbox auto-refresh logic</li>\n<li>websocket/hijacking-refresh.js - Hijacking cases auto-refresh logic</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/websocket/broadcaster",
    "longname": "module:server/websocket/broadcaster",
    "url": "module-server_websocket_broadcaster.html",
    "description": "<p>WebSocket Broadcasting Functions</p>\n<p>Provides centralized broadcasting functionality for sending messages\nto all connected WebSocket clients or specific users.</p>"
  },
  {
    "type": "module",
    "name": "server/websocket/chat-refresh",
    "longname": "module:server/websocket/chat-refresh",
    "url": "module-server_websocket_chat-refresh.html",
    "description": "<p>Alliance Chat Auto-Refresh Logic</p>\n<p>Manages automatic polling of alliance chat feed and broadcasting updates to clients.\nIncludes ChatBot message processing for new messages.</p>"
  },
  {
    "type": "module",
    "name": "server/websocket/hijacking-cache",
    "longname": "module:server/websocket/hijacking-cache",
    "url": "module-server_websocket_hijacking-cache.html",
    "description": "<p>Hijacking Case Caching - File-Based Persistent Cache</p>\n<p>Uses LOCAL FILES to cache hijacking case details - NO API calls for resolved cases!\nStrategy:</p>\n<ul>\n<li>First check: Local file in userdata/hijack_history/{userId}-{caseId}.json</li>\n<li>If file has resolved:true -&gt; Use local data, ZERO API calls</li>\n<li>If no file or not resolved -&gt; API call once, then save locally</li>\n</ul>\n<p>This eliminates ALL API calls for resolved cases, even after server restart!</p>"
  },
  {
    "type": "module",
    "name": "server/websocket/hijacking-refresh",
    "longname": "module:server/websocket/hijacking-refresh",
    "url": "module-server_websocket_hijacking-refresh.html",
    "description": "<p>Hijacking Auto-Refresh Logic</p>\n<p>Manages automatic polling of hijacking cases and broadcasting badge/header counts to clients.\nTracks open cases and hijacked vessel counts.</p>"
  },
  {
    "type": "module",
    "name": "server/websocket/ipo-refresh",
    "longname": "module:server/websocket/ipo-refresh",
    "url": "module-server_websocket_ipo-refresh.html",
    "description": "<p>IPO Alert Auto-Refresh Logic</p>\n<p>Manages automatic polling of recent IPOs and broadcasting updates to clients.\nFilters IPOs by account age (configurable via settings) and detects new/removed IPOs.</p>"
  },
  {
    "type": "module",
    "name": "server/websocket/message-cache",
    "longname": "module:server/websocket/message-cache",
    "url": "module-server_websocket_message-cache.html",
    "description": "<p>Processed DM Message ID Caching</p>\n<p>Manages persistence of processed message IDs to prevent duplicate bot replies.\nEach user has their own cache file stored in userdata/chatbot/.</p>"
  },
  {
    "type": "module",
    "name": "server/websocket/messenger-cache",
    "longname": "module:server/websocket/messenger-cache",
    "url": "module-server_websocket_messenger-cache.html",
    "description": "<p>Messenger Chat List Caching</p>\n<p>Provides shared caching for /messenger/get-chats API responses.\nReduces duplicate API calls from messenger refresh, hijacking refresh, and badge updates.</p>"
  },
  {
    "type": "module",
    "name": "server/websocket/messenger-content-cache",
    "longname": "module:server/websocket/messenger-content-cache",
    "url": "module-server_websocket_messenger-content-cache.html",
    "description": "<p>Messenger Content Cache</p>\n<p>Local file-based cache for messenger message content.\nStores full message history per chat to enable instant loading.</p>\n<p>Cache Strategy:</p>\n<ul>\n<li>Messages are cached when WebSocket refresh detects new messages</li>\n<li>Cache is updated in background, not blocking UI</li>\n<li>When user opens a chat, messages load from cache instantly</li>\n<li>Fresh data is fetched only if cache is empty or stale</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "server/websocket/messenger-refresh",
    "longname": "module:server/websocket/messenger-refresh",
    "url": "module-server_websocket_messenger-refresh.html",
    "description": "<p>Messenger Auto-Refresh Logic</p>\n<p>Manages automatic polling of messenger inbox and broadcasting unread counts to clients.\nIncludes ChatBot DM command processing.</p>"
  },
  {
    "type": "module",
    "name": "server/websocket/staff-refresh",
    "longname": "module:server/websocket/staff-refresh",
    "url": "module-server_websocket_staff-refresh.html",
    "description": "<p>Staff Morale Auto-Refresh Logic</p>\n<p>Manages automatic polling of staff morale data and broadcasting updates to clients.\nUpdates every 5 minutes.</p>"
  },
  {
    "type": "module",
    "name": "stock-manager",
    "longname": "module:stock-manager",
    "url": "module-stock-manager.html",
    "description": "<p>Stock Manager Module</p>\n<p>Provides stock market functionality with TradingView charts including:</p>\n<ul>\n<li>My Portfolio: Own company stock with chart</li>\n<li>Market: Browse all listed companies</li>\n<li>Investments: Companies user has invested in</li>\n<li>Investors: Who holds user's stock</li>\n</ul>\n<p>Chart Features:</p>\n<ul>\n<li>Timeframe selection (1D, 1W, 1M, 3M, 1Y, ALL)</li>\n<li>Moving Averages (MA7, MA25, MA99)</li>\n<li>Line/Area chart toggle</li>\n<li>Price statistics (ATH, ATL, Change)</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "ui-dialogs",
    "longname": "module:ui-dialogs",
    "url": "module-ui-dialogs.html",
    "description": "<p>UI Dialogs Module - Manages all modal dialogs and overlay interfaces for user interactions.\nProvides reusable dialog components for confirmations, settings, campaigns, contacts, and vessel/anchor information.</p>\n<p>Key Features:</p>\n<ul>\n<li>Generic confirmation dialog with customizable title, message, and details</li>\n<li>Settings overlay for managing price thresholds and AutoPilot options</li>\n<li>Marketing campaigns browser with activation functionality</li>\n<li>Contact list display with direct messaging integration</li>\n<li>Affordability calculations with visual indicators (green/red)</li>\n</ul>\n<p>Dialog Types:</p>\n<ul>\n<li>Confirmation Dialogs: Purchase confirmations, deletion warnings</li>\n<li>Settings Panel: Price thresholds, auto-rebuy toggles, AutoPilot features</li>\n<li>Campaign Browser: Shows active/inactive campaigns with purchase buttons</li>\n<li>Contact List: Filterable list of contacts and alliance members</li>\n<li>Info Dialogs: Anchor status, vessel information</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "utils",
    "longname": "module:utils",
    "url": "module-utils.html",
    "description": "<p>Utility Functions Module - Provides essential helper functions for HTML escaping, formatting,\nnotifications, feedback dialogs, service worker management, and settings persistence.</p>\n<p>Key Categories:</p>\n<ul>\n<li>HTML &amp; Formatting: escapeHtml, formatNumber, renderStars</li>\n<li>User Feedback: showSideNotification</li>\n<li>Notifications: Browser/desktop notifications with service worker support</li>\n<li>Service Worker: Registration and notification handling</li>\n<li>Settings: Load/save to server, AutoPilot detection, page title updates</li>\n<li>Tooltips: Custom tooltip system</li>\n</ul>\n<p>Notification Strategy:</p>\n<ul>\n<li>Attempts direct Notification API first (works in most browsers)</li>\n<li>Falls back to service worker notifications if direct fails</li>\n<li>Graceful degradation with error messages</li>\n<li>Auto-closes after 5 seconds</li>\n</ul>\n<p>Settings Persistence:</p>\n<ul>\n<li>Stored on server (not localStorage) for multi-device sync</li>\n<li>Loaded on app initialization</li>\n<li>Saved on every settings change</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "vessel-appearance-editor",
    "longname": "module:vessel-appearance-editor",
    "url": "module-vessel-appearance-editor.html",
    "description": "<p>Vessel Appearance Editor Module</p>\n<p>Handles editing vessel appearance for custom vessels.\nAllows users to upload a custom image and configure SVG colors.</p>\n<p>Note: Fuel/Speed data is no longer needed here - all vessel data\n(capacity, max_speed, fuel_factor) comes from the game API and\nfuel consumption is calculated using the discovered game formula.</p>"
  },
  {
    "type": "module",
    "name": "vessel-building",
    "longname": "module:vessel-building",
    "url": "module-vessel-building.html",
    "description": "<p>Vessel Building Module</p>\n<p>Provides UI for building custom vessels from scratch.\nUsers can select vessel type, capacity, engine, port, and perks.\nReal-time preview of vessel stats and pricing.</p>"
  },
  {
    "type": "module",
    "name": "vessel-management",
    "longname": "module:vessel-management",
    "url": "module-vessel-management.html",
    "description": "<p>Vessel Management Module - Handles all vessel-related operations including purchasing,\ndepartures, bulk repair, and vessel catalog browsing with filtering.</p>\n<p>Key Features:</p>\n<ul>\n<li>Vessel count tracking (ready to depart, at anchor, pending delivery)</li>\n<li>Bulk departure with fuel/CO2 consumption and income calculation</li>\n<li>Bulk repair system with wear threshold filtering</li>\n<li>Vessel catalog with container/tanker filtering</li>\n<li>Engine type filtering for specialized searches</li>\n<li>Multi-vessel purchase with confirmation and sequential API calls</li>\n<li>Stock price display for IPO companies</li>\n<li>Pending vessel tracking with delivery countdown</li>\n</ul>\n<p>Purchase Flow:</p>\n<ul>\n<li>Single purchase: Click &quot;Buy Now&quot; for immediate purchase</li>\n<li>Bulk purchase: Select multiple vessels, click &quot;Bulk Buy&quot;</li>\n<li>Sequential API calls with 1.5s delay to prevent rate limiting</li>\n<li>Cash updates after each successful purchase</li>\n<li>Auto-stops on limit reached or insufficient funds</li>\n</ul>\n<p>Departure System:</p>\n<ul>\n<li>Departs all vessels in &quot;port&quot; status simultaneously</li>\n<li>Calculates fuel consumption and CO2 emissions</li>\n<li>Shows income from vessel departures minus harbor fees</li>\n<li>Updates bunker inventory immediately for UX responsiveness</li>\n<li>Refreshes vessel and bunker status after completion</li>\n</ul>\n<p>Repair System:</p>\n<ul>\n<li>Filters vessels by wear percentage threshold (user configurable)</li>\n<li>Fetches repair costs for all qualifying vessels</li>\n<li>Shows total cost with affordability check</li>\n<li>Bulk repair via single API call</li>\n</ul>"
  },
  {
    "type": "module",
    "name": "vessel-selling",
    "longname": "module:vessel-selling",
    "url": "module-vessel-selling.html",
    "description": "<p>Vessel Selling Module</p>\n<p>Handles selling of owned vessels grouped by model.\nOnly vessels in harbor (not enroute) can be sold.\nDisplays all vessel specs like the purchase catalog.\nShows list of owned vessels with max 5 visible (scrollable).</p>"
  },
  {
    "type": "class",
    "name": "DebouncedAPIManager",
    "longname": "module:core/debounced-api.DebouncedAPIManager",
    "url": "module-core_debounced-api.DebouncedAPIManager.html",
    "description": ""
  },
  {
    "type": "class",
    "name": "ChatBot",
    "longname": "module:server/chatbot~ChatBot",
    "url": "module-server_chatbot-ChatBot.html",
    "description": ""
  },
  {
    "type": "function",
    "name": "buildNav",
    "longname": "buildNav",
    "url": "global.html#buildNav",
    "description": "<p>Create the navigation sidebar.</p>"
  },
  {
    "type": "function",
    "name": "deleteAllLogs",
    "longname": "deleteAllLogs",
    "url": "global.html#deleteAllLogs",
    "description": "<p>Delete all logs for a user (manual cleanup)</p>"
  },
  {
    "type": "function",
    "name": "escapeCSVFormula",
    "longname": "escapeCSVFormula",
    "url": "global.html#escapeCSVFormula",
    "description": "<p>Escape CSV formula injection (=, +, @, - at start of cell)\nPrefixes dangerous characters with single quote to force text mode in Excel</p>"
  },
  {
    "type": "member",
    "name": "express",
    "longname": "express",
    "url": "global.html#express",
    "description": "<p>Logbook API Routes</p>\n<p>Endpoints for retrieving, filtering, exporting, and deleting autopilot logs</p>"
  },
  {
    "type": "member",
    "name": "express",
    "longname": "express",
    "url": "global.html#express",
    "description": "<p>Dynamic Vessel SVG Route\nGenerates SVG images for custom-built vessels on-the-fly</p>\n<p>Flow:</p>\n<ol>\n<li>Check ownImage PNG exists -&gt; return if exists</li>\n<li>Get vessel data from QUERY PARAMS (capacity_type, capacity, name)</li>\n<li>Load Appearance File for colors only (optional)</li>\n<li>generateVesselSvg with query data + colors</li>\n<li>Return SVG</li>\n</ol>\n<p>NO API CALLS - Frontend provides all vessel data via query params!</p>"
  },
  {
    "type": "function",
    "name": "flushAllToDisk",
    "longname": "flushAllToDisk",
    "url": "global.html#flushAllToDisk",
    "description": "<p>Flush all dirty caches to disk</p>"
  },
  {
    "type": "function",
    "name": "formatDetailsAsTXT",
    "longname": "formatDetailsAsTXT",
    "url": "global.html#formatDetailsAsTXT",
    "description": "<p>Format details object as indented TXT</p>"
  },
  {
    "type": "function",
    "name": "formatFileSize",
    "longname": "formatFileSize",
    "url": "global.html#formatFileSize",
    "description": "<p>Format file size in human-readable format</p>"
  },
  {
    "type": "function",
    "name": "formatLogsAsCSV",
    "longname": "formatLogsAsCSV",
    "url": "global.html#formatLogsAsCSV",
    "description": "<p>Format logs as CSV (Excel-compatible)</p>"
  },
  {
    "type": "function",
    "name": "formatLogsAsTXT",
    "longname": "formatLogsAsTXT",
    "url": "global.html#formatLogsAsTXT",
    "description": "<p>Format logs as TXT (human-readable)</p>"
  },
  {
    "type": "member",
    "name": "fs",
    "longname": "fs",
    "url": "global.html#fs",
    "description": "<p>Autopilot Logbook Module</p>\n<p>Manages logging of all autopilot actions (success and errors) for debugging,\ntransparency, and accountability. Logs are stored per-user in JSON format.</p>\n<p>Features:</p>\n<ul>\n<li>In-memory cache with periodic disk writes (every 30 seconds)</li>\n<li>Atomic file writes to prevent corruption</li>\n<li>Filter support (status, time range, search)</li>\n<li>Export to TXT, CSV, JSON formats</li>\n<li>Manual deletion (no automatic rotation)</li>\n</ul>"
  },
  {
    "type": "member",
    "name": "fs",
    "longname": "fs",
    "url": "global.html#fs",
    "description": "<p>Vessel SVG Generator\nGenerates dynamic SVG images for custom-built vessels\nUses professional container ship template and scales it based on capacity</p>"
  },
  {
    "type": "function",
    "name": "generateContainerSvg",
    "longname": "generateContainerSvg",
    "url": "global.html#generateContainerSvg",
    "description": "<p>Generate container ship SVG</p>"
  },
  {
    "type": "function",
    "name": "generateTankerSvg",
    "longname": "generateTankerSvg",
    "url": "global.html#generateTankerSvg",
    "description": "<p>Generate tanker ship SVG using template</p>"
  },
  {
    "type": "function",
    "name": "generateVesselSvg",
    "longname": "generateVesselSvg",
    "url": "global.html#generateVesselSvg",
    "description": "<p>Generate vessel SVG based on vessel data</p>"
  },
  {
    "type": "function",
    "name": "getCategoryFromAction",
    "longname": "getCategoryFromAction",
    "url": "global.html#getCategoryFromAction",
    "description": "<p>Get category from action name</p>"
  },
  {
    "type": "function",
    "name": "getLogEntries",
    "longname": "getLogEntries",
    "url": "global.html#getLogEntries",
    "description": "<p>Get log entries with optional filters</p>"
  },
  {
    "type": "function",
    "name": "getLogFilePath",
    "longname": "getLogFilePath",
    "url": "global.html#getLogFilePath",
    "description": "<p>Get the log file path for a user</p>"
  },
  {
    "type": "function",
    "name": "getLogFileSize",
    "longname": "getLogFileSize",
    "url": "global.html#getLogFileSize",
    "description": "<p>Get log file size in bytes</p>"
  },
  {
    "type": "function",
    "name": "getLogsFromCache",
    "longname": "getLogsFromCache",
    "url": "global.html#getLogsFromCache",
    "description": "<p>Get logs from cache (load from disk if not cached)</p>"
  },
  {
    "type": "function",
    "name": "getSourceFromAction",
    "longname": "getSourceFromAction",
    "url": "global.html#getSourceFromAction",
    "description": "<p>Get source from action name</p>"
  },
  {
    "type": "function",
    "name": "getTransactionType",
    "longname": "getTransactionType",
    "url": "global.html#getTransactionType",
    "description": "<p>Determines transaction type from log entry</p>"
  },
  {
    "type": "function",
    "name": "initialize",
    "longname": "initialize",
    "url": "global.html#initialize",
    "description": "<p>Initialize the logbook system\nStart periodic disk writes</p>"
  },
  {
    "type": "function",
    "name": "isContainerVessel",
    "longname": "isContainerVessel",
    "url": "global.html#isContainerVessel",
    "description": "<p>Detect if vessel is a container ship based on capacity_type from API</p>"
  },
  {
    "type": "function",
    "name": "isDepartInProgress",
    "longname": "isDepartInProgress",
    "url": "global.html#isDepartInProgress",
    "description": "<p>Returns whether a departure operation is currently in progress.\nUsed to prevent button state changes during departure.\nReturns server-controlled lock state (READ-ONLY).</p>"
  },
  {
    "type": "function",
    "name": "loadBaseContainerSvg",
    "longname": "loadBaseContainerSvg",
    "url": "global.html#loadBaseContainerSvg",
    "description": "<p>Load base container SVG template</p>"
  },
  {
    "type": "function",
    "name": "loadBaseTankerSvg",
    "longname": "loadBaseTankerSvg",
    "url": "global.html#loadBaseTankerSvg",
    "description": "<p>Load base tanker SVG template</p>"
  },
  {
    "type": "function",
    "name": "loadLogsFromDisk",
    "longname": "loadLogsFromDisk",
    "url": "global.html#loadLogsFromDisk",
    "description": "<p>Load logs from disk into memory cache</p>"
  },
  {
    "type": "function",
    "name": "lockBulkBuyButton",
    "longname": "lockBulkBuyButton",
    "url": "global.html#lockBulkBuyButton",
    "description": "<p>Locks the bulk buy (cart) button when bulk purchase starts.\nCalled by WebSocket handler when 'bulk_buy_start' is received.\nUI-ONLY function - state is managed by server via lock_status events.</p>"
  },
  {
    "type": "function",
    "name": "lockCo2Button",
    "longname": "lockCo2Button",
    "url": "global.html#lockCo2Button",
    "description": "<p>Locks the CO2 purchase button.\nCalled by WebSocket handler when 'co2_purchase_start' is received.\nUI-ONLY function - state is managed by server via lock_status events.</p>"
  },
  {
    "type": "function",
    "name": "lockCoopButtons",
    "longname": "lockCoopButtons",
    "url": "global.html#lockCoopButtons",
    "description": "<p>Locks all COOP send buttons when COOP send process starts.\nCalled by WebSocket handler when 'coop_send_start' is received.</p>"
  },
  {
    "type": "function",
    "name": "lockDepartButton",
    "longname": "lockDepartButton",
    "url": "global.html#lockDepartButton",
    "description": "<p>Locks the depart button when autopilot or manual departure starts.\nCalled by WebSocket handler when 'autopilot_depart_start' is received.\nUI-ONLY function - state is managed by server via lock_status events.</p>"
  },
  {
    "type": "function",
    "name": "lockDrydockButton",
    "longname": "lockDrydockButton",
    "url": "global.html#lockDrydockButton",
    "description": "<p>Locks the drydock button when drydock process starts.\nCalled by WebSocket handler when 'drydock_start' is received.\nUI-ONLY function - state is managed by server via lock_status events.</p>"
  },
  {
    "type": "function",
    "name": "lockFuelButton",
    "longname": "lockFuelButton",
    "url": "global.html#lockFuelButton",
    "description": "<p>Locks the fuel purchase button.\nCalled by WebSocket handler when 'fuel_purchase_start' is received.\nUI-ONLY function - state is managed by server via lock_status events.</p>"
  },
  {
    "type": "function",
    "name": "lockRepairButton",
    "longname": "lockRepairButton",
    "url": "global.html#lockRepairButton",
    "description": "<p>Locks the repair button when repair process starts.\nCalled by WebSocket handler when 'repair_start' is received.\nUI-ONLY function - state is managed by server via lock_status events.</p>"
  },
  {
    "type": "function",
    "name": "logAutopilotAction",
    "longname": "logAutopilotAction",
    "url": "global.html#logAutopilotAction",
    "description": "<p>Log an autopilot action</p>"
  },
  {
    "type": "function",
    "name": "publish",
    "longname": "publish",
    "url": "global.html#publish",
    "description": ""
  },
  {
    "type": "function",
    "name": "searchInObject",
    "longname": "searchInObject",
    "url": "global.html#searchInObject",
    "description": "<p>Recursively searches through an object for a search term</p>"
  },
  {
    "type": "function",
    "name": "showAnchorTimer",
    "longname": "showAnchorTimer",
    "url": "global.html#showAnchorTimer",
    "description": "<p>Triggers anchor purchase timer overlay across all tabs.\nCalled by WebSocket handler when 'anchor_purchase_timer' is received.</p>"
  },
  {
    "type": "function",
    "name": "shutdown",
    "longname": "shutdown",
    "url": "global.html#shutdown",
    "description": "<p>Shutdown the logbook system gracefully</p>"
  },
  {
    "type": "function",
    "name": "unlockBulkBuyButton",
    "longname": "unlockBulkBuyButton",
    "url": "global.html#unlockBulkBuyButton",
    "description": "<p>Unlocks the bulk buy (cart) button when bulk purchase completes.\nCalled by WebSocket handler when 'bulk_buy_complete' is received.\nUI-ONLY function - state is managed by server via lock_status events.</p>"
  },
  {
    "type": "function",
    "name": "unlockCo2Button",
    "longname": "unlockCo2Button",
    "url": "global.html#unlockCo2Button",
    "description": "<p>Unlocks the CO2 purchase button.\nCalled by WebSocket handler when 'co2_purchase_complete' is received.\nUI-ONLY function - state is managed by server via lock_status events.</p>"
  },
  {
    "type": "function",
    "name": "unlockCoopButtons",
    "longname": "unlockCoopButtons",
    "url": "global.html#unlockCoopButtons",
    "description": "<p>Unlocks all COOP send buttons when COOP send process completes.\nCalled by WebSocket handler when 'coop_send_complete' is received.</p>"
  },
  {
    "type": "function",
    "name": "unlockDepartButton",
    "longname": "unlockDepartButton",
    "url": "global.html#unlockDepartButton",
    "description": "<p>Unlocks the depart button when departure process completes.\nCalled by WebSocket handler when 'vessels_depart_complete' is received.\nUI-ONLY function - state is managed by server via lock_status events.</p>"
  },
  {
    "type": "function",
    "name": "unlockDrydockButton",
    "longname": "unlockDrydockButton",
    "url": "global.html#unlockDrydockButton",
    "description": "<p>Unlocks the drydock button when drydock process completes.\nCalled by WebSocket handler when 'drydock_complete' is received.\nUI-ONLY function - state is managed by server via lock_status events.</p>"
  },
  {
    "type": "function",
    "name": "unlockFuelButton",
    "longname": "unlockFuelButton",
    "url": "global.html#unlockFuelButton",
    "description": "<p>Unlocks the fuel purchase button.\nCalled by WebSocket handler when 'fuel_purchase_complete' is received.\nUI-ONLY function - state is managed by server via lock_status events.</p>"
  },
  {
    "type": "function",
    "name": "unlockRepairButton",
    "longname": "unlockRepairButton",
    "url": "global.html#unlockRepairButton",
    "description": "<p>Unlocks the repair button when repair process completes.\nCalled by WebSocket handler when 'repair_complete' is received.\nUI-ONLY function - state is managed by server via lock_status events.</p>"
  },
  {
    "type": "function",
    "name": "writeLogsToDisk",
    "longname": "writeLogsToDisk",
    "url": "global.html#writeLogsToDisk",
    "description": "<p>Write logs to disk atomically (temp file + rename)</p>"
  },
  {
    "type": "tutorial",
    "name": "Installation",
    "longname": "01-installation-guide",
    "url": "tutorial-01-installation-guide.html",
    "description": "Installation Guide Complete guide for installing and running ShippingManager CoPilot. Quick Start (Pre-built Downloads) Download the latest release for your platform from GitHub Releases : Platform Download Login Method Windows ShippingManagerCoPilot-Installer-*.exe Steam + Browser macOS (Intel) ShippingManagerCoPilot-macos-x64.dmg Browser only macOS (Apple Silicon) ShippingManagerCoPilot-macos-arm64.dmg Browser only Linux ShippingManagerCoPilot-linux-x64.tar.gz Browser only Windows Installation Download ShippingManagerCoPilot-Installer-*.exe Run the installer Launch from Start Menu or Desktop shortcut The application starts as a system tray icon Open browser to https://localhost:12345 macOS Installation Download the appropriate DMG for your Mac: Intel Macs: ShippingManagerCoPilot-macos-x64.dmg Apple Silicon (M1/M2/M3): ShippingManagerCoPilot-macos-arm64.dmg Open the DMG file Drag ShippingManagerCoPilot.app to Applications folder First launch: Right-click &gt; Open (to bypass Gatekeeper) Open browser to https://localhost:12345 Linux Installation Download ShippingManagerCoPilot-linux-x64.tar.gz Extract: tar -xzf ShippingManagerCoPilot-linux-x64.tar.gz Run: ./ShippingManagerCoPilot Open browser to https://localhost:12345 Linux Dependencies: # Debian/Ubuntu sudo apt install libsecret-1-dev # Fedora/RHEL sudo dnf install libsecret-devel Running from Source (Developers) Prerequisites Node.js 22.0+ (required) node --version # Must be >= 22.0.0 npm --version # Must be >= 9.0.0 Python 3.10+ (required for system tray and session management) python --version # Must be >= 3.10 pip --version Git git --version Platform-Specific Dependencies Windows: pip install pywin32 Linux (Debian/Ubuntu): sudo apt install libsecret-1-dev build-essential python3-tk pip install SecretStorage Linux (Fedora/RHEL): sudo dnf install libsecret-devel gcc-c++ make python3-tkinter pip install SecretStorage macOS: brew install libsecret Installation Steps Clone the repository git clone https://github.com/justonlyforyou/shippingmanager_copilot.git cd shippingmanager_copilot Install Node.js dependencies npm install Install Python dependencies pip install -r requirements.txt Start the application python start.py The application starts as a system tray icon and automatically opens your browser to https://localhost:12345 . Session Authentication The application needs your Shipping Manager session cookie to authenticate with the game API. Windows (Steam + Browser) Steam extraction : Automatic - the app extracts session cookies from your local Steam client Browser login : Manual login via built-in browser window macOS / Linux (Browser only) Browser login : Click &quot;Browser Login&quot; in the app to authenticate through the game website Session Storage All sessions are encrypted using your OS credential manager: Windows : Windows DPAPI + Credential Manager macOS : Keychain Linux : libsecret (GNOME Keyring / KWallet) Configuration Settings are stored in: Windows (exe) : %LOCALAPPDATA%\\ShippingManagerCoPilot\\userdata\\settings\\settings.json Windows/Linux/Mac (source) : userdata/settings/settings.json Key settings: { &quot;port&quot;: 12345, &quot;host&quot;: &quot;127.0.0.1&quot; } port : Server port (default: 12345) host : Bind address 127.0.0.1 = localhost only (secure, default) 0.0.0.0 = allow LAN access from other devices LAN Access To access from mobile devices on your network: Change host to 0.0.0.0 in settings Find your IP: ipconfig (Windows) or ip addr (Linux) or ifconfig (Mac) Access via https://YOUR_IP:12345 Accept the self-signed certificate warning on each device Troubleshooting Certificate Error on First Access The app uses a self-signed HTTPS certificate. On first access: Click &quot;Advanced&quot; or &quot;Show Details&quot; Click &quot;Proceed to localhost (unsafe)&quot; or &quot;Accept Risk&quot; Port Already in Use # Windows netstat -ano | findstr :12345 # Linux/Mac lsof -i :12345 Change the port in settings or stop the conflicting process. Session Expired If you see 401 errors: Exit the application (right-click tray icon &gt; Exit) Launch Shipping Manager in Steam and log in Restart the application WebSocket Connection Failed Ensure you're using https:// not http:// Accept the certificate warning first Check browser console for errors Linux: libsecret Error # Install the required library sudo apt install libsecret-1-dev # Debian/Ubuntu sudo dnf install libsecret-devel # Fedora Building from Source See Build Guide for creating standalone executables. Security Notice The session cookie provides full access to your Shipping Manager account Never share your cookie or commit it to version control This tool likely violates Shipping Manager Terms of Service Use at your own risk Last updated: 2025-12-05"
  },
  {
    "type": "tutorial",
    "name": "Build Guide",
    "longname": "02-build-guide",
    "url": "tutorial-02-build-guide.html",
    "description": "Build Instructions Complete guide for compiling ShippingManager CoPilot into a standalone Windows executable. Prerequisites Required Software Node.js 22+ (https://nodejs.org/) node --version # Should be >= 22.0.0 Python 3.10+ (https://www.python.org/) python --version # Should be >= 3.10 .NET 8.0 SDK (https://dotnet.microsoft.com/download) dotnet --version # Should be >= 8.0 PyInstaller (for Python ‚Üí .exe compilation) pip install pyinstaller pkg (for Node.js ‚Üí .exe compilation) npm install -g pkg Python Dependencies Windows: pip install pywin32 cryptography keyring pystray pillow requests urllib3 Linux/Mac: pip install keyring cryptography pystray pillow requests urllib3 Node.js Dependencies npm install Build Process Quick Build (Recommended) The easiest way to build everything is using the automated build script: npm run build This single command will: Check all dependencies (Node.js, Python, PyInstaller, pkg, .NET SDK) Install Node.js dependencies Generate documentation Compile Node.js application to .exe (ShippingManagerCoPilot-Server.exe) Compile Python launcher with embedded Node.js server (ShippingManagerCoPilot.exe) Create deployment package with app-payload.zip Build WPF installer executable Output: dist/ShippingManagerCoPilot-v0.1.0/ (portable folder with single .exe) dist/ShippingManagerCoPilot-Installer-v0.1.0.exe (WPF installer) dist/checksums.txt (SHA256 hashes) public/docs/ (documentation) Options: npm run build -- --skip-deps # Skip npm install npm run build -- --skip-docs # Skip documentation generation npm run build -- --clean # Clean dist folder before build Example: # Fast rebuild without reinstalling dependencies npm run build -- --skip-deps # Clean build from scratch npm run build -- --clean Step-by-Step Build (Advanced) If you want to build components separately: Step 1: Compile Node.js Server to .exe IMPORTANT: This step MUST be done first, as the resulting .exe is embedded in the Python launcher. npm run build:node This creates: dist/ShippingManagerCoPilot-Server.exe (Node.js backend server) This file will be embedded as a resource in the Python launcher in the next step. Step 2: Compile Python Launcher with Embedded Server npm run build:python This creates: dist/ShippingManagerCoPilot.exe (Python launcher with embedded Node.js server) The Node.js server exe from Step 1 is automatically embedded as a resource and extracted to temp folder at runtime. Step 3: Package Everything node build-package.js This organizes all files into: dist/ShippingManagerCoPilot-v0.1.0/ ‚îú‚îÄ‚îÄ ShippingManagerCoPilot.exe (single-file: Python launcher + embedded Node.js server) ‚îú‚îÄ‚îÄ sysdata/ ‚îÇ ‚îî‚îÄ‚îÄ forecast/ (forecast cache, created at runtime) ‚îú‚îÄ‚îÄ userdata/ (user settings, created at runtime in AppData on first run) ‚îú‚îÄ‚îÄ public/ ‚îÇ ‚îî‚îÄ‚îÄ favicon.ico ‚îú‚îÄ‚îÄ README.md ‚îú‚îÄ‚îÄ LICENSE ‚îî‚îÄ‚îÄ START_HERE.txt This also creates installer/Resources/app-payload.zip which embeds the entire application into the installer. Note: All helper scripts (get-session-windows, login-dialog, session-selector) are embedded in the main .exe file. Step 4: Build Installer node build-installer.js This creates: dist/ShippingManagerCoPilot-Installer-v0.1.0.exe (WPF installer with embedded app-payload.zip) dist/checksums.txt (SHA256 hash for verification) The installer is a self-contained Windows executable that: Guides users through installation with modern UI Allows custom installation path selection Creates Start Menu and Desktop shortcuts Registers with Windows Programs &amp; Features for uninstallation Extracts app-payload.zip to the chosen location Testing the Build Navigate to dist/ShippingManagerCoPilot-v0.1.0/ Double-click ShippingManagerCoPilot.exe Verify: Server starts at https://localhost:12345 Session extraction works Browser opens automatically All features functional Troubleshooting PyInstaller Issues Error: Module not found # Add missing modules to build-python.spec hiddenimports hiddenimports=['win32crypt', 'win32api', 'cryptography', 'your_missing_module'] Error: Failed to execute script Check Python script runs standalone first: python helper/get-session-windows.py Enable debug mode: Edit .spec file and set debug=True pkg Issues Error: Cannot find module pkg.assets is already configured in package.json (lines 19-38) Includes: public/, server/, sysdata/forecast/, all dependencies If adding new dependencies, add them to pkg.assets array If adding new folders, add them with glob pattern (folder + slash + two asterisks + slash + asterisk) Error: Native module not found Some modules (like keytar ) need native binaries Solution: Bundle as external dependency or use alternative File Size Optimization Current estimated sizes: Node.js Server .exe: ~80-100 MB (embedded) Python Launcher .exe (with embedded Node.js server): ~100-120 MB Total single-file executable: ~100-120 MB Reduce Size (Optional) Enable UPX compression (in build-python.spec): upx=True, upx_exclude=[], Exclude unused modules (in build-python.spec): excludes=['tkinter', 'matplotlib', 'numpy'], pkg compression : pkg . --compress GZip Distribution Portable ZIP cd dist powershell Compress-Archive -Path ShippingManagerCoPilot-v0.1.0 -DestinationPath ShippingManagerCoPilot-v0.1.0-Portable.zip The ZIP file contains the single-file executable and supporting files (README, LICENSE, data folder structure). Version Updates Update version in package.json Rebuild: npm run build Clean Build # Remove all build artifacts rmdir /s /q dist rmdir /s /q build # Rebuild from scratch npm run build -- --clean Creating Releases Release Process Releases are automated via GitHub Actions when you push a version tag: # 1. Update version in package.json npm version 0.1.0 --no-git-tag-version # 2. Commit version bump git add package.json git commit -m &quot;Release v0.1.0&quot; # 3. Create and push tag git tag v0.1.0 git push origin main git push origin v0.1.0 Or push both together: git push origin main --tags What Happens Next When you push a tag matching v* : GitHub Actions Triggers ( .github/workflows/build-multiplatform.yml ) Builds for all platforms in parallel: Windows (full features with Steam integration) macOS Intel (x64) macOS Apple Silicon (arm64) Linux (x64) Creates GitHub Release with all platform builds Uploads Release Assets: ShippingManagerCoPilot-Installer-*.exe (Windows) ShippingManagerCoPilot-macos-x64.dmg (macOS Intel) ShippingManagerCoPilot-macos-arm64.dmg (macOS Apple Silicon) ShippingManagerCoPilot-linux-x64.tar.gz (Linux) Checksums for each platform Testing Before Release Always test locally before creating a release tag: # Full build npm run build:all # Test the installer dist/ShippingManagerCoPilot-Installer-v0.1.0.exe # Verify checksum type dist\\checksums.txt Release Asset Distribution Downloads available per platform: Platform File Notes Windows .exe installer Full features (Steam + Browser login) macOS Intel .dmg Browser login only macOS Apple Silicon .dmg Browser login only (M1/M2/M3) Linux .tar.gz Browser login only SHA256 checksums are provided for verification. Version Management Version is defined in package.json (single source of truth): Used by build-package.js for folder naming Used by build-installer.js for executable naming Synced to installer .csproj AssemblyVersion CI/CD Workflow The GitHub Actions workflow ( .github/workflows/build-multiplatform.yml ) runs on: Trigger: Tag push matching v* or manual dispatch Runners: Windows, macOS (Intel + ARM64), Linux Build Time: ~15-20 minutes (parallel builds) Output: Multi-platform release with all builds attached Build Jobs: build-windows - Windows installer with .NET SDK build-macos - macOS Intel DMG build-macos-arm64 - macOS Apple Silicon DMG build-linux - Linux tarball create-release - Combines all artifacts into GitHub Release Support If you encounter issues: Check this file for troubleshooting steps Verify all prerequisites are installed Try a clean build Check GitHub Issues for known problems Documentation This project includes comprehensive JSDoc documentation for all modules and functions. Generate Documentation # Generate HTML documentation npm run docs The documentation is automatically: Generated before every commit (via git pre-commit hook) Served by the application at https://localhost:12345/docs/index.html Accessible via the üìñ button in the UI (next to settings ‚öôÔ∏è) What's Included The documentation includes: All backend modules (server routes, utilities, middleware) All frontend modules (API, automation, bunker management, chat, coop, messenger, vessel management, etc.) Function signatures, parameters, return values, and examples This build guide and installation instructions (Tutorials section) View Documentation Start the application ( python start.py ) Click the üìñ button in the UI, or Navigate to https://localhost:12345/docs/index.html Documentation Structure Home : README with project overview Tutorials : Build guide and installation instructions Classes : ChatBot and other class documentation Modules : All code modules organized by functionality Global : Global functions and constants Rebuild Documentation Documentation is automatically rebuilt when you commit changes. To manually rebuild: npm run docs Generated files are located in public/docs/ and are included in git commits. Security Tooling All code is automatically scanned for security vulnerabilities before every commit: ESLint Security Plugin : Scans JavaScript/Node.js code for security issues Detects: unsafe regex (ReDoS), eval usage, command injection, hardcoded secrets Run manually: npm run lint Configuration: eslint.config.js Bandit Python Linter : Scans Python code for security vulnerabilities Detects: SQL injection, command injection, insecure YAML, pickle usage Run manually: npm run bandit or python -m bandit -r helper/ -c .bandit Configuration: .bandit (YAML) Pre-commit Hooks : Automated security gates block commits on errors npm audit (HIGH/CRITICAL vulnerabilities) ESLint errors (security issues) Bandit critical issues (Python security) Last updated: 2025-12-05"
  },
  {
    "type": "shippingmanager",
    "name": "Discovered Formulas",
    "longname": "03-discovered-formulars",
    "url": "tutorial-03-discovered-formulars.html",
    "description": "Discovered Game Formulas All formulas are from game files itself and verified against live game data as well. Harbor Fee (Total) Location: app.js module 2576, function ce (exported as l ) // Total harbor fee for cargo shipment harborFee = (17000 / distance) * Math.pow(cargo, 1.2) Parameters: cargo = actual cargo amount being transported (TEU) distance = route distance in nm With Perk Modifier: if (userHasPerk(&quot;cheap_harbor_fees&quot;)) { harborFee = harborFee * ((100 - perkModifier) / 100) } Harbor Fee MIN/MAX (UI Display) Location: 8182.js line 1561, function harborFees_minmax // MIN: assumes cargo = 1 TEU MIN = 17000 / distance // MAX: assumes cargo = 27000 TEU (largest vessel in game) MAX = (17000 / distance) * Math.pow(27000, 0.2) = (17000 / distance) * 7.697 Fuel Consumption Location: app.js module 2576, function a_ (exported as o ) fuel = (capacity / 2000) * distance * Math.sqrt(speed) / 20 * fuel_factor Parameters: capacity = vessel capacity (TEU). For tankers: capacity / 74 distance = route distance in nm speed = vessel speed in knots fuel_factor = vessel-specific factor (from vessel data, default 1) With Perk Modifiers: // travel_speed_increase perk affects speed if (userHasPerk(&quot;travel_speed_increase&quot;)) { speed = Math.max(speed - perkModifier, 5) } // Fuel reduction perks stack totalReduction = reduce_fuel_consumption.modifier + less_fuel_consumption.modifier fuel = fuel * (1 - totalReduction / 100) Fuel Consumption Display (kg/nm @ speed) Derived Formula for vessel panel display &quot;Fuel cons/Xkn&quot;: // Simplified from main formula (fuel / distance) fuel_kg_per_nm = capacity * Math.sqrt(speed) * fuel_factor / 40 Note: fuel_factor is vessel-specific and must be retrieved from API vessel data. Without knowing fuel_factor, calculate the base value (fuel_factor=1) then derive: fuel_factor = game_display_value / (capacity * Math.sqrt(speed) / 40) CO2 Emission (per TEU/nm) Location: app.js module 2576, function G_ (exported as i ) co2_per_teu_nm = (2 - capacity / 15000) * co2_factor Parameters: capacity = vessel capacity (TEU). For tankers: capacity / 74 co2_factor = vessel-specific factor (from vessel data, default 1) With Perk Modifier: if (userHasPerk(&quot;reduce_co2_consumption&quot;)) { co2_factor = co2_factor * (1 - perkModifier / 100) } Route Creation Fee Location: 8182.js line 1571, function routeFee routeFee = (40 * capacity + 10 * distance) * trainingMultiplier + drydockPrice Parameters: capacity = sum of vessel capacity_max (dry + refrigerated). For tankers: divided by 74 distance = route total_distance in nm trainingMultiplier = perk modifier from &quot;cheap_route_creation_fee&quot; (default: 1) drydockPrice = drydock maintenance price if drydock_on_arrival is true, otherwise 0 Base Formula (no perks, no drydock): routeFee = 40 * capacity + 10 * distance Travel Time Location: app.js module 2576, function gc (exported as a ) base_time = 600 + 6 * Math.min(200, distance) if (distance &lt;= 200) { time = base_time } else { time = Math.floor(base_time + (distance - 200) / speed * 75) } // With 4x speed perk active: if (speedBoostActive) { time = Math.floor(time / 4) } Output: Time in seconds Hijacking Risk Location: app.js module 2576, function qs (exported as s ) risk = Math.max(5, Math.min(35, Math.ceil(5.7 * (distance_in_danger_zone / speed) + speed / 1000))) Parameters: distance_in_danger_zone = nautical miles the route passes through a piracy zone speed = vessel speed in knots Output: Risk percentage (5% - 35%), or 0% if route doesn't cross any danger zone Calculating the Danger Zone Distance: The distance_in_danger_zone factor can be reverse-calculated from known values: distance_in_danger_zone = (risk - 1) * speed / 5.7 Example: Vessel with 19% risk at 8 kn speed: distance_in_danger_zone = (19 - 1) * 8 / 5.7 = 25.3 nm Notes: If route doesn't cross a danger zone: hijacking_risk = 0 (not 5%) The factor is NOT the total route distance, only the portion INSIDE the danger zone Higher speed = less time in zone = lower risk Server returns hijacking_risk directly in route API responses Danger zones: Gulf of Aden, South China Sea, Caribbean Sea, West African Coast, Madagascar, Indonesian Ocean Delivery Price (Instant Delivery) Location: app.js module 2576, function zK (exported as c ) // Per vessel, based on time until arrival pricePerVessel = Math.min(45, Math.ceil(secondsUntilArrival / 300)) // Total for multiple vessels totalPrice = sum(pricePerVessel for each vessel) Output: Price in points (max 45 per vessel, 5-minute increments) Guards Cost Location: 8182.js line 1188, 1589, 1624 guardCost = 700 // Fixed cost per guard totalGuardsFee = guards * guardCost // With cheap_guards perk: if (userHasPerk(&quot;cheap_guards&quot;)) { totalGuardsFee = totalGuardsFee * (100 - perkModifier) / 100 } Cubic Function (Unknown Purpose) Location: app.js module 2576, function pB (exported as u ) result = (value === 0) ? 0 : Math.pow(value, 3) Note: No usage found in captured frontend code. May be used in backend or called dynamically. Module 2576 Export Summary Export Function Purpose a_ / o Fuel Consumption Calculate fuel usage G_ / i CO2 Emission Calculate CO2 per TEU/nm gc / a Travel Time Calculate route duration qs / s Hijacking Risk Calculate piracy risk % zK / c Delivery Price Calculate instant delivery cost ce / l Harbor Fee Calculate harbor fees pB / u Cubic Unknown (value^3) R8 / f Date Format Format timestamps fP / p Relative Time Format relative time Perks Reference Perk ID Effect cheap_harbor_fees Reduce harbor fees by X% cheap_guards Reduce guard costs by X% cheap_route_creation_fee Reduce route creation fee (multiplier) reduce_fuel_consumption Reduce fuel consumption by X% less_fuel_consumption Reduce fuel consumption by X% (stacks) reduce_co2_consumption Reduce CO2 emissions by X% travel_speed_increase Reduce effective speed for fuel calc speed (4x boost) Divide travel time by 4 Last updated: 2025-12-05"
  },
  {
    "type": "shippingmanager",
    "name": "API Reference",
    "longname": "04-api-reference",
    "url": "tutorial-04-api-reference.html",
    "description": "API Reference window.location.href = 'https://shippingmanager-api-reference.pages.dev/'; If you are not redirected automatically, click here ."
  },
  {
    "type": "shippingmanager",
    "name": "Cheat-Sheet",
    "longname": "05-cheatsheet",
    "url": "tutorial-05-cheatsheet.html",
    "description": "üö¢ Cheat Sheet / Glitch Guide ‚ö° Faster Delivery Glitch Build a new vessel. (Does not work with vessels you bought) Go straight to Maintenance &gt; Dry Dock and select your fresh ship. Send it to the dry dock immediately. Just ignore any weird behavior or visual bugs around the ship for a moment you mabe have ingame. Check the Pending Tab (left side menu) and wait for the maintenance timer to hit zero. Done: Once maintenance finishes, your ship &quot;arrives&quot; instantly (skipping the delivery travel time). Bonus: You just doubled the time until the next required dry dock! Check the next bug below, you can combo these two. üëá üõ†Ô∏è &quot;Unlimited&quot; time until next DryDock Every new vessel spawns at a port that has a dry dock. CRITICAL: Before you send your ship anywhere, throw it into the dry dock. This glitches the timer: The &quot;Time to next Dry Dock&quot; gets added on top of the default value. Example: Default is 350h &gt; after first dry dock it‚Äôs 700h &gt; then 1050h, etc. Rinse and repeat: You can do this as many times as you want. We haven't found a limit yet - as long as you have the in-game cash to pay for it! üí∏"
  },
  {
    "type": "shippingmanager",
    "name": "Beginners Guide",
    "longname": "06-beginners-guide",
    "url": "tutorial-06-beginners-guide.html",
    "description": "Shipping Manager ‚Äì Beginner‚Äôs Guide CRITICAL WARNING: Do not spend real money on this game. Currently, there are no active developers working on the project, and the game suffers from many unresolved bugs. For Steam Players: As long as you haven't made any purchases yet, create a browser account . This allows you to log in via mobile devices to earn in-game rewards (ads) or use the in-game shop for cash transactions if absolutely necessary. However, remember the golden rule: Do not spend cash. The Steam version of this game is critically unstable and has significant limitations. If you have already spent money on your Steam account, please check out this resource: RebelShipBrowser on GitHub 1. Golden Rules for Beginners Avoid Tanker Operations until you reach Level 50. Prioritize Staff Happiness: Keep your staff status at &quot;Very Happy&quot; (100%) at all times. Maintain Reputation: Ensure your reputation stays at the top level (&gt;90%). Vessel Maintenance: Keep your ships in pristine condition (wear &lt; 2%). No IPOs: Stay away from Initial Public Offerings unless you are using a bot or have an excessive amount of free time. Focus on Growth: Concentrate on your own expansion until you are earning at least $200m per day . Alliance Strategy: Join an alliance to reap the benefits, BUT ensure you enable COOP in return. Smart Purchasing: Only buy anchor points in bundles of 10 to maximize savings. 2. Fleet Strategy &amp; Vessel Recommendations Phase 1: The Starter Fleet Fill your initial slots with the following standard vessels: 30 slots: Navicon 30 slots: Astronz 30 slots: Aquavita Phase 2: Customization &amp; Upgrades Once your initial fleet is established, begin the transition to high-efficiency custom ships: Replace all Astronz and Navicon ships with custom 2,000 TEU MIH X1 (11,000kW) vessels. Finally, replace all 30 Aquavitas with 27,000 TEU MIH X1 (11,000kW) vessels. Result: This fleet configuration creates a powerhouse capable of generating $100‚Äì120 million per day (or more) with exceptionally low fuel and CO‚ÇÇ costs. 3. Route Optimization For low-level accounts using the fleet described above, the &quot;sweet spot&quot; for balancing income versus operating costs lies in routes between 1,500 nm and 3,500 nm . 4. Staff Training Priorities Follow this order to maximize efficiency early on: Shop Cash: Up to Level 15 Cheap Fuel: Up to Level 10 Technical Officer (Less Fuel Consumption): Up to Level 5 Cheap CO‚ÇÇ:** Up to Level 10 Not possible because of a bug Instead do Boatswains (slower wear on vessels): Up to 5 Cheap Anchor Points: Up to Level 20 Cheap Fuel: Up to Level 20 Cheap CO‚ÇÇ: Up to Level 20 Not possible because of a bug Instead do CTO (slower wear on vessels): Up to 20 Cheap Harbor Fees: Up to Level 20 Captain (Lower Crew Unhappiness): Up to Level 5 Boatswain (Slower Wear): Up to Level 5 First Officer (Less Crew Needed): Up to Level 5 5. The &quot;Contribution Race&quot; Strategy There is only one real secret to mastering the Contribution Race: Strategic Fleet Division. As you progress, money becomes increasingly less valuable compared to contribution points. You must organize your fleet into two distinct operational groups: Group A: Focuses purely on generating income. Group B: Focuses exclusively on generating the maximum amount of contribution points possible."
  },
  {
    "type": "method",
    "name": "pem",
    "longname": "GET /ca-cert.pem",
    "url": "GET%20_ca-cert.html#.pem",
    "description": "<p>Serves the Certificate Authority (CA) certificate for download.\nUsers can install this CA certificate to trust all server certificates\ngenerated by this application across their network.</p>",
    "parent": "GET /ca-cert"
  },
  {
    "type": "method",
    "name": "clearAllianceTabCache",
    "longname": "module:alliance-tabs.clearAllianceTabCache",
    "url": "module-alliance-tabs.html#.clearAllianceTabCache",
    "description": "<p>Clears the alliance tab cache to force fresh data on next tab switch</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "closeAllianceCoopOverlay",
    "longname": "module:alliance-tabs.closeAllianceCoopOverlay",
    "url": "module-alliance-tabs.html#.closeAllianceCoopOverlay",
    "description": "<p>Closes the alliance cooperation overlay</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "getCurrentTab",
    "longname": "module:alliance-tabs.getCurrentTab",
    "url": "module-alliance-tabs.html#.getCurrentTab",
    "description": "<p>Gets the current active tab name</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "hideAllAllianceUI",
    "longname": "module:alliance-tabs.hideAllAllianceUI",
    "url": "module-alliance-tabs.html#.hideAllAllianceUI",
    "description": "<p>Immediately hides all alliance-specific UI elements after leaving</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "initAllianceTabs",
    "longname": "module:alliance-tabs.initAllianceTabs",
    "url": "module-alliance-tabs.html#.initAllianceTabs",
    "description": "<p>Initializes tab switching functionality\nONLY runs once to prevent duplicate event listeners</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "refreshCurrentTab",
    "longname": "module:alliance-tabs.refreshCurrentTab",
    "url": "module-alliance-tabs.html#.refreshCurrentTab",
    "description": "<p>Refreshes the current tab content</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "showAllAllianceUI",
    "longname": "module:alliance-tabs.showAllAllianceUI",
    "url": "module-alliance-tabs.html#.showAllAllianceUI",
    "description": "<p>Shows all alliance-specific UI elements when user joins/has alliance</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "showAllianceCoopOverlay",
    "longname": "module:alliance-tabs.showAllianceCoopOverlay",
    "url": "module-alliance-tabs.html#.showAllianceCoopOverlay",
    "description": "<p>Shows the alliance cooperation overlay with tabs</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "showAllianceDetailsModal",
    "longname": "module:alliance-tabs.showAllianceDetailsModal",
    "url": "module-alliance-tabs.html#.showAllianceDetailsModal",
    "description": "<p>Shows a modal with alliance details</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "switchTab",
    "longname": "module:alliance-tabs.switchTab",
    "url": "module-alliance-tabs.html#.switchTab",
    "description": "<p>Switches to a specific tab</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "updateCoopTabBadge",
    "longname": "module:alliance-tabs.updateCoopTabBadge",
    "url": "module-alliance-tabs.html#.updateCoopTabBadge",
    "description": "<p>Updates the coop badge in the tab button</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "acceptUserToAlliance",
    "longname": "module:alliance-tabs~acceptUserToAlliance",
    "url": "module-alliance-tabs.html#~acceptUserToAlliance",
    "description": "<p>Accepts a user's application to join the alliance</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "appendSearchResults",
    "longname": "module:alliance-tabs~appendSearchResults",
    "url": "module-alliance-tabs.html#~appendSearchResults",
    "description": "<p>Append search results for lazy loading</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "attachAllianceClickHandlers",
    "longname": "module:alliance-tabs~attachAllianceClickHandlers",
    "url": "module-alliance-tabs.html#~attachAllianceClickHandlers",
    "description": "<p>Attach click handlers to all alliance names in search results</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "attachApplicationButtonListeners",
    "longname": "module:alliance-tabs~attachApplicationButtonListeners",
    "url": "module-alliance-tabs.html#~attachApplicationButtonListeners",
    "description": "<p>Attaches click event listeners to application accept/decline buttons\nThis needs to be called after the queue content HTML is updated</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "attachSearchEventListeners",
    "longname": "module:alliance-tabs~attachSearchEventListeners",
    "url": "module-alliance-tabs.html#~attachSearchEventListeners",
    "description": "<p>Attach event listeners for search tab</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "createAllianceRow",
    "longname": "module:alliance-tabs~createAllianceRow",
    "url": "module-alliance-tabs.html#~createAllianceRow",
    "description": "<p>Create HTML for a single alliance row</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "declineUserFromAlliance",
    "longname": "module:alliance-tabs~declineUserFromAlliance",
    "url": "module-alliance-tabs.html#~declineUserFromAlliance",
    "description": "<p>Declines a user's application to join the alliance</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "fetchAllianceInfo",
    "longname": "module:alliance-tabs~fetchAllianceInfo",
    "url": "module-alliance-tabs.html#~fetchAllianceInfo",
    "description": "<p>Fetches alliance info from the backend API</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "fetchAllianceInfoById",
    "longname": "module:alliance-tabs~fetchAllianceInfoById",
    "url": "module-alliance-tabs.html#~fetchAllianceInfoById",
    "description": "<p>Fetches alliance info by ID from the backend API</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "fetchAllianceMembers",
    "longname": "module:alliance-tabs~fetchAllianceMembers",
    "url": "module-alliance-tabs.html#~fetchAllianceMembers",
    "description": "<p>Fetches alliance members from the backend API</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "fetchAllianceMembersById",
    "longname": "module:alliance-tabs~fetchAllianceMembersById",
    "url": "module-alliance-tabs.html#~fetchAllianceMembersById",
    "description": "<p>Fetches alliance members by ID from the backend API</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "fetchAllianceSettings",
    "longname": "module:alliance-tabs~fetchAllianceSettings",
    "url": "module-alliance-tabs.html#~fetchAllianceSettings",
    "description": "<p>Fetches alliance settings from the backend API</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "fetchHighScores",
    "longname": "module:alliance-tabs~fetchHighScores",
    "url": "module-alliance-tabs.html#~fetchHighScores",
    "description": "<p>Fetches high scores from the backend API</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "fetchLeagueInfo",
    "longname": "module:alliance-tabs~fetchLeagueInfo",
    "url": "module-alliance-tabs.html#~fetchLeagueInfo",
    "description": "<p>Fetches league info from the backend API</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "fetchQueuePool",
    "longname": "module:alliance-tabs~fetchQueuePool",
    "url": "module-alliance-tabs.html#~fetchQueuePool",
    "description": "<p>Fetches queue pool data from the backend API</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "generateAllianceInfoHTML",
    "longname": "module:alliance-tabs~generateAllianceInfoHTML",
    "url": "module-alliance-tabs.html#~generateAllianceInfoHTML",
    "description": "<p>Generate alliance info HTML (shared between tab and modal)</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "handleJoinAllianceClick",
    "longname": "module:alliance-tabs~handleJoinAllianceClick",
    "url": "module-alliance-tabs.html#~handleJoinAllianceClick",
    "description": "<p>Handles join alliance button click\nShows motivational speech dialog, then queue-for-any dialog, then applies</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "leaveAlliance",
    "longname": "module:alliance-tabs~leaveAlliance",
    "url": "module-alliance-tabs.html#~leaveAlliance",
    "description": "<p>Leaves the current alliance</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "loadTabContent",
    "longname": "module:alliance-tabs~loadTabContent",
    "url": "module-alliance-tabs.html#~loadTabContent",
    "description": "<p>Loads content for a specific tab</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "loadWelcomeMessage",
    "longname": "module:alliance-tabs~loadWelcomeMessage",
    "url": "module-alliance-tabs.html#~loadWelcomeMessage",
    "description": "<p>Loads welcome message from user settings and initializes the textarea</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "normalizeColor",
    "longname": "module:alliance-tabs~normalizeColor",
    "url": "module-alliance-tabs.html#~normalizeColor",
    "description": "<p>Normalize color hex code (remove alpha channel if present, add # prefix)</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "performSearch",
    "longname": "module:alliance-tabs~performSearch",
    "url": "module-alliance-tabs.html#~performSearch",
    "description": "<p>Perform alliance search</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "refreshApplicationsQueue",
    "longname": "module:alliance-tabs~refreshApplicationsQueue",
    "url": "module-alliance-tabs.html#~refreshApplicationsQueue",
    "description": "<p>Refreshes only the applications queue content without re-rendering the entire management tab\nThis preserves filter selections and member management state</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "renderAllianzTab",
    "longname": "module:alliance-tabs~renderAllianzTab",
    "url": "module-alliance-tabs.html#~renderAllianzTab",
    "description": "<p>Renders the Allianz tab content</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "renderCoopTab",
    "longname": "module:alliance-tabs~renderCoopTab",
    "url": "module-alliance-tabs.html#~renderCoopTab",
    "description": "<p>Renders the Coop tab content (uses existing coop.js functionality)</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "renderHighScoreTab",
    "longname": "module:alliance-tabs~renderHighScoreTab",
    "url": "module-alliance-tabs.html#~renderHighScoreTab",
    "description": "<p>Renders the HighScore tab content</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "renderLigaTab",
    "longname": "module:alliance-tabs~renderLigaTab",
    "url": "module-alliance-tabs.html#~renderLigaTab",
    "description": "<p>Renders the Liga tab content</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "renderManagementTab",
    "longname": "module:alliance-tabs~renderManagementTab",
    "url": "module-alliance-tabs.html#~renderManagementTab",
    "description": "<p>Renders the Management tab content</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "renderMemberCard",
    "longname": "module:alliance-tabs~renderMemberCard",
    "url": "module-alliance-tabs.html#~renderMemberCard",
    "description": "<p>Renders a single member card for the coop tab</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "renderSearchResults",
    "longname": "module:alliance-tabs~renderSearchResults",
    "url": "module-alliance-tabs.html#~renderSearchResults",
    "description": "<p>Render search results</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "renderSearchTab",
    "longname": "module:alliance-tabs~renderSearchTab",
    "url": "module-alliance-tabs.html#~renderSearchTab",
    "description": "<p>Renders the Search tab content</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "renderSettingsTab",
    "longname": "module:alliance-tabs~renderSettingsTab",
    "url": "module-alliance-tabs.html#~renderSettingsTab",
    "description": "<p>Renders the Settings tab content</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "saveWelcomeMessage",
    "longname": "module:alliance-tabs~saveWelcomeMessage",
    "url": "module-alliance-tabs.html#~saveWelcomeMessage",
    "description": "<p>Saves welcome message to user settings</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "sendWelcomeMessageToUser",
    "longname": "module:alliance-tabs~sendWelcomeMessageToUser",
    "url": "module-alliance-tabs.html#~sendWelcomeMessageToUser",
    "description": "<p>Sends welcome message to a user via chatbot command</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "showDonateDialog",
    "longname": "module:alliance-tabs~showDonateDialog",
    "url": "module-alliance-tabs.html#~showDonateDialog",
    "description": "<p>Shows donation dialog for donating diamonds to alliance members</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "showTextInputDialog",
    "longname": "module:alliance-tabs~showTextInputDialog",
    "url": "module-alliance-tabs.html#~showTextInputDialog",
    "description": "<p>Shows a text input dialog</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "updateAllianceSettings",
    "longname": "module:alliance-tabs~updateAllianceSettings",
    "url": "module-alliance-tabs.html#~updateAllianceSettings",
    "description": "<p>Updates alliance coop settings</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "updateManagementTabVisibility",
    "longname": "module:alliance-tabs~updateManagementTabVisibility",
    "url": "module-alliance-tabs.html#~updateManagementTabVisibility",
    "description": "<p>Updates the visibility of the Management tab based on user's alliance role\nOnly CEO, COO, and Management members can see the Management tab</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "updateTabVisibilityForAllianceMembers",
    "longname": "module:alliance-tabs~updateTabVisibilityForAllianceMembers",
    "url": "module-alliance-tabs.html#~updateTabVisibilityForAllianceMembers",
    "description": "<p>Updates tab visibility for alliance members\nShows: Allianz, Coop, Liga, HighScore, Settings, (Management if role allows)</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "updateTabVisibilityForNonMembers",
    "longname": "module:alliance-tabs~updateTabVisibilityForNonMembers",
    "url": "module-alliance-tabs.html#~updateTabVisibilityForNonMembers",
    "description": "<p>Updates tab visibility for non-alliance users\nShows ONLY: Search</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "updateUserRole",
    "longname": "module:alliance-tabs~updateUserRole",
    "url": "module-alliance-tabs.html#~updateUserRole",
    "description": "<p>Updates a member's role in the alliance</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "updateWelcomeMessageCharCount",
    "longname": "module:alliance-tabs~updateWelcomeMessageCharCount",
    "url": "module-alliance-tabs.html#~updateWelcomeMessageCharCount",
    "description": "<p>Updates the character count display for welcome message</p>",
    "parent": "module:alliance-tabs"
  },
  {
    "type": "method",
    "name": "initAnalytics",
    "longname": "module:analytics.initAnalytics",
    "url": "module-analytics.html#.initAnalytics",
    "description": "<p>Initialize the analytics module</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "addApiStatsTab",
    "longname": "module:analytics~addApiStatsTab",
    "url": "module-analytics.html#~addApiStatsTab",
    "description": "<p>Add API Stats tab button dynamically when develMode is enabled</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "buildPod2Html",
    "longname": "module:analytics~buildPod2Html",
    "url": "module-analytics.html#~buildPod2Html",
    "description": "<p>Build POD2 HTML based on entry type - shows ALL relevant details</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "checkAndBuildIndex",
    "longname": "module:analytics~checkAndBuildIndex",
    "url": "module-analytics.html#~checkAndBuildIndex",
    "description": "<p>Check if lookup store needs building and handle the build process\nShows full-modal overlay during build, polls for completion</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "closeSoldVesselPanel",
    "longname": "module:analytics~closeSoldVesselPanel",
    "url": "module-analytics.html#~closeSoldVesselPanel",
    "description": "<p>Close sold vessel panel and return to analytics</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "destroyChart",
    "longname": "module:analytics~destroyChart",
    "url": "module-analytics.html#~destroyChart",
    "description": "<p>Destroy trend chart</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "exportAnalyticsData",
    "longname": "module:analytics~exportAnalyticsData",
    "url": "module-analytics.html#~exportAnalyticsData",
    "description": "<p>Export analytics data in specified format - includes ALL available data</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "formatChartPrice",
    "longname": "module:analytics~formatChartPrice",
    "url": "module-analytics.html#~formatChartPrice",
    "description": "<p>Format price for Y-axis (US Dollar with thousand separators)</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "formatCurrency",
    "longname": "module:analytics~formatCurrency",
    "url": "module-analytics.html#~formatCurrency",
    "description": "<p>Format currency with $ sign and K/M suffixes</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "formatPercent",
    "longname": "module:analytics~formatPercent",
    "url": "module-analytics.html#~formatPercent",
    "description": "<p>Format percentage</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "handleRawTransactionSort",
    "longname": "module:analytics~handleRawTransactionSort",
    "url": "module-analytics.html#~handleRawTransactionSort",
    "description": "<p>Handle sort click on raw transactions table header</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "handleRouteClick",
    "longname": "module:analytics~handleRouteClick",
    "url": "module-analytics.html#~handleRouteClick",
    "description": "<p>Handle route row click - open harbor map with route filter</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "handleSort",
    "longname": "module:analytics~handleSort",
    "url": "module-analytics.html#~handleSort",
    "description": "<p>Handle sort click on table header</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "handleVesselClick",
    "longname": "module:analytics~handleVesselClick",
    "url": "module-analytics.html#~handleVesselClick",
    "description": "<p>Handle vessel row click - open harbor map and show vessel panel</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "initSortableHeaders",
    "longname": "module:analytics~initSortableHeaders",
    "url": "module-analytics.html#~initSortableHeaders",
    "description": "<p>Initialize sortable table headers</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "isCacheValid",
    "longname": "module:analytics~isCacheValid",
    "url": "module-analytics.html#~isCacheValid",
    "description": "<p>Check if cache is still valid (within TTL)</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "lazyLoadRoutes",
    "longname": "module:analytics~lazyLoadRoutes",
    "url": "module-analytics.html#~lazyLoadRoutes",
    "description": "<p>Lazy load routes data when tab is opened</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "lazyLoadVessels",
    "longname": "module:analytics~lazyLoadVessels",
    "url": "module-analytics.html#~lazyLoadVessels",
    "description": "<p>Lazy load vessels data when tab is opened</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "loadAnalyticsData",
    "longname": "module:analytics~loadAnalyticsData",
    "url": "module-analytics.html#~loadAnalyticsData",
    "description": "<p>Load analytics data from API - uses lazy loading for vessels/routes tabs</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "loadApiStats",
    "longname": "module:analytics~loadApiStats",
    "url": "module-analytics.html#~loadApiStats",
    "description": "<p>Load API stats data</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "loadGameLogData",
    "longname": "module:analytics~loadGameLogData",
    "url": "module-analytics.html#~loadGameLogData",
    "description": "<p>Load game transaction data from lookup store\nNote: Index building is now handled at modal level by checkAndBuildIndex()</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "loadMoreRawTransactions",
    "longname": "module:analytics~loadMoreRawTransactions",
    "url": "module-analytics.html#~loadMoreRawTransactions",
    "description": "<p>Load more raw transactions (append to existing)</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "loadRawTransactions",
    "longname": "module:analytics~loadRawTransactions",
    "url": "module-analytics.html#~loadRawTransactions",
    "description": "<p>Load raw transactions (lookup entries) with pagination</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "populateTypeFilter",
    "longname": "module:analytics~populateTypeFilter",
    "url": "module-analytics.html#~populateTypeFilter",
    "description": "<p>Populate type filter dropdown dynamically from breakdown data</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "preloadAllTabs",
    "longname": "module:analytics~preloadAllTabs",
    "url": "module-analytics.html#~preloadAllTabs",
    "description": "<p>Preload all tabs in background (parallel)\nData is cached so tabs open instantly when clicked</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "renderApiStatsChart",
    "longname": "module:analytics~renderApiStatsChart",
    "url": "module-analytics.html#~renderApiStatsChart",
    "description": "<p>Render API stats chart using LightweightCharts (minute-level data)</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "renderApiStatsSummary",
    "longname": "module:analytics~renderApiStatsSummary",
    "url": "module-analytics.html#~renderApiStatsSummary",
    "description": "<p>Render API stats summary metrics</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "renderApiStatsTable",
    "longname": "module:analytics~renderApiStatsTable",
    "url": "module-analytics.html#~renderApiStatsTable",
    "description": "<p>Render API stats endpoint table</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "renderBottomVesselsRevenueChart",
    "longname": "module:analytics~renderBottomVesselsRevenueChart",
    "url": "module-analytics.html#~renderBottomVesselsRevenueChart",
    "description": "<p>Render Bottom 10 Vessels by Daily Revenue (worst performers)</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "renderExpenseTable",
    "longname": "module:analytics~renderExpenseTable",
    "url": "module-analytics.html#~renderExpenseTable",
    "description": "<p>Render expense details table (merged from breakdown + details)</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "renderGameLogChart",
    "longname": "module:analytics~renderGameLogChart",
    "url": "module-analytics.html#~renderGameLogChart",
    "description": "<p>Render Game Log breakdown chart showing cumulative income/expenses by type\nUses individual transaction timestamps for zoom capability</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "renderGameLogDailyTable",
    "longname": "module:analytics~renderGameLogDailyTable",
    "url": "module-analytics.html#~renderGameLogDailyTable",
    "description": "<p>Render daily breakdown table</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "renderGameLogInfo",
    "longname": "module:analytics~renderGameLogInfo",
    "url": "module-analytics.html#~renderGameLogInfo",
    "description": "<p>Render game log info (metadata from lookup store)</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "renderGameLogTable",
    "longname": "module:analytics~renderGameLogTable",
    "url": "module-analytics.html#~renderGameLogTable",
    "description": "<p>Render game log table (Breakdown by Type from Lookup)</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "renderQuickSummary",
    "longname": "module:analytics~renderQuickSummary",
    "url": "module-analytics.html#~renderQuickSummary",
    "description": "<p>Render quick summary on overview tab\nShows operational data from local logs and expense totals from game API\nUses card grid layout (3 cards per row)</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "renderRawTransactionsTable",
    "longname": "module:analytics~renderRawTransactionsTable",
    "url": "module-analytics.html#~renderRawTransactionsTable",
    "description": "<p>Render the raw transactions table body (from lookup entries)</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "renderRouteTable",
    "longname": "module:analytics~renderRouteTable",
    "url": "module-analytics.html#~renderRouteTable",
    "description": "<p>Render route profitability table</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "renderSoldVesselHistory",
    "longname": "module:analytics~renderSoldVesselHistory",
    "url": "module-analytics.html#~renderSoldVesselHistory",
    "description": "<p>Render trip history for sold vessels\nSimplified version without live vessel status updates</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "renderSummary",
    "longname": "module:analytics~renderSummary",
    "url": "module-analytics.html#~renderSummary",
    "description": "<p>Render summary cards</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "renderTop10Routes",
    "longname": "module:analytics~renderTop10Routes",
    "url": "module-analytics.html#~renderTop10Routes",
    "description": "<p>Render Top 10 Routes highlight boxes</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "renderTrendChart",
    "longname": "module:analytics~renderTrendChart",
    "url": "module-analytics.html#~renderTrendChart",
    "description": "<p>Render revenue trend chart using TradingView Lightweight Charts</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "renderVesselCharts",
    "longname": "module:analytics~renderVesselCharts",
    "url": "module-analytics.html#~renderVesselCharts",
    "description": "<p>Render vessel charts for Vessels tab (composition and utilization only)\nTop/Bottom revenue charts are now in Overview tab</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "renderVesselTable",
    "longname": "module:analytics~renderVesselTable",
    "url": "module-analytics.html#~renderVesselTable",
    "description": "<p>Render vessel performance table</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "renderVesselsCompositionChart",
    "longname": "module:analytics~renderVesselsCompositionChart",
    "url": "module-analytics.html#~renderVesselsCompositionChart",
    "description": "<p>Render Fleet Composition as SVG pie chart</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "renderVesselsRevenueChart",
    "longname": "module:analytics~renderVesselsRevenueChart",
    "url": "module-analytics.html#~renderVesselsRevenueChart",
    "description": "<p>Render Top 10 Vessels by Revenue line chart with timestamp-based zoom</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "renderVesselsUtilizationChart",
    "longname": "module:analytics~renderVesselsUtilizationChart",
    "url": "module-analytics.html#~renderVesselsUtilizationChart",
    "description": "<p>Render Utilization Over Time chart\nShows individual utilization points with timestamps for zoom capability</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "setupApiStatsControls",
    "longname": "module:analytics~setupApiStatsControls",
    "url": "module-analytics.html#~setupApiStatsControls",
    "description": "<p>Setup API Stats tab controls</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "setupRawTransactionsLazyLoading",
    "longname": "module:analytics~setupRawTransactionsLazyLoading",
    "url": "module-analytics.html#~setupRawTransactionsLazyLoading",
    "description": "<p>Setup IntersectionObserver for lazy loading raw transactions</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "showLookupEntryDetails",
    "longname": "module:analytics~showLookupEntryDetails",
    "url": "module-analytics.html#~showLookupEntryDetails",
    "description": "<p>Show details for a lookup entry from all PODs</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "showRouteVesselsInfoTooltip",
    "longname": "module:analytics~showRouteVesselsInfoTooltip",
    "url": "module-analytics.html#~showRouteVesselsInfoTooltip",
    "description": "<p>Show info tooltip for route vessels column</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "showSoldVesselPanel",
    "longname": "module:analytics~showSoldVesselPanel",
    "url": "module-analytics.html#~showSoldVesselPanel",
    "description": "<p>Show sold vessel panel with history only\nCreates a simplified vessel panel for vessels that have been sold</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "sortData",
    "longname": "module:analytics~sortData",
    "url": "module-analytics.html#~sortData",
    "description": "<p>Sort data array by column and direction</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "switchTab",
    "longname": "module:analytics~switchTab",
    "url": "module-analytics.html#~switchTab",
    "description": "<p>Switch between tabs</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "updateFilterName",
    "longname": "module:analytics~updateFilterName",
    "url": "module-analytics.html#~updateFilterName",
    "description": "<p>Update the filter name display based on selected period</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "updateLoadMoreButton",
    "longname": "module:analytics~updateLoadMoreButton",
    "url": "module-analytics.html#~updateLoadMoreButton",
    "description": "<p>Update hasMore state for lazy loading</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "updateRawSortIndicators",
    "longname": "module:analytics~updateRawSortIndicators",
    "url": "module-analytics.html#~updateRawSortIndicators",
    "description": "<p>Update sort indicator CSS classes on raw table headers</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "updateRawTransactionCounts",
    "longname": "module:analytics~updateRawTransactionCounts",
    "url": "module-analytics.html#~updateRawTransactionCounts",
    "description": "<p>Update the count displays for raw transactions</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "updateRouteFilterIcons",
    "longname": "module:analytics~updateRouteFilterIcons",
    "url": "module-analytics.html#~updateRouteFilterIcons",
    "description": "<p>Update route filter icon visual states</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "updateSortIndicators",
    "longname": "module:analytics~updateSortIndicators",
    "url": "module-analytics.html#~updateSortIndicators",
    "description": "<p>Update sort indicators on table headers</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "updateVesselFilterIcons",
    "longname": "module:analytics~updateVesselFilterIcons",
    "url": "module-analytics.html#~updateVesselFilterIcons",
    "description": "<p>Update vessel filter icon visual states</p>",
    "parent": "module:analytics"
  },
  {
    "type": "method",
    "name": "activateCampaign",
    "longname": "module:api.activateCampaign",
    "url": "module-api.html#.activateCampaign",
    "description": "<p>Activates a marketing campaign by purchasing it.\nOnly 3 campaigns can be active simultaneously (one of each type).</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "buildLookup",
    "longname": "module:api.buildLookup",
    "url": "module-api.html#.buildLookup",
    "description": "<p>Build/update the lookup table from all PODs</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "checkCompanyAge",
    "longname": "module:api.checkCompanyAge",
    "url": "module-api.html#.checkCompanyAge",
    "description": "<p>Check age of a single company (non-blocking)</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "checkDevelMode",
    "longname": "module:api.checkDevelMode",
    "url": "module-api.html#.checkDevelMode",
    "description": "<p>Check if developer mode is enabled</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "clearLookup",
    "longname": "module:api.clearLookup",
    "url": "module-api.html#.clearLookup",
    "description": "<p>Clear lookup store</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "deleteAllLogs",
    "longname": "module:api.deleteAllLogs",
    "url": "module-api.html#.deleteAllLogs",
    "description": "<p>Deletes all autopilot logs for the current user</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "deleteChat",
    "longname": "module:api.deleteChat",
    "url": "module-api.html#.deleteChat",
    "description": "<p>Deletes a chat conversation or system message.\nSystem messages and regular chats are handled differently by the API.</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "departAllVessels",
    "longname": "module:api.departAllVessels",
    "url": "module-api.html#.departAllVessels",
    "description": "<p>Departs all vessels currently in harbor (backwards compatibility wrapper).\nUses the universal departVessels() function with no vessel IDs.</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "departVessel",
    "longname": "module:api.departVessel",
    "url": "module-api.html#.departVessel",
    "description": "<p>Departs a single vessel on its assigned route.\nUsed by intelligent auto-depart to send only profitable vessels.</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "departVessels",
    "longname": "module:api.departVessels",
    "url": "module-api.html#.departVessels",
    "description": "<p>Universal depart function - departs vessels using autopilot logic.\nCan depart ALL vessels or specific vessels by ID.</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "doWearMaintenanceBulk",
    "longname": "module:api.doWearMaintenanceBulk",
    "url": "module-api.html#.doWearMaintenanceBulk",
    "description": "<p>Performs wear maintenance (repair) on multiple vessels at once.\nUsed by auto-repair feature and manual bulk repair button.</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "downloadLogbookExport",
    "longname": "module:api.downloadLogbookExport",
    "url": "module-api.html#.downloadLogbookExport",
    "description": "<p>Downloads autopilot logs in specified format</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "fetchAcquirableVessels",
    "longname": "module:api.fetchAcquirableVessels",
    "url": "module-api.html#.fetchAcquirableVessels",
    "description": "<p>Fetches all vessels available for purchase in the market.\nIncludes vessel specifications, prices, and engine types.</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "fetchAllianceMembers",
    "longname": "module:api.fetchAllianceMembers",
    "url": "module-api.html#.fetchAllianceMembers",
    "description": "<p>Fetches the list of all alliance members.\nReturns empty array if request fails.</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "fetchAssignedPorts",
    "longname": "module:api.fetchAssignedPorts",
    "url": "module-api.html#.fetchAssignedPorts",
    "description": "<p>Fetches demand and consumed data for all assigned ports.\nUsed by intelligent auto-depart to calculate remaining port capacity.</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "fetchBunkerPrices",
    "longname": "module:api.fetchBunkerPrices",
    "url": "module-api.html#.fetchBunkerPrices",
    "description": "<p>Fetches current bunker fuel and CO2 prices.\nPrices fluctuate based on game economy and are updated every 30-35 seconds.</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "fetchCampaigns",
    "longname": "module:api.fetchCampaigns",
    "url": "module-api.html#.fetchCampaigns",
    "description": "<p>Fetches available marketing campaigns and currently active campaigns.\nCampaigns provide temporary bonuses (reputation, awareness, green).</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "fetchChat",
    "longname": "module:api.fetchChat",
    "url": "module-api.html#.fetchChat",
    "description": "<p>Fetches the alliance chat feed including both chat messages and system feed events.</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "fetchContacts",
    "longname": "module:api.fetchContacts",
    "url": "module-api.html#.fetchContacts",
    "description": "<p>Fetches the user's contact list.\nReturns both regular contacts and alliance contacts.</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "fetchLogbookEntries",
    "longname": "module:api.fetchLogbookEntries",
    "url": "module-api.html#.fetchLogbookEntries",
    "description": "<p>Fetches autopilot log entries with optional filters</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "fetchLogbookFileSize",
    "longname": "module:api.fetchLogbookFileSize",
    "url": "module-api.html#.fetchLogbookFileSize",
    "description": "<p>Fetches current log file size</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "fetchMessengerChats",
    "longname": "module:api.fetchMessengerChats",
    "url": "module-api.html#.fetchMessengerChats",
    "description": "<p>Fetches all messenger chats for the current user.\nIncludes both regular chats and system messages.</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "fetchMessengerMessages",
    "longname": "module:api.fetchMessengerMessages",
    "url": "module-api.html#.fetchMessengerMessages",
    "description": "<p>Fetches all messages for a specific chat conversation.</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "fetchUserCompany",
    "longname": "module:api.fetchUserCompany",
    "url": "module-api.html#.fetchUserCompany",
    "description": "<p>Fetches user company data including fuel and CO2 capacity.\nUsed to get actual capacity values from API instead of hardcoding.</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "fetchUserSettings",
    "longname": "module:api.fetchUserSettings",
    "url": "module-api.html#.fetchUserSettings",
    "description": "<p>Fetches current user settings and account information.</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "fetchVessels",
    "longname": "module:api.fetchVessels",
    "url": "module-api.html#.fetchVessels",
    "description": "<p>Fetches all vessels owned by the current user.\nIncludes vessels in harbor, at sea, and pending delivery.</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getAnalyticsAll",
    "longname": "module:api.getAnalyticsAll",
    "url": "module-api.html#.getAnalyticsAll",
    "description": "<p>Get all analytics data in one call (for dashboard)</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getAnalyticsOverview",
    "longname": "module:api.getAnalyticsOverview",
    "url": "module-api.html#.getAnalyticsOverview",
    "description": "<p>Get overview tab data only (fast load)</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getAnalyticsRoutes",
    "longname": "module:api.getAnalyticsRoutes",
    "url": "module-api.html#.getAnalyticsRoutes",
    "description": "<p>Get route profitability</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getAnalyticsSummary",
    "longname": "module:api.getAnalyticsSummary",
    "url": "module-api.html#.getAnalyticsSummary",
    "description": "<p>Get weekly summary</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getAnalyticsTrend",
    "longname": "module:api.getAnalyticsTrend",
    "url": "module-api.html#.getAnalyticsTrend",
    "description": "<p>Get daily revenue trend</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getAnalyticsVessels",
    "longname": "module:api.getAnalyticsVessels",
    "url": "module-api.html#.getAnalyticsVessels",
    "description": "<p>Get vessel performance metrics</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getApiStats",
    "longname": "module:api.getApiStats",
    "url": "module-api.html#.getApiStats",
    "description": "<p>Get API call statistics (develMode only)</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getApiStatsDates",
    "longname": "module:api.getApiStatsDates",
    "url": "module-api.html#.getApiStatsDates",
    "description": "<p>Get available API stats dates (develMode only)</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getApiStatsHourly",
    "longname": "module:api.getApiStatsHourly",
    "url": "module-api.html#.getApiStatsHourly",
    "description": "<p>Get hourly API stats for charting (develMode only)</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getCompanyNameCached",
    "longname": "module:api.getCompanyNameCached",
    "url": "module-api.html#.getCompanyNameCached",
    "description": "<p>Fetches company name for a user from backend.\nBackend handles caching, so no frontend cache needed.\nFalls back to &quot;User {id}&quot; if fetch fails.</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getLookupBreakdown",
    "longname": "module:api.getLookupBreakdown",
    "url": "module-api.html#.getLookupBreakdown",
    "description": "<p>Get breakdown by transaction type</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getLookupDaily",
    "longname": "module:api.getLookupDaily",
    "url": "module-api.html#.getLookupDaily",
    "description": "<p>Get daily breakdown from lookup store</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getLookupDetails",
    "longname": "module:api.getLookupDetails",
    "url": "module-api.html#.getLookupDetails",
    "description": "<p>Get full details for a lookup entry from all PODs</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getLookupEntries",
    "longname": "module:api.getLookupEntries",
    "url": "module-api.html#.getLookupEntries",
    "description": "<p>Get lookup entries</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getLookupInfo",
    "longname": "module:api.getLookupInfo",
    "url": "module-api.html#.getLookupInfo",
    "description": "<p>Get lookup store info</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getLookupTotals",
    "longname": "module:api.getLookupTotals",
    "url": "module-api.html#.getLookupTotals",
    "description": "<p>Get income/expense totals from lookup</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getMaintenanceCost",
    "longname": "module:api.getMaintenanceCost",
    "url": "module-api.html#.getMaintenanceCost",
    "description": "<p>Gets the total maintenance cost for specified vessels.\nUsed before performing bulk repair to show cost to user.</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getRecentIpos",
    "longname": "module:api.getRecentIpos",
    "url": "module-api.html#.getRecentIpos",
    "description": "<p>Get recent IPOs for the IPO Alert tab</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getRouteVessels",
    "longname": "module:api.getRouteVessels",
    "url": "module-api.html#.getRouteVessels",
    "description": "<p>Get vessel performance for a specific route</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getStockFinanceOverview",
    "longname": "module:api.getStockFinanceOverview",
    "url": "module-api.html#.getStockFinanceOverview",
    "description": "<p>Fetches stock finance overview for a user\nIncludes stock info with history, investors, and investments</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getStockMarket",
    "longname": "module:api.getStockMarket",
    "url": "module-api.html#.getStockMarket",
    "description": "<p>Fetches stock market listings with filter and pagination</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getStockPurchaseTimes",
    "longname": "module:api.getStockPurchaseTimes",
    "url": "module-api.html#.getStockPurchaseTimes",
    "description": "<p>Get stock purchase timestamps from logbook\nReturns the most recent purchase timestamp for each company.\nUsed to calculate 48h lock period for selling.</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getTransactionDaily",
    "longname": "module:api.getTransactionDaily",
    "url": "module-api.html#.getTransactionDaily",
    "description": "<p>Get daily transaction breakdown</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getTransactionData",
    "longname": "module:api.getTransactionData",
    "url": "module-api.html#.getTransactionData",
    "description": "<p>Get all transaction data for dashboard</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getTransactionInfo",
    "longname": "module:api.getTransactionInfo",
    "url": "module-api.html#.getTransactionInfo",
    "description": "<p>Get transaction store info</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getTransactionList",
    "longname": "module:api.getTransactionList",
    "url": "module-api.html#.getTransactionList",
    "description": "<p>Get paginated transaction list with sorting and filtering</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getTransactionSummary",
    "longname": "module:api.getTransactionSummary",
    "url": "module-api.html#.getTransactionSummary",
    "description": "<p>Get transaction summary by context</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "getTransactionTypes",
    "longname": "module:api.getTransactionTypes",
    "url": "module-api.html#.getTransactionTypes",
    "description": "<p>Get available transaction types</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "increaseStockForSale",
    "longname": "module:api.increaseStockForSale",
    "url": "module-api.html#.increaseStockForSale",
    "description": "<p>Increase shares for sale (issue new shares to the market)\nOnly available for users who have completed IPO\nPrice doubles with each 25k tranche based on shares in circulation</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "markChatAsRead",
    "longname": "module:api.markChatAsRead",
    "url": "module-api.html#.markChatAsRead",
    "description": "<p>Marks a chat conversation or system message as read.\nSystem messages and regular chats are handled differently by the API.</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "purchaseCO2",
    "longname": "module:api.purchaseCO2",
    "url": "module-api.html#.purchaseCO2",
    "description": "<p>Purchases CO2 credits for the bunker.\nAmount is multiplied by 1000 before sending (API expects millitons).</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "purchaseFuel",
    "longname": "module:api.purchaseFuel",
    "url": "module-api.html#.purchaseFuel",
    "description": "<p>Purchases fuel for the bunker.\nAmount is multiplied by 1000 before sending (API expects millitons).</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "purchaseStock",
    "longname": "module:api.purchaseStock",
    "url": "module-api.html#.purchaseStock",
    "description": "<p>Purchase stocks from a company\nRequires IPO=1 on the calling user's account</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "purchaseVessel",
    "longname": "module:api.purchaseVessel",
    "url": "module-api.html#.purchaseVessel",
    "description": "<p>Purchases a vessel from the market.\nUser provides name and antifouling choice during purchase.\nIncludes retry logic for network errors with verification to prevent duplicates.</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "rebuildLookup",
    "longname": "module:api.rebuildLookup",
    "url": "module-api.html#.rebuildLookup",
    "description": "<p>Rebuild lookup store (clears, syncs vessel history, rebuilds)</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "searchUsers",
    "longname": "module:api.searchUsers",
    "url": "module-api.html#.searchUsers",
    "description": "<p>Search for users by company name.\nReturns array of matching users with IDs and company names.</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "sellStock",
    "longname": "module:api.sellStock",
    "url": "module-api.html#.sellStock",
    "description": "<p>Sell stock shares</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "sendChatMessage",
    "longname": "module:api.sendChatMessage",
    "url": "module-api.html#.sendChatMessage",
    "description": "<p>Sends a message to the alliance chat.\nMessage must be valid according to game rules (length, content).</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "sendPrivateMessage",
    "longname": "module:api.sendPrivateMessage",
    "url": "module-api.html#.sendPrivateMessage",
    "description": "<p>Sends a private message to another user.\nCreates a new chat or continues existing conversation.</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "syncTransactions",
    "longname": "module:api.syncTransactions",
    "url": "module-api.html#.syncTransactions",
    "description": "<p>Sync transactions from game API\nFetches latest transactions and merges with local store</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "verifyVesselPurchased",
    "longname": "module:api~verifyVesselPurchased",
    "url": "module-api.html#~verifyVesselPurchased",
    "description": "<p>Verifies if a vessel with given name exists in fleet.\nUsed to check if a purchase succeeded after network error.</p>",
    "parent": "module:api"
  },
  {
    "type": "method",
    "name": "initAutomation",
    "longname": "module:automation.initAutomation",
    "url": "module-automation.html#.initAutomation",
    "description": "<p>Initializes the AutoPilot automation system with randomized scheduling.</p>\n<p><strong>Scheduling Strategy:</strong></p>\n<ul>\n<li>Initial check runs after 5 seconds (warmup delay)</li>\n<li>Subsequent checks run at random intervals between 1-3 minutes</li>\n<li>Each interval is randomly generated to prevent predictable patterns</li>\n<li>Uses recursive setTimeout to schedule next check after current completes</li>\n</ul>\n<p><strong>What Gets Scheduled:</strong>\nOnly non-price-dependent features (depart/repair/campaign) are scheduled here.\nFuel/CO2 rebuy runs event-driven via triggerAutoRebuyChecks() when prices update.</p>\n<p>This function should be called once on application startup.</p>",
    "parent": "module:automation"
  },
  {
    "type": "method",
    "name": "runAutomationChecks",
    "longname": "module:automation.runAutomationChecks",
    "url": "module-automation.html#.runAutomationChecks",
    "description": "<p>Main automation loop that runs non-price-dependent checks.\nExecutes vessel departure, repair, and campaign renewal automation.</p>\n<p>This function is called by the global automation scheduler (initAutomation)\nat random 1-3 minute intervals. Price-dependent features (fuel/CO2 rebuy)\nare NOT included here - they use triggerAutoRebuyChecks() instead.</p>\n<p><strong>Features Checked:</strong></p>\n<ul>\n<li>Auto-Depart All Vessels (with 1-2 min throttling)</li>\n<li>Auto Bulk Repair (with 1-2 min throttling)</li>\n<li>Auto Campaign Renewal (with 2-3 min throttling)</li>\n</ul>",
    "parent": "module:automation"
  },
  {
    "type": "method",
    "name": "triggerAutoRebuyChecks",
    "longname": "module:automation.triggerAutoRebuyChecks",
    "url": "module-automation.html#.triggerAutoRebuyChecks",
    "description": "<p>Triggers auto-rebuy checks for fuel and CO2 based on current prices.\nCalled by bunker-management.js whenever prices update (every 30-35 seconds).</p>\n<p>This is the event-driven entry point for price-dependent automation.\nFuel/CO2 rebuy logic executes immediately when prices drop, without\nwaiting for the global automation loop.</p>",
    "parent": "module:automation"
  },
  {
    "type": "method",
    "name": "calculateRemainingDemand",
    "longname": "module:automation~calculateRemainingDemand",
    "url": "module-automation.html#~calculateRemainingDemand",
    "description": "<p>Calculates remaining demand at a port (demand - consumed).\nSums both cargo types for containers (dry + refrigerated) and tankers (fuel + crude_oil).</p>",
    "parent": "module:automation"
  },
  {
    "type": "method",
    "name": "checkAutoCampaignRenewal",
    "longname": "module:automation~checkAutoCampaignRenewal",
    "url": "module-automation.html#~checkAutoCampaignRenewal",
    "description": "<p>Checks if marketing campaigns need renewal and automatically activates\nthe most expensive affordable campaign for each inactive type.\nRuns with randomized intervals for anti-detection.</p>\n<p><strong>Throttling Strategy:</strong></p>\n<ul>\n<li>Randomized interval between 2-3 minutes between checks</li>\n<li>Uses lastCampaignCheck timestamp to enforce minimum intervals</li>\n<li>Random timing prevents predictable patterns that could trigger anti-bot</li>\n</ul>\n<p><strong>Campaign Types:</strong>\nMonitors three campaign types: 'reputation', 'awareness', 'green'</p>\n<p><strong>Renewal Logic:</strong></p>\n<ul>\n<li>Checks which of the three campaign types are currently inactive</li>\n<li>For each inactive type, finds the most expensive campaign that can be afforded</li>\n<li>Activates campaigns sequentially, updating cash after each purchase</li>\n<li>Skips if all campaigns active or no affordable options</li>\n</ul>\n<p><strong>Best Campaign Selection:</strong></p>\n<ul>\n<li>Filters campaigns by type (reputation/awareness/green)</li>\n<li>Filters by affordability (price &lt;= currentCash)</li>\n<li>Sorts by price descending to get most expensive</li>\n<li>Selects first (most expensive) affordable campaign</li>\n</ul>\n<p><strong>Side Effects:</strong></p>\n<ul>\n<li>Triggers UI updates via window.debouncedUpdateBunkerStatus()</li>\n<li>Sends notification if autoPilotNotifications enabled</li>\n<li>Updates local currentCash tracker after each purchase</li>\n</ul>",
    "parent": "module:automation"
  },
  {
    "type": "method",
    "name": "checkAutoDepartAll",
    "longname": "module:automation~checkAutoDepartAll",
    "url": "module-automation.html#~checkAutoDepartAll",
    "description": "<p>Checks if vessels should be automatically departed and executes departure.\nRuns in an endless loop with randomized intervals for anti-detection.</p>\n<p><strong>Throttling Strategy:</strong></p>\n<ul>\n<li>Randomized interval between 1-2 minutes between checks</li>\n<li>Uses lastVesselCheck timestamp to enforce minimum intervals</li>\n<li>Random timing prevents predictable patterns that could trigger anti-bot</li>\n</ul>\n<p><strong>Departure Logic:</strong></p>\n<ul>\n<li>Only departs vessels with status 'port' and not parked (is_parked = false)</li>\n<li>Requires fuel &gt; 0 in bunker to proceed</li>\n<li>Skips if no vessels in port or no fuel available</li>\n</ul>\n<p><strong>Side Effects:</strong></p>\n<ul>\n<li>Triggers UI updates via window.debouncedUpdateVesselCount()</li>\n<li>Triggers UI updates via window.debouncedUpdateBunkerStatus()</li>\n<li>Sends notification if autoPilotNotifications enabled</li>\n</ul>",
    "parent": "module:automation"
  },
  {
    "type": "method",
    "name": "checkAutoRebuyCO2",
    "longname": "module:automation~checkAutoRebuyCO2",
    "url": "module-automation.html#~checkAutoRebuyCO2",
    "description": "<p>Checks if automatic CO2 purchase should be triggered based on current price.\nThis function is called by bunker-management.js whenever prices update (every 30-35s).</p>\n<p><strong>Simple Logic:</strong></p>\n<ul>\n<li>Whenever price is at or below threshold, attempts to purchase CO2</li>\n<li>Continues purchasing every price update until bunker is full or funds depleted</li>\n<li>No time windows - purely price-driven</li>\n</ul>\n<p><strong>Threshold Selection:</strong></p>\n<ul>\n<li>Uses settings.co2Threshold if autoRebuyCO2UseAlert is enabled</li>\n<li>Otherwise uses settings.autoRebuyCO2Threshold</li>\n</ul>",
    "parent": "module:automation"
  },
  {
    "type": "method",
    "name": "checkAutoRebuyFuel",
    "longname": "module:automation~checkAutoRebuyFuel",
    "url": "module-automation.html#~checkAutoRebuyFuel",
    "description": "<p>Checks if automatic fuel purchase should be triggered based on current price.\nThis function is called by bunker-management.js whenever prices update (every 30-35s).</p>\n<p><strong>Simple Logic:</strong></p>\n<ul>\n<li>Whenever price is at or below threshold, attempts to purchase fuel</li>\n<li>Continues purchasing every price update until bunker is full or funds depleted</li>\n<li>No time windows - purely price-driven</li>\n</ul>\n<p><strong>Threshold Selection:</strong></p>\n<ul>\n<li>Uses settings.fuelThreshold if autoRebuyFuelUseAlert is enabled</li>\n<li>Otherwise uses settings.autoRebuyFuelThreshold</li>\n</ul>",
    "parent": "module:automation"
  },
  {
    "type": "method",
    "name": "getTotalCapacity",
    "longname": "module:automation~getTotalCapacity",
    "url": "module-automation.html#~getTotalCapacity",
    "description": "<p>Calculates total capacity of a vessel.\nSums both cargo types for containers (dry + refrigerated) and tankers (fuel + crude_oil).</p>",
    "parent": "module:automation"
  },
  {
    "type": "method",
    "name": "performAutoRebuyCO2",
    "longname": "module:automation~performAutoRebuyCO2",
    "url": "module-automation.html#~performAutoRebuyCO2",
    "description": "<p>Executes automatic CO2 purchase when price is favorable.\nCalculates optimal purchase amount based on available bunker space and cash.</p>\n<p><strong>Purchase Logic:</strong></p>\n<ul>\n<li>Calculates available bunker space (maxCO2 - currentCO2)</li>\n<li>Calculates maximum affordable amount (cash / co2Price)</li>\n<li>Purchases the lesser of available space or affordable amount</li>\n<li>Skips purchase if bunker full or insufficient funds</li>\n</ul>\n<p><strong>Side Effects:</strong></p>\n<ul>\n<li>Sets isAutoBuying lock during operation</li>\n<li>Triggers UI update via window.debouncedUpdateBunkerStatus()</li>\n<li>Sends notification if autoPilotNotifications enabled</li>\n</ul>",
    "parent": "module:automation"
  },
  {
    "type": "method",
    "name": "performAutoRebuyFuel",
    "longname": "module:automation~performAutoRebuyFuel",
    "url": "module-automation.html#~performAutoRebuyFuel",
    "description": "<p>Executes automatic fuel purchase when price is favorable.\nCalculates optimal purchase amount based on available bunker space and cash.</p>\n<p><strong>Purchase Logic:</strong></p>\n<ul>\n<li>Calculates available bunker space (maxFuel - currentFuel)</li>\n<li>Calculates maximum affordable amount (cash / fuelPrice)</li>\n<li>Purchases the lesser of available space or affordable amount</li>\n<li>Skips purchase if bunker full or insufficient funds</li>\n</ul>\n<p><strong>Side Effects:</strong></p>\n<ul>\n<li>Sets isAutoBuying lock during operation</li>\n<li>Triggers UI update via window.debouncedUpdateBunkerStatus()</li>\n<li>Sends notification if autoPilotNotifications enabled</li>\n</ul>",
    "parent": "module:automation"
  },
  {
    "type": "method",
    "name": "updateAutoDepartLabel",
    "longname": "module:automation~updateAutoDepartLabel",
    "url": "module-automation.html#~updateAutoDepartLabel",
    "description": "<p>Updates the Auto-Depart settings label with status text.</p>",
    "parent": "module:automation"
  },
  {
    "type": "method",
    "name": "getBadgeCount",
    "longname": "module:badge-manager.getBadgeCount",
    "url": "module-badge-manager.html#.getBadgeCount",
    "description": "<p>Get current badge count</p>",
    "parent": "module:badge-manager"
  },
  {
    "type": "method",
    "name": "hideBadge",
    "longname": "module:badge-manager.hideBadge",
    "url": "module-badge-manager.html#.hideBadge",
    "description": "<p>Hide a badge completely</p>",
    "parent": "module:badge-manager"
  },
  {
    "type": "method",
    "name": "showBadge",
    "longname": "module:badge-manager.showBadge",
    "url": "module-badge-manager.html#.showBadge",
    "description": "<p>Show a badge without changing count</p>",
    "parent": "module:badge-manager"
  },
  {
    "type": "method",
    "name": "updateBadge",
    "longname": "module:badge-manager.updateBadge",
    "url": "module-badge-manager.html#.updateBadge",
    "description": "<p>Update a badge with count and visibility\nUpdates BOTH hidden badge (for compatibility) and map icon badge</p>",
    "parent": "module:badge-manager"
  },
  {
    "type": "method",
    "name": "updateButtonState",
    "longname": "module:badge-manager.updateButtonState",
    "url": "module-badge-manager.html#.updateButtonState",
    "description": "<p>Update button disabled state\nUpdates BOTH hidden button and map icon button</p>",
    "parent": "module:badge-manager"
  },
  {
    "type": "method",
    "name": "updateButtonTooltip",
    "longname": "module:badge-manager.updateButtonTooltip",
    "url": "module-badge-manager.html#.updateButtonTooltip",
    "description": "<p>Update button tooltip\nUpdates BOTH hidden button and map icon button</p>",
    "parent": "module:badge-manager"
  },
  {
    "type": "method",
    "name": "updateButtonVisibility",
    "longname": "module:badge-manager.updateButtonVisibility",
    "url": "module-badge-manager.html#.updateButtonVisibility",
    "description": "<p>Update button visibility (for alliance buttons)\nUpdates BOTH hidden button and map icon button</p>",
    "parent": "module:badge-manager"
  },
  {
    "type": "method",
    "name": "initBroadcast",
    "longname": "module:broadcast.initBroadcast",
    "url": "module-broadcast.html#.initBroadcast",
    "description": "<p>Initialize the broadcast module (legacy, kept for compatibility)</p>",
    "parent": "module:broadcast"
  },
  {
    "type": "method",
    "name": "initBroadcastForManagement",
    "longname": "module:broadcast.initBroadcastForManagement",
    "url": "module-broadcast.html#.initBroadcastForManagement",
    "description": "<p>Initialize broadcast templates for Management Tab\nCalled after the Management Tab HTML is rendered</p>",
    "parent": "module:broadcast"
  },
  {
    "type": "method",
    "name": "deleteTemplate",
    "longname": "module:broadcast~deleteTemplate",
    "url": "module-broadcast.html#~deleteTemplate",
    "description": "<p>Delete a template</p>",
    "parent": "module:broadcast"
  },
  {
    "type": "method",
    "name": "editTemplate",
    "longname": "module:broadcast~editTemplate",
    "url": "module-broadcast.html#~editTemplate",
    "description": "<p>Edit an existing template (load into form)</p>",
    "parent": "module:broadcast"
  },
  {
    "type": "method",
    "name": "loadTemplates",
    "longname": "module:broadcast~loadTemplates",
    "url": "module-broadcast.html#~loadTemplates",
    "description": "<p>Load broadcast templates from server</p>",
    "parent": "module:broadcast"
  },
  {
    "type": "method",
    "name": "renderTemplateList",
    "longname": "module:broadcast~renderTemplateList",
    "url": "module-broadcast.html#~renderTemplateList",
    "description": "<p>Render the template list in the UI</p>",
    "parent": "module:broadcast"
  },
  {
    "type": "method",
    "name": "saveTemplate",
    "longname": "module:broadcast~saveTemplate",
    "url": "module-broadcast.html#~saveTemplate",
    "description": "<p>Save a new or updated template</p>",
    "parent": "module:broadcast"
  },
  {
    "type": "method",
    "name": "toggleTemplate",
    "longname": "module:broadcast~toggleTemplate",
    "url": "module-broadcast.html#~toggleTemplate",
    "description": "<p>Toggle template enabled state</p>",
    "parent": "module:broadcast"
  },
  {
    "type": "method",
    "name": "updateMessageCounter",
    "longname": "module:broadcast~updateMessageCounter",
    "url": "module-broadcast.html#~updateMessageCounter",
    "description": "<p>Update the message character counter</p>",
    "parent": "module:broadcast"
  },
  {
    "type": "method",
    "name": "buyMaxCO2",
    "longname": "module:bunker-management.buyMaxCO2",
    "url": "module-bunker-management.html#.buyMaxCO2",
    "description": "<p>Initiates purchase of CO2 quota to fill storage to maximum capacity.\nCalculates amount needed, shows confirmation dialog with cost breakdown, and processes purchase.</p>\n<p>Purchase Flow:</p>\n<ol>\n<li>Calculate CO2 needed (maxCO2 - currentCO2)</li>\n<li>Check if already full (early exit if needed = 0)</li>\n<li>Calculate total cost (needed √ó current price)</li>\n<li>Show confirmation dialog with purchase details</li>\n<li>Process API purchase if confirmed</li>\n<li>Trigger bunker status refresh after successful purchase</li>\n</ol>\n<p>Side Effects:</p>\n<ul>\n<li>Shows confirmation dialog (blocks until user responds)</li>\n<li>Makes API call to purchase CO2 quota</li>\n<li>Updates UI via debounced bunker status refresh</li>\n<li>Shows success/error feedback messages</li>\n</ul>",
    "parent": "module:bunker-management"
  },
  {
    "type": "method",
    "name": "buyMaxFuel",
    "longname": "module:bunker-management.buyMaxFuel",
    "url": "module-bunker-management.html#.buyMaxFuel",
    "description": "<p>Initiates purchase of fuel to fill the tank to maximum capacity.\nCalculates amount needed, shows confirmation dialog with cost breakdown, and processes purchase.</p>\n<p>Purchase Flow:</p>\n<ol>\n<li>Calculate fuel needed (maxFuel - currentFuel)</li>\n<li>Check if already full (early exit if needed = 0)</li>\n<li>Calculate total cost (needed √ó current price)</li>\n<li>Show confirmation dialog with purchase details</li>\n<li>Process API purchase if confirmed</li>\n<li>Trigger bunker status refresh after successful purchase</li>\n</ol>\n<p>Side Effects:</p>\n<ul>\n<li>Shows confirmation dialog (blocks until user responds)</li>\n<li>Makes API call to purchase fuel</li>\n<li>Updates UI via debounced bunker status refresh</li>\n<li>Shows success/error feedback messages</li>\n</ul>",
    "parent": "module:bunker-management"
  },
  {
    "type": "method",
    "name": "getCurrentBunkerState",
    "longname": "module:bunker-management.getCurrentBunkerState",
    "url": "module-bunker-management.html#.getCurrentBunkerState",
    "description": "<p>Returns a snapshot of the current bunker inventory and pricing state.\nUsed by other modules to access bunker data without direct variable access.</p>\n<p>This function provides read-only access to critical bunker management data,\nallowing other modules (like vessel-management) to check affordability and\ninventory levels before performing operations.</p>",
    "parent": "module:bunker-management"
  },
  {
    "type": "method",
    "name": "setCapacityFromBunkerUpdate",
    "longname": "module:bunker-management.setCapacityFromBunkerUpdate",
    "url": "module-bunker-management.html#.setCapacityFromBunkerUpdate",
    "description": "<p>Sets capacity values from bunker_update event data.\nCalled when WebSocket sends maxFuel and maxCO2 values.\nOnly logs when capacity values actually change.</p>",
    "parent": "module:bunker-management"
  },
  {
    "type": "method",
    "name": "updateBunkerStatus",
    "longname": "module:bunker-management.updateBunkerStatus",
    "url": "module-bunker-management.html#.updateBunkerStatus",
    "description": "<p>Updates bunker (fuel/CO2) status display and triggers price alerts if thresholds are met.\nThis is the core function for monitoring commodity prices and inventory levels.</p>\n<p>Price Monitoring Strategy:</p>\n<ul>\n<li>Prices update every 30 minutes based on UTC time slots (e.g., 14:00, 14:30, 15:00)</li>\n<li>Compares current prices against user-configured thresholds</li>\n<li>Triggers visual and desktop notifications when prices drop below thresholds</li>\n<li>Only alerts once per price drop to prevent notification spam</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Updates DOM elements for fuel, CO2, cash, and price displays</li>\n<li>Triggers browser notifications (if permission granted)</li>\n<li>Shows in-app price alert overlays</li>\n<li>Calls auto-rebuy checks via global callback (if AutoPilot enabled)</li>\n<li>Updates button tooltips with purchase calculations</li>\n</ul>",
    "parent": "module:bunker-management"
  },
  {
    "type": "method",
    "name": "updateCurrentCO2",
    "longname": "module:bunker-management.updateCurrentCO2",
    "url": "module-bunker-management.html#.updateCurrentCO2",
    "description": "<p>Updates the current CO2 quota inventory and refreshes the UI display.\nHandles negative values (quota overage) with special formatting.</p>\n<p>Side Effects:</p>\n<ul>\n<li>Updates module-level currentCO2 variable</li>\n<li>Updates DOM element with formatted CO2 value showing current/max</li>\n<li>Displays negative sign prefix when quota is exceeded</li>\n</ul>",
    "parent": "module:bunker-management"
  },
  {
    "type": "method",
    "name": "updateCurrentCash",
    "longname": "module:bunker-management.updateCurrentCash",
    "url": "module-bunker-management.html#.updateCurrentCash",
    "description": "<p>Updates the current cash balance and refreshes the UI display.\nUsed by other modules to update cash after purchases or vessel operations.</p>\n<p>This function provides a centralized way to update cash display without\ndirectly accessing module-level variables, maintaining encapsulation.</p>\n<p>Side Effects:</p>\n<ul>\n<li>Updates module-level currentCash variable</li>\n<li>Updates DOM element with formatted cash value</li>\n</ul>",
    "parent": "module:bunker-management"
  },
  {
    "type": "method",
    "name": "updateCurrentFuel",
    "longname": "module:bunker-management.updateCurrentFuel",
    "url": "module-bunker-management.html#.updateCurrentFuel",
    "description": "<p>Updates the current fuel inventory and refreshes the UI display.\nUsed by other modules to update fuel after vessel departures or refueling.</p>\n<p>Side Effects:</p>\n<ul>\n<li>Updates module-level currentFuel variable</li>\n<li>Updates DOM element with formatted fuel value showing current/max</li>\n</ul>",
    "parent": "module:bunker-management"
  },
  {
    "type": "method",
    "name": "displayMessages",
    "longname": "module:chat.displayMessages",
    "url": "module-chat.html#.displayMessages",
    "description": "<p>Renders messages to the DOM with appropriate formatting for chat and feed types.\nHandles asynchronous mention parsing and registers click events for company names.</p>\n<p>Message Types:</p>\n<ul>\n<li>'chat': User messages with company name, timestamp, and parsed mentions</li>\n<li>'feed': System events (member joins, route completions) with different styling</li>\n</ul>\n<p>Processing Flow:</p>\n<ol>\n<li>Check if messages array is empty</li>\n<li>Map each message to HTML promise (async mention parsing)</li>\n<li>Await all HTML promises in parallel</li>\n<li>Render all messages at once (prevents DOM thrashing)</li>\n<li>Register click events on company names for messenger integration</li>\n</ol>\n<p>Side Effects:</p>\n<ul>\n<li>Replaces entire chatFeed innerHTML</li>\n<li>Registers click event listeners on company names</li>\n<li>Shows &quot;No messages yet&quot; if array is empty</li>\n</ul>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleMessageInput",
    "longname": "module:chat.handleMessageInput",
    "url": "module-chat.html#.handleMessageInput",
    "description": "<p>Handles message input changes including auto-resize, character count, and mention autocomplete.\nCalled on every input event in the message textarea.</p>\n<p>Features:</p>\n<ul>\n<li>Auto-resizes textarea up to 240px max height</li>\n<li>Updates character count with warning/error states</li>\n<li>Triggers mention autocomplete when &quot;@&quot; is typed</li>\n</ul>\n<p>Character Count States:</p>\n<ul>\n<li>Normal: 0-900 characters (default style)</li>\n<li>Warning: 901-1000 characters (yellow)</li>\n<li>Error: &gt;1000 characters (red)</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Adjusts textarea height based on content</li>\n<li>Updates character count element text and style</li>\n<li>Triggers mention autocomplete overlay</li>\n</ul>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "initWebSocket",
    "longname": "module:chat.initWebSocket",
    "url": "module-chat.html#.initWebSocket",
    "description": "<p>Initializes WebSocket connection for real-time chat updates.\nEstablishes WSS connection and handles incoming message broadcasts from server.</p>\n<p>WebSocket Message Types:</p>\n<ul>\n<li>'chat_update': Server broadcasts new messages every 25 seconds</li>\n<li>'message_sent': Immediate update when any user sends a message</li>\n<li>'settings_update': Broadcasts when settings change (triggers global callback)</li>\n<li>'auto_repair_complete': Backend auto-repair completion notification</li>\n</ul>\n<p>Connection Strategy:</p>\n<ul>\n<li>Uses WSS for HTTPS pages, WS for HTTP</li>\n<li>Connects to same host as the page</li>\n<li>Automatically reconnects on disconnect with exponential backoff</li>\n<li>Fails silently if WebSocket not available</li>\n</ul>\n<p>Reconnect Logic:</p>\n<ul>\n<li>First reconnect: immediate</li>\n<li>Subsequent reconnects: exponential backoff (1s, 2s, 4s, 8s, ... up to 30s)</li>\n<li>Resets reconnect counter on successful connection</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Creates WebSocket connection</li>\n<li>Registers onmessage, onopen, onclose, onerror event handlers</li>\n<li>Triggers loadMessages() on chat updates</li>\n<li>Calls global handleSettingsUpdate() callback if available</li>\n<li>Calls handleBackendAutoRepairComplete() for repair events</li>\n</ul>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "loadAllianceMembers",
    "longname": "module:chat.loadAllianceMembers",
    "url": "module-chat.html#.loadAllianceMembers",
    "description": "<p>Loads alliance members list for mention autocomplete functionality.\nFetches and caches the member list in module-level variable for autocomplete suggestions.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "loadMessages",
    "longname": "module:chat.loadMessages",
    "url": "module-chat.html#.loadMessages",
    "description": "<p>Loads and displays alliance chat messages with intelligent duplicate filtering and notifications.\nThis is the core function called both on page load and via WebSocket updates every 25 seconds.</p>\n<p>Update Strategy:</p>\n<ul>\n<li>Fetches latest messages from API</li>\n<li>Filters out duplicates using type+timestamp+message comparison</li>\n<li>Only re-renders if new messages found</li>\n<li>Preserves scroll position unless user is at bottom</li>\n<li>Triggers desktop notifications for new messages (if window not focused)</li>\n</ul>\n<p>No Alliance Handling:</p>\n<ul>\n<li>Shows friendly message if user not in alliance</li>\n<li>Disables input controls</li>\n<li>Suggests using private messages instead</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Updates allMessages array</li>\n<li>Re-renders chat feed DOM</li>\n<li>May trigger desktop notifications</li>\n<li>Updates scroll position based on user behavior</li>\n<li>May disable input controls if no alliance</li>\n</ul>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "markAllianceChatAsRead",
    "longname": "module:chat.markAllianceChatAsRead",
    "url": "module-chat.html#.markAllianceChatAsRead",
    "description": "<p>Marks alliance chat as read by sending the latest message timestamp to backend.\nThis updates the user's last read timestamp, which is used to calculate unread counts\nand prevent notification spam.</p>\n<p>Why This Function:</p>\n<ul>\n<li>Called when user closes alliance chat overlay</li>\n<li>Updates backend read tracking (syncs across devices)</li>\n<li>Prevents old messages from showing as unread again</li>\n<li>Backend becomes single source of truth for read status</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Makes POST request to /api/chat/mark-read</li>\n<li>Updates backend read-tracking.json file</li>\n<li>Future GET /api/chat calls will use this timestamp</li>\n</ul>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "parseMessageWithMentions",
    "longname": "module:chat.parseMessageWithMentions",
    "url": "module-chat.html#.parseMessageWithMentions",
    "description": "<p>Parses message text and converts user ID mentions to clickable company name links.\nHandles the mention system by converting [user_id] patterns to @CompanyName with click handlers.</p>\n<p>Processing Steps:</p>\n<ol>\n<li>Escape HTML to prevent XSS attacks</li>\n<li>Find all [user_id] patterns in the message</li>\n<li>Fetch company names for all mentioned users (cached API calls)</li>\n<li>Replace [user_id] with clickable @CompanyName elements</li>\n<li>Convert newlines to <br> tags</li>\n</ol>\n<p>Side Effects:</p>\n<ul>\n<li>Makes cached API calls to resolve company names</li>\n<li>Returns HTML with embedded click handlers</li>\n</ul>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "sendMessage",
    "longname": "module:chat.sendMessage",
    "url": "module-chat.html#.sendMessage",
    "description": "<p>Sends a chat message to the alliance feed with validation and UI updates.\nHandles the complete flow from user input to API submission and UI refresh.</p>\n<p>Validation:</p>\n<ul>\n<li>Trims whitespace</li>\n<li>Enforces 1-1000 character limit</li>\n<li>Prevents empty messages</li>\n</ul>\n<p>Processing Flow:</p>\n<ol>\n<li>Validate message content</li>\n<li>Disable input controls (prevents double-send)</li>\n<li>Submit to API</li>\n<li>Clear input and reset UI state</li>\n<li>Enable auto-scroll for new message</li>\n<li>Refresh chat after 500ms delay</li>\n<li>Re-enable controls</li>\n</ol>\n<p>Side Effects:</p>\n<ul>\n<li>Disables/enables message input and send button</li>\n<li>Clears message input on success</li>\n<li>Resets textarea height to auto</li>\n<li>Updates character count display</li>\n<li>Sets autoScroll flag to true</li>\n<li>Triggers chat reload after 500ms</li>\n<li>Shows success/error feedback</li>\n</ul>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "setChatScrollListener",
    "longname": "module:chat.setChatScrollListener",
    "url": "module-chat.html#.setChatScrollListener",
    "description": "<p>Sets up scroll event listener to manage auto-scroll behavior intelligently.\nDetects when user is near the bottom of chat to enable automatic scrolling for new messages.</p>\n<p>Auto-Scroll Logic:</p>\n<ul>\n<li>Enabled when user is within 50px of bottom</li>\n<li>Disabled when user scrolls up to read history</li>\n<li>Prevents forced scrolling while user is browsing old messages</li>\n</ul>\n<p>This provides a good UX where new messages automatically scroll into view when user\nis already at the bottom, but doesn't interrupt reading when scrolled up.</p>\n<p>Side Effects:</p>\n<ul>\n<li>Registers scroll event listener on chat feed</li>\n<li>Updates module-level autoScroll flag</li>\n</ul>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "attemptReconnect",
    "longname": "module:chat~attemptReconnect",
    "url": "module-chat.html#~attemptReconnect",
    "description": "<p>Attempts to reconnect WebSocket with exponential backoff.\nDelay increases exponentially: 0ms, 1s, 2s, 4s, 8s, 16s, 30s (max)\nShows connection lost overlay after 3 failed attempts.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "displaySuggestions",
    "longname": "module:chat~displaySuggestions",
    "url": "module-chat.html#~displaySuggestions",
    "description": "<p>Displays filtered alliance member suggestions below message input</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "formatLocalTime",
    "longname": "module:chat~formatLocalTime",
    "url": "module-chat.html#~formatLocalTime",
    "description": "<p>Converts UTC timestamp string to local timezone string using browser locale.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleAllianceChanged",
    "longname": "module:chat~handleAllianceChanged",
    "url": "module-chat.html#~handleAllianceChanged",
    "description": "<p>Handles alliance change events from backend.\nClears chat, reloads messages, shows notification to user.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleAllianceIndexReady",
    "longname": "module:chat~handleAllianceIndexReady",
    "url": "module-chat.html#~handleAllianceIndexReady",
    "description": "<p>Handles alliance index ready notification from backend.\nShows notification when alliance search indexing is complete.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleAutoCoopComplete",
    "longname": "module:chat~handleAutoCoopComplete",
    "url": "module-chat.html#~handleAutoCoopComplete",
    "description": "<p>Handles auto-COOP distribution completion.\nShows summary of sent vessels and updates COOP badge.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleAutoCoopNoTargets",
    "longname": "module:chat~handleAutoCoopNoTargets",
    "url": "module-chat.html#~handleAutoCoopNoTargets",
    "description": "<p>Handles auto-COOP when no eligible targets found.\nNotifies user that COOP vessels are available but can't be sent.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleAutopilotDepartStart",
    "longname": "module:chat~handleAutopilotDepartStart",
    "url": "module-chat.html#~handleAutopilotDepartStart",
    "description": "<p>Handles autopilot departure start event.\nLocks the depart button to prevent manual interference during autopilot operation.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleBackendAutoRepairComplete",
    "longname": "module:chat~handleBackendAutoRepairComplete",
    "url": "module-chat.html#~handleBackendAutoRepairComplete",
    "description": "<p>Handles backend auto-repair completion events from WebSocket.\nDisplays notification with vessel wear percentages and threshold info.</p>\n<p>The backend (server/automation.js) broadcasts 'auto_repair_complete' events\nafter successfully repairing vessels. This handler:</p>\n<ul>\n<li>Shows in-app feedback notification</li>\n<li>Displays individual vessel wear percentages</li>\n<li>Shows maintenance threshold from settings</li>\n<li>Sends browser notification if enabled</li>\n<li>Triggers UI updates for vessel and cash displays</li>\n</ul>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleBunkerUpdate",
    "longname": "module:chat~handleBunkerUpdate",
    "url": "module-chat.html#~handleBunkerUpdate",
    "description": "<p>Handles bunker state updates from backend autopilot.\nUpdates all bunker displays (fuel, CO2, cash) without API calls.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleCO2Purchased",
    "longname": "module:chat~handleCO2Purchased",
    "url": "module-chat.html#~handleCO2Purchased",
    "description": "<p>Handles CO2 purchased event from backend autopilot.\nShows notification and updates bunker display.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleCampaignsRenewed",
    "longname": "module:chat~handleCampaignsRenewed",
    "url": "module-chat.html#~handleCampaignsRenewed",
    "description": "<p>Handles campaigns renewed event from backend autopilot.\nShows success notification with renewed campaign types.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleCompanyTypeUpdate",
    "longname": "module:chat~handleCompanyTypeUpdate",
    "url": "module-chat.html#~handleCompanyTypeUpdate",
    "description": "<p>Handles company_type updates from backend.\nUpdates global variable for vessel purchase restrictions.\nRefreshes vessel catalog to show/hide locked banners.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleCoopUpdate",
    "longname": "module:chat~handleCoopUpdate",
    "url": "module-chat.html#~handleCoopUpdate",
    "description": "<p>Handles COOP targets update from backend.\nUpdates the COOP badge and header display.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleDrydockCountUpdate",
    "longname": "module:chat~handleDrydockCountUpdate",
    "url": "module-chat.html#~handleDrydockCountUpdate",
    "description": "<p>Handles drydock count updates from backend.\nUpdates the &quot;Drydock&quot; badge without API calls.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleFuelPurchased",
    "longname": "module:chat~handleFuelPurchased",
    "url": "module-chat.html#~handleFuelPurchased",
    "description": "<p>Handles fuel purchased event from backend autopilot.\nShows notification and updates bunker display.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleGenericNotification",
    "longname": "module:chat~handleGenericNotification",
    "url": "module-chat.html#~handleGenericNotification",
    "description": "<p>Handles generic notifications from backend (errors, warnings, info).</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleHarborMapRefreshRequired",
    "longname": "module:chat~handleHarborMapRefreshRequired",
    "url": "module-chat.html#~handleHarborMapRefreshRequired",
    "description": "<p>Handles Harbor Map refresh requests from backend.\nOnly refreshes when actual vessel/port changes occur (with rate limiting).</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleHeaderDataUpdate",
    "longname": "module:chat~handleHeaderDataUpdate",
    "url": "module-chat.html#~handleHeaderDataUpdate",
    "description": "<p>Handles stock price and anchor capacity updates from backend.\nUpdates header displays for stock value/trend and anchor slots.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleHijackingUpdate",
    "longname": "module:chat~handleHijackingUpdate",
    "url": "module-chat.html#~handleHijackingUpdate",
    "description": "<p>Handle hijacking negotiation updates from auto-negotiate autopilot.\nShows live notifications as the bot negotiates with pirates.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleIpoAlertUpdate",
    "longname": "module:chat~handleIpoAlertUpdate",
    "url": "module-chat.html#~handleIpoAlertUpdate",
    "description": "<p>Handles IPO alert update from backend\nUpdates the IPO Alert tab if open and shows notifications for new IPOs</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleMentionAutocomplete",
    "longname": "module:chat~handleMentionAutocomplete",
    "url": "module-chat.html#~handleMentionAutocomplete",
    "description": "<p>Triggers mention autocomplete when user types @ symbol</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleMessengerUpdate",
    "longname": "module:chat~handleMessengerUpdate",
    "url": "module-chat.html#~handleMessengerUpdate",
    "description": "<p>Handles messenger updates from 20-second polling\nThis replaces all other messenger polling mechanisms</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handlePriceAlert",
    "longname": "module:chat~handlePriceAlert",
    "url": "module-chat.html#~handlePriceAlert",
    "description": "<p>Handles price alerts from backend autopilot.\nShows center alert with spin animation and desktop notification.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handlePriceUpdate",
    "longname": "module:chat~handlePriceUpdate",
    "url": "module-chat.html#~handlePriceUpdate",
    "description": "<p>Handles price updates from backend autopilot.\nPrices are displayed in bunker management module.\nNote: Bunker state (fuel/CO2/cash) comes separately via bunker_update event.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handlePurserPurchase",
    "longname": "module:chat~handlePurserPurchase",
    "url": "module-chat.html#~handlePurserPurchase",
    "description": "<p>Handles The Purser stock purchase event from backend autopilot.\nShows invoice-style notification for stock buy.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handlePurserSell",
    "longname": "module:chat~handlePurserSell",
    "url": "module-chat.html#~handlePurserSell",
    "description": "<p>Handles The Purser stock sell event from backend autopilot.\nShows invoice-style notification for stock sale.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleRepairCountUpdate",
    "longname": "module:chat~handleRepairCountUpdate",
    "url": "module-chat.html#~handleRepairCountUpdate",
    "description": "<p>Handles repair count updates from backend.\nUpdates the &quot;Repair&quot; badge without API calls.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleStaffTrainingPointsUpdate",
    "longname": "module:chat~handleStaffTrainingPointsUpdate",
    "url": "module-chat.html#~handleStaffTrainingPointsUpdate",
    "description": "<p>Handles staff training points updates from backend.\nUpdates the company profile overlay if open.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleStaffUpdate",
    "longname": "module:chat~handleStaffUpdate",
    "url": "module-chat.html#~handleStaffUpdate",
    "description": "<p>Handles staff updates from salary/training changes.\nUpdates the company profile overlay with new staff data.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleUnreadMessagesUpdate",
    "longname": "module:chat~handleUnreadMessagesUpdate",
    "url": "module-chat.html#~handleUnreadMessagesUpdate",
    "description": "<p>Handles unread messages count updates from backend.\nUpdates the &quot;Messages&quot; badge without API calls.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleUserActionNotification",
    "longname": "module:chat~handleUserActionNotification",
    "url": "module-chat.html#~handleUserActionNotification",
    "description": "<p>Handles user action notifications from backend (manual purchases, actions, etc.)\nThese are broadcasted to ALL connected clients so everyone sees when someone makes a purchase.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleVesselCountUpdate",
    "longname": "module:chat~handleVesselCountUpdate",
    "url": "module-chat.html#~handleVesselCountUpdate",
    "description": "<p>Handles vessel count updates from backend autopilot.\nUpdates badges AND button states/tooltips.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleVesselsDepartBatch",
    "longname": "module:chat~handleVesselsDepartBatch",
    "url": "module-chat.html#~handleVesselsDepartBatch",
    "description": "<p>Handles batch departure updates (does NOT unlock button).\nShows notifications for each 20-vessel batch during multi-batch departures.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleVesselsDepartComplete",
    "longname": "module:chat~handleVesselsDepartComplete",
    "url": "module-chat.html#~handleVesselsDepartComplete",
    "description": "<p>Handles combined vessels depart complete event from backend autopilot.\nShows a single notification with both succeeded and failed vessels.\nUnlocks the depart button after all batches complete.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleVesselsDeparted",
    "longname": "module:chat~handleVesselsDeparted",
    "url": "module-chat.html#~handleVesselsDeparted",
    "description": "<p>Handles vessels departed event from backend autopilot.\nShows detailed notification with vessel list, revenue and consumption totals.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleVesselsDrydocked",
    "longname": "module:chat~handleVesselsDrydocked",
    "url": "module-chat.html#~handleVesselsDrydocked",
    "description": "<p>Handles vessels drydocked event from backend autopilot.\nShows success notification with drydocked vessel list.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleVesselsFailed",
    "longname": "module:chat~handleVesselsFailed",
    "url": "module-chat.html#~handleVesselsFailed",
    "description": "<p>Handles vessels failed event from backend autopilot.\nShows warning notification with failed vessel list.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "handleVesselsRepaired",
    "longname": "module:chat~handleVesselsRepaired",
    "url": "module-chat.html#~handleVesselsRepaired",
    "description": "<p>Handles vessels repaired event from backend autopilot.\nShows success notification with repair details and vessel list.</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "hideMemberSuggestions",
    "longname": "module:chat~hideMemberSuggestions",
    "url": "module-chat.html#~hideMemberSuggestions",
    "description": "<p>Hides mention autocomplete suggestion box</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "insertMention",
    "longname": "module:chat~insertMention",
    "url": "module-chat.html#~insertMention",
    "description": "<p>Inserts selected user mention as [user_id] into message input</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "registerUsernameClickEvents",
    "longname": "module:chat~registerUsernameClickEvents",
    "url": "module-chat.html#~registerUsernameClickEvents",
    "description": "<p>Registers click handlers on company names to open private messenger</p>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "updateAllianceChatBadge",
    "longname": "module:chat~updateAllianceChatBadge",
    "url": "module-chat.html#~updateAllianceChatBadge",
    "description": "<p>Updates the alliance chat badge with unread message count from backend.\nBackend controls read tracking, client is just &quot;dumb display&quot;.</p>\n<p>Why Backend Tracking:</p>\n<ul>\n<li>localStorage doesn't sync across devices/browsers</li>\n<li>Backend provides single source of truth</li>\n<li>Prevents duplicate notifications</li>\n<li>Read status syncs to all connected clients</li>\n</ul>",
    "parent": "module:chat"
  },
  {
    "type": "method",
    "name": "closeCompanyProfile",
    "longname": "module:company-profile.closeCompanyProfile",
    "url": "module-company-profile.html#.closeCompanyProfile",
    "description": "<p>Closes the company profile overlay</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "initCompanyProfile",
    "longname": "module:company-profile.initCompanyProfile",
    "url": "module-company-profile.html#.initCompanyProfile",
    "description": "<p>Initializes the company profile module\nSets up event listeners</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "openCompanyProfile",
    "longname": "module:company-profile.openCompanyProfile",
    "url": "module-company-profile.html#.openCompanyProfile",
    "description": "<p>Opens the company profile overlay\nShows own company by default</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "openPlayerProfile",
    "longname": "module:company-profile.openPlayerProfile",
    "url": "module-company-profile.html#.openPlayerProfile",
    "description": "<p>Opens the company profile overlay directly to a specific player</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "addToContacts",
    "longname": "module:company-profile~addToContacts",
    "url": "module-company-profile.html#~addToContacts",
    "description": "<p>Adds a user to contacts</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "adjustSalary",
    "longname": "module:company-profile~adjustSalary",
    "url": "module-company-profile.html#~adjustSalary",
    "description": "<p>Adjusts staff salary and refreshes the profile</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "attachAllianceClickListener",
    "longname": "module:company-profile~attachAllianceClickListener",
    "url": "module-company-profile.html#~attachAllianceClickListener",
    "description": "<p>Attaches click listeners to alliance items</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "attachSalaryButtonListeners",
    "longname": "module:company-profile~attachSalaryButtonListeners",
    "url": "module-company-profile.html#~attachSalaryButtonListeners",
    "description": "<p>Attaches event listeners to salary increase/decrease buttons and training buttons</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "attachStockActionListeners",
    "longname": "module:company-profile~attachStockActionListeners",
    "url": "module-company-profile.html#~attachStockActionListeners",
    "description": "<p>Attach click listeners to stock buy/sell buttons</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "buildAchievementsSection",
    "longname": "module:company-profile~buildAchievementsSection",
    "url": "module-company-profile.html#~buildAchievementsSection",
    "description": "<p>Builds the achievements section with detailed info</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "buildSection",
    "longname": "module:company-profile~buildSection",
    "url": "module-company-profile.html#~buildSection",
    "description": "<p>Builds a section with title and all key-value pairs from an object</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "buildStaffSection",
    "longname": "module:company-profile~buildStaffSection",
    "url": "module-company-profile.html#~buildStaffSection",
    "description": "<p>Builds the staff section with morale info and all staff details</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "dismissStaffPointsBanner",
    "longname": "module:company-profile~dismissStaffPointsBanner",
    "url": "module-company-profile.html#~dismissStaffPointsBanner",
    "description": "<p>Dismisses the staff points banner</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "formatLabel",
    "longname": "module:company-profile~formatLabel",
    "url": "module-company-profile.html#~formatLabel",
    "description": "<p>Formats a key name into a readable label</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "formatMoraleLabel",
    "longname": "module:company-profile~formatMoraleLabel",
    "url": "module-company-profile.html#~formatMoraleLabel",
    "description": "<p>Formats morale label for display</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "formatPerkName",
    "longname": "module:company-profile~formatPerkName",
    "url": "module-company-profile.html#~formatPerkName",
    "description": "<p>Formats perk name for display</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "formatValue",
    "longname": "module:company-profile~formatValue",
    "url": "module-company-profile.html#~formatValue",
    "description": "<p>Formats a value for display</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "generateMoraleSmiley",
    "longname": "module:company-profile~generateMoraleSmiley",
    "url": "module-company-profile.html#~generateMoraleSmiley",
    "description": "<p>Generates a morale smiley based on percentage</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "loadAllianceDetails",
    "longname": "module:company-profile~loadAllianceDetails",
    "url": "module-company-profile.html#~loadAllianceDetails",
    "description": "<p>Loads and displays alliance details in the company profile</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "loadCompanyProfile",
    "longname": "module:company-profile~loadCompanyProfile",
    "url": "module-company-profile.html#~loadCompanyProfile",
    "description": "<p>Loads and displays a company profile</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "loadStaffData",
    "longname": "module:company-profile~loadStaffData",
    "url": "module-company-profile.html#~loadStaffData",
    "description": "<p>Loads staff data and appends it to the profile (only for own company)</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "loadStockSection",
    "longname": "module:company-profile~loadStockSection",
    "url": "module-company-profile.html#~loadStockSection",
    "description": "<p>Loads stock section with chart and buy/sell buttons for companies with IPO</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "normalizeColor",
    "longname": "module:company-profile~normalizeColor",
    "url": "module-company-profile.html#~normalizeColor",
    "description": "<p>Normalizes a color string to hex format</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "removeFromContacts",
    "longname": "module:company-profile~removeFromContacts",
    "url": "module-company-profile.html#~removeFromContacts",
    "description": "<p>Removes a user from contacts</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "renderCompanyProfile",
    "longname": "module:company-profile~renderCompanyProfile",
    "url": "module-company-profile.html#~renderCompanyProfile",
    "description": "<p>Renders the company profile HTML - displays ALL available data from API</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "renderSearchResults",
    "longname": "module:company-profile~renderSearchResults",
    "url": "module-company-profile.html#~renderSearchResults",
    "description": "<p>Renders search results</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "searchPlayers",
    "longname": "module:company-profile~searchPlayers",
    "url": "module-company-profile.html#~searchPlayers",
    "description": "<p>Searches for players by name</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "startStockSellTimer",
    "longname": "module:company-profile~startStockSellTimer",
    "url": "module-company-profile.html#~startStockSellTimer",
    "description": "<p>Start countdown timer for locked shares in company profile</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "toggleAchievementsList",
    "longname": "module:company-profile~toggleAchievementsList",
    "url": "module-company-profile.html#~toggleAchievementsList",
    "description": "<p>Toggles the Achievements List section</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "toggleStaffDetails",
    "longname": "module:company-profile~toggleStaffDetails",
    "url": "module-company-profile.html#~toggleStaffDetails",
    "description": "<p>Toggles the Staff Details section</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "trainPerk",
    "longname": "module:company-profile~trainPerk",
    "url": "module-company-profile.html#~trainPerk",
    "description": "<p>Trains a perk and updates the profile live</p>",
    "parent": "module:company-profile"
  },
  {
    "type": "method",
    "name": "closeCoopOverlay",
    "longname": "module:coop.closeCoopOverlay",
    "url": "module-coop.html#.closeCoopOverlay",
    "description": "<p>Closes the coop overlay</p>",
    "parent": "module:coop"
  },
  {
    "type": "method",
    "name": "fetchCoopData",
    "longname": "module:coop.fetchCoopData",
    "url": "module-coop.html#.fetchCoopData",
    "description": "<p>Fetches coop data from the backend API</p>",
    "parent": "module:coop"
  },
  {
    "type": "method",
    "name": "sendCoopMax",
    "longname": "module:coop.sendCoopMax",
    "url": "module-coop.html#.sendCoopMax",
    "description": "<p>Sends maximum available coop vessels to a specific user</p>",
    "parent": "module:coop"
  },
  {
    "type": "method",
    "name": "showCoopOverlay",
    "longname": "module:coop.showCoopOverlay",
    "url": "module-coop.html#.showCoopOverlay",
    "description": "<p>Shows the coop overlay with member list</p>",
    "parent": "module:coop"
  },
  {
    "type": "method",
    "name": "updateCoopBadge",
    "longname": "module:coop.updateCoopBadge",
    "url": "module-coop.html#.updateCoopBadge",
    "description": "<p>Updates the coop badge display (shows available count only if &gt; 0)\nAlso updates the header display with available/cap format</p>",
    "parent": "module:coop"
  },
  {
    "type": "method",
    "name": "renderMemberCard",
    "longname": "module:coop~renderMemberCard",
    "url": "module-coop.html#~renderMemberCard",
    "description": "<p>Renders a single member card</p>",
    "parent": "module:coop"
  },
  {
    "type": "method",
    "name": "initializeApp",
    "longname": "module:core/app-initializer.initializeApp",
    "url": "module-core_app-initializer.html#.initializeApp",
    "description": "<p>Initialize the application.\nThis is the main entry point that orchestrates all initialization steps.</p>",
    "parent": "module:core/app-initializer"
  },
  {
    "type": "method",
    "name": "createAllianceChatHandler",
    "longname": "module:core/app-initializer~createAllianceChatHandler",
    "url": "module-core_app-initializer.html#~createAllianceChatHandler",
    "description": "<p>Create alliance chat overlay handler.</p>",
    "parent": "module:core/app-initializer"
  },
  {
    "type": "method",
    "name": "createBuyVesselsHandler",
    "longname": "module:core/app-initializer~createBuyVesselsHandler",
    "url": "module-core_app-initializer.html#~createBuyVesselsHandler",
    "description": "<p>Create buy vessels overlay handler.</p>",
    "parent": "module:core/app-initializer"
  },
  {
    "type": "method",
    "name": "createDebouncedFunctions",
    "longname": "module:core/app-initializer~createDebouncedFunctions",
    "url": "module-core_app-initializer.html#~createDebouncedFunctions",
    "description": "<p>Create debounced functions for API calls.</p>",
    "parent": "module:core/app-initializer"
  },
  {
    "type": "method",
    "name": "createForecastHandler",
    "longname": "module:core/app-initializer~createForecastHandler",
    "url": "module-core_app-initializer.html#~createForecastHandler",
    "description": "<p>Create forecast overlay handler.</p>",
    "parent": "module:core/app-initializer"
  },
  {
    "type": "method",
    "name": "createTestBrowserNotification",
    "longname": "module:core/app-initializer~createTestBrowserNotification",
    "url": "module-core_app-initializer.html#~createTestBrowserNotification",
    "description": "<p>Create test browser notification function.</p>",
    "parent": "module:core/app-initializer"
  },
  {
    "type": "method",
    "name": "exposeGlobalFunctions",
    "longname": "module:core/app-initializer~exposeGlobalFunctions",
    "url": "module-core_app-initializer.html#~exposeGlobalFunctions",
    "description": "<p>Expose global functions for backward compatibility.</p>",
    "parent": "module:core/app-initializer"
  },
  {
    "type": "method",
    "name": "formatNumberWithSeparator",
    "longname": "module:core/app-initializer~formatNumberWithSeparator",
    "url": "module-core_app-initializer.html#~formatNumberWithSeparator",
    "description": "<p>Format number with thousand separators.</p>",
    "parent": "module:core/app-initializer"
  },
  {
    "type": "method",
    "name": "initializeSettingsUI",
    "longname": "module:core/app-initializer~initializeSettingsUI",
    "url": "module-core_app-initializer.html#~initializeSettingsUI",
    "description": "<p>Initialize settings UI with loaded values.</p>",
    "parent": "module:core/app-initializer"
  },
  {
    "type": "method",
    "name": "loadInitialData",
    "longname": "module:core/app-initializer~loadInitialData",
    "url": "module-core_app-initializer.html#~loadInitialData",
    "description": "<p>Load initial data with delays to prevent socket hang-ups.</p>",
    "parent": "module:core/app-initializer"
  },
  {
    "type": "method",
    "name": "loadUserSettings",
    "longname": "module:core/app-initializer~loadUserSettings",
    "url": "module-core_app-initializer.html#~loadUserSettings",
    "description": "<p>Load user settings (CEO level, points).</p>",
    "parent": "module:core/app-initializer"
  },
  {
    "type": "method",
    "name": "registerAllEventListeners",
    "longname": "module:core/app-initializer~registerAllEventListeners",
    "url": "module-core_app-initializer.html#~registerAllEventListeners",
    "description": "<p>Register all event listeners.</p>",
    "parent": "module:core/app-initializer"
  },
  {
    "type": "method",
    "name": "setCheckboxState",
    "longname": "module:core/app-initializer~setCheckboxState",
    "url": "module-core_app-initializer.html#~setCheckboxState",
    "description": "<p>Helper to set checkbox state with options visibility.</p>",
    "parent": "module:core/app-initializer"
  },
  {
    "type": "method",
    "name": "setCheckboxValue",
    "longname": "module:core/app-initializer~setCheckboxValue",
    "url": "module-core_app-initializer.html#~setCheckboxValue",
    "description": "<p>Helper to set checkbox value.</p>",
    "parent": "module:core/app-initializer"
  },
  {
    "type": "method",
    "name": "setFormattedInputValue",
    "longname": "module:core/app-initializer~setFormattedInputValue",
    "url": "module-core_app-initializer.html#~setFormattedInputValue",
    "description": "<p>Helper to set formatted input value.</p>",
    "parent": "module:core/app-initializer"
  },
  {
    "type": "method",
    "name": "setInputValue",
    "longname": "module:core/app-initializer~setInputValue",
    "url": "module-core_app-initializer.html#~setInputValue",
    "description": "<p>Helper to set input value.</p>",
    "parent": "module:core/app-initializer"
  },
  {
    "type": "method",
    "name": "setSelectValue",
    "longname": "module:core/app-initializer~setSelectValue",
    "url": "module-core_app-initializer.html#~setSelectValue",
    "description": "<p>Helper to set select element value.</p>",
    "parent": "module:core/app-initializer"
  },
  {
    "type": "method",
    "name": "toggleElementVisibility",
    "longname": "module:core/app-initializer~toggleElementVisibility",
    "url": "module-core_app-initializer.html#~toggleElementVisibility",
    "description": "<p>Helper to toggle element visibility.</p>",
    "parent": "module:core/app-initializer"
  },
  {
    "type": "method",
    "name": "getActiveIntervals",
    "longname": "module:core/auto-refresh.getActiveIntervals",
    "url": "module-core_auto-refresh.html#.getActiveIntervals",
    "description": "<p>Get list of all active interval names.</p>",
    "parent": "module:core/auto-refresh"
  },
  {
    "type": "method",
    "name": "initNotificationButtonUpdater",
    "longname": "module:core/auto-refresh.initNotificationButtonUpdater",
    "url": "module-core_auto-refresh.html#.initNotificationButtonUpdater",
    "description": "<p>Start notification button state updater.\nChecks permission status every 2 seconds to auto-hide button when permission granted.</p>",
    "parent": "module:core/auto-refresh"
  },
  {
    "type": "method",
    "name": "initVersionChecker",
    "longname": "module:core/auto-refresh.initVersionChecker",
    "url": "module-core_auto-refresh.html#.initVersionChecker",
    "description": "<p>Start version update checker.\nChecks for updates on startup and every 15 minutes.</p>",
    "parent": "module:core/auto-refresh"
  },
  {
    "type": "method",
    "name": "initVisibilityHandler",
    "longname": "module:core/auto-refresh.initVisibilityHandler",
    "url": "module-core_auto-refresh.html#.initVisibilityHandler",
    "description": "<p>Initialize page visibility change handler.\nRefreshes chat messages when page becomes visible again.</p>",
    "parent": "module:core/auto-refresh"
  },
  {
    "type": "method",
    "name": "preloadAllImages",
    "longname": "module:core/auto-refresh.preloadAllImages",
    "url": "module-core_auto-refresh.html#.preloadAllImages",
    "description": "<p>Preload all images in background for instant display.\nWaits 2 seconds after page load to not block initial rendering.</p>",
    "parent": "module:core/auto-refresh"
  },
  {
    "type": "method",
    "name": "stopAllIntervals",
    "longname": "module:core/auto-refresh.stopAllIntervals",
    "url": "module-core_auto-refresh.html#.stopAllIntervals",
    "description": "<p>Stop all active intervals.\nUseful during cleanup or page unload.</p>",
    "parent": "module:core/auto-refresh"
  },
  {
    "type": "method",
    "name": "stopInterval",
    "longname": "module:core/auto-refresh.stopInterval",
    "url": "module-core_auto-refresh.html#.stopInterval",
    "description": "<p>Stop a specific interval by name.</p>",
    "parent": "module:core/auto-refresh"
  },
  {
    "type": "method",
    "name": "loadCache",
    "longname": "module:core/badge-cache.loadCache",
    "url": "module-core_badge-cache.html#.loadCache",
    "description": "<p>Load all cached data from localStorage and update UI.\nLoads: badges, prices, bunker levels, cash, campaigns, stock, COOP, anchor slots, etc.\nDoes NOT load: messages (to prevent flicker), points (always fetched fresh)\nCalled on page load to show last known values until WebSocket sends fresh data.</p>",
    "parent": "module:core/badge-cache"
  },
  {
    "type": "method",
    "name": "saveBadgeCache",
    "longname": "module:core/badge-cache.saveBadgeCache",
    "url": "module-core_badge-cache.html#.saveBadgeCache",
    "description": "<p>Saves badge values to localStorage for next page load.\nCalled by WebSocket handlers when new data arrives.</p>",
    "parent": "module:core/badge-cache"
  },
  {
    "type": "method",
    "name": "updateCoopDisplay",
    "longname": "module:core/badge-cache.updateCoopDisplay",
    "url": "module-core_badge-cache.html#.updateCoopDisplay",
    "description": "<p>Updates COOP display in header with proper color coding.\nCentralized function called from multiple locations.</p>",
    "parent": "module:core/badge-cache"
  },
  {
    "type": "method",
    "name": "loadBunkerStatus",
    "longname": "module:core/badge-cache~loadBunkerStatus",
    "url": "module-core_badge-cache.html#~loadBunkerStatus",
    "description": "<p>Load bunker status from cache.</p>",
    "parent": "module:core/badge-cache"
  },
  {
    "type": "method",
    "name": "loadCampaignsBadge",
    "longname": "module:core/badge-cache~loadCampaignsBadge",
    "url": "module-core_badge-cache.html#~loadCampaignsBadge",
    "description": "<p>Load campaigns badge from cache.</p>",
    "parent": "module:core/badge-cache"
  },
  {
    "type": "method",
    "name": "loadCoopData",
    "longname": "module:core/badge-cache~loadCoopData",
    "url": "module-core_badge-cache.html#~loadCoopData",
    "description": "<p>Load COOP data from cache.</p>",
    "parent": "module:core/badge-cache"
  },
  {
    "type": "method",
    "name": "loadHijackingBadge",
    "longname": "module:core/badge-cache~loadHijackingBadge",
    "url": "module-core_badge-cache.html#~loadHijackingBadge",
    "description": "<p>Load hijacking badge from cache.</p>",
    "parent": "module:core/badge-cache"
  },
  {
    "type": "method",
    "name": "loadPrices",
    "longname": "module:core/badge-cache~loadPrices",
    "url": "module-core_badge-cache.html#~loadPrices",
    "description": "<p>Load fuel and CO2 prices from cache.</p>",
    "parent": "module:core/badge-cache"
  },
  {
    "type": "method",
    "name": "loadRepairBadges",
    "longname": "module:core/badge-cache~loadRepairBadges",
    "url": "module-core_badge-cache.html#~loadRepairBadges",
    "description": "<p>Load repair badges from cache.</p>",
    "parent": "module:core/badge-cache"
  },
  {
    "type": "method",
    "name": "loadStockAndAnchor",
    "longname": "module:core/badge-cache~loadStockAndAnchor",
    "url": "module-core_badge-cache.html#~loadStockAndAnchor",
    "description": "<p>Load stock and anchor data from cache.</p>",
    "parent": "module:core/badge-cache"
  },
  {
    "type": "method",
    "name": "loadVesselBadges",
    "longname": "module:core/badge-cache~loadVesselBadges",
    "url": "module-core_badge-cache.html#~loadVesselBadges",
    "description": "<p>Load vessel badges from cache.</p>",
    "parent": "module:core/badge-cache"
  },
  {
    "type": "method",
    "name": "call",
    "longname": "module:core/debounced-api.DebouncedAPIManager#call",
    "url": "module-core_debounced-api.DebouncedAPIManager.html#call",
    "description": "<p>Call a registered debounced function.</p>",
    "parent": "module:core/debounced-api.DebouncedAPIManager"
  },
  {
    "type": "method",
    "name": "cancelAll",
    "longname": "module:core/debounced-api.DebouncedAPIManager#cancelAll",
    "url": "module-core_debounced-api.DebouncedAPIManager.html#cancelAll",
    "description": "<p>Cancel all pending debounced functions.</p>",
    "parent": "module:core/debounced-api.DebouncedAPIManager"
  },
  {
    "type": "method",
    "name": "get",
    "longname": "module:core/debounced-api.DebouncedAPIManager#get",
    "url": "module-core_debounced-api.DebouncedAPIManager.html#get",
    "description": "<p>Get a registered debounced function.</p>",
    "parent": "module:core/debounced-api.DebouncedAPIManager"
  },
  {
    "type": "method",
    "name": "register",
    "longname": "module:core/debounced-api.DebouncedAPIManager#register",
    "url": "module-core_debounced-api.DebouncedAPIManager.html#register",
    "description": "<p>Register a new debounced API function.</p>",
    "parent": "module:core/debounced-api.DebouncedAPIManager"
  },
  {
    "type": "method",
    "name": "cancelAllDebouncedFunctions",
    "longname": "module:core/debounced-api.cancelAllDebouncedFunctions",
    "url": "module-core_debounced-api.html#.cancelAllDebouncedFunctions",
    "description": "<p>Cancel all pending debounced functions.\nUseful during cleanup or page unload.</p>",
    "parent": "module:core/debounced-api"
  },
  {
    "type": "method",
    "name": "cancelDebouncedFunction",
    "longname": "module:core/debounced-api.cancelDebouncedFunction",
    "url": "module-core_debounced-api.html#.cancelDebouncedFunction",
    "description": "<p>Cancel a pending debounced function.</p>",
    "parent": "module:core/debounced-api"
  },
  {
    "type": "method",
    "name": "createDebouncedFunction",
    "longname": "module:core/debounced-api.createDebouncedFunction",
    "url": "module-core_debounced-api.html#.createDebouncedFunction",
    "description": "<p>Creates a debounced function that delays executing the given function until\nafter the specified delay has elapsed since the last invocation.</p>",
    "parent": "module:core/debounced-api"
  },
  {
    "type": "method",
    "name": "isDebouncePending",
    "longname": "module:core/debounced-api.isDebouncePending",
    "url": "module-core_debounced-api.html#.isDebouncePending",
    "description": "<p>Check if a debounced function is pending.</p>",
    "parent": "module:core/debounced-api"
  },
  {
    "type": "method",
    "name": "registerAutoDepartSettingsListeners",
    "longname": "module:core/event-registry.registerAutoDepartSettingsListeners",
    "url": "module-core_event-registry.html#.registerAutoDepartSettingsListeners",
    "description": "<p>Register intelligent auto-depart settings listeners.</p>",
    "parent": "module:core/event-registry"
  },
  {
    "type": "method",
    "name": "registerAutoPilotFeatureListeners",
    "longname": "module:core/event-registry.registerAutoPilotFeatureListeners",
    "url": "module-core_event-registry.html#.registerAutoPilotFeatureListeners",
    "description": "<p>Register AutoPilot feature toggle event listeners.</p>",
    "parent": "module:core/event-registry"
  },
  {
    "type": "method",
    "name": "registerAutoPilotListeners",
    "longname": "module:core/event-registry.registerAutoPilotListeners",
    "url": "module-core_event-registry.html#.registerAutoPilotListeners",
    "description": "<p>Register AutoPilot checkbox event listeners.</p>",
    "parent": "module:core/event-registry"
  },
  {
    "type": "method",
    "name": "registerAutoRebuyCO2Listeners",
    "longname": "module:core/event-registry.registerAutoRebuyCO2Listeners",
    "url": "module-core_event-registry.html#.registerAutoRebuyCO2Listeners",
    "description": "<p>Register auto-rebuy CO2 event listeners.</p>",
    "parent": "module:core/event-registry"
  },
  {
    "type": "method",
    "name": "registerAutoRebuyFuelListeners",
    "longname": "module:core/event-registry.registerAutoRebuyFuelListeners",
    "url": "module-core_event-registry.html#.registerAutoRebuyFuelListeners",
    "description": "<p>Register auto-rebuy fuel event listeners.</p>",
    "parent": "module:core/event-registry"
  },
  {
    "type": "method",
    "name": "registerBunkerListeners",
    "longname": "module:core/event-registry.registerBunkerListeners",
    "url": "module-core_event-registry.html#.registerBunkerListeners",
    "description": "<p>Register bunker management button listeners.</p>",
    "parent": "module:core/event-registry"
  },
  {
    "type": "method",
    "name": "registerChatBotSettingsListeners",
    "longname": "module:core/event-registry.registerChatBotSettingsListeners",
    "url": "module-core_event-registry.html#.registerChatBotSettingsListeners",
    "description": "<p>Register Chat Bot settings event listeners.</p>",
    "parent": "module:core/event-registry"
  },
  {
    "type": "method",
    "name": "registerChatEventListeners",
    "longname": "module:core/event-registry.registerChatEventListeners",
    "url": "module-core_event-registry.html#.registerChatEventListeners",
    "description": "<p>Register all chat-related event listeners.</p>",
    "parent": "module:core/event-registry"
  },
  {
    "type": "method",
    "name": "registerCustomCommandsListeners",
    "longname": "module:core/event-registry.registerCustomCommandsListeners",
    "url": "module-core_event-registry.html#.registerCustomCommandsListeners",
    "description": "<p>Register custom commands list event listeners.</p>",
    "parent": "module:core/event-registry"
  },
  {
    "type": "method",
    "name": "registerDialogEventListeners",
    "longname": "module:core/event-registry.registerDialogEventListeners",
    "url": "module-core_event-registry.html#.registerDialogEventListeners",
    "description": "<p>Register dialog and overlay event listeners.</p>",
    "parent": "module:core/event-registry"
  },
  {
    "type": "method",
    "name": "registerMessengerEventListeners",
    "longname": "module:core/event-registry.registerMessengerEventListeners",
    "url": "module-core_event-registry.html#.registerMessengerEventListeners",
    "description": "<p>Register all messenger-related event listeners.</p>",
    "parent": "module:core/event-registry"
  },
  {
    "type": "method",
    "name": "registerNotificationPermissionListener",
    "longname": "module:core/event-registry.registerNotificationPermissionListener",
    "url": "module-core_event-registry.html#.registerNotificationPermissionListener",
    "description": "<p>Register notification permission button listener.</p>",
    "parent": "module:core/event-registry"
  },
  {
    "type": "method",
    "name": "registerNumberFormatting",
    "longname": "module:core/event-registry.registerNumberFormatting",
    "url": "module-core_event-registry.html#.registerNumberFormatting",
    "description": "<p>Register number formatting for input fields.</p>",
    "parent": "module:core/event-registry"
  },
  {
    "type": "method",
    "name": "registerSectionToggle",
    "longname": "module:core/event-registry.registerSectionToggle",
    "url": "module-core_event-registry.html#.registerSectionToggle",
    "description": "<p>Register section toggle function globally.</p>",
    "parent": "module:core/event-registry"
  },
  {
    "type": "method",
    "name": "registerSettingsThresholdListeners",
    "longname": "module:core/event-registry.registerSettingsThresholdListeners",
    "url": "module-core_event-registry.html#.registerSettingsThresholdListeners",
    "description": "<p>Register settings threshold input event listeners.</p>",
    "parent": "module:core/event-registry"
  },
  {
    "type": "method",
    "name": "registerVesselCatalogEventListeners",
    "longname": "module:core/event-registry.registerVesselCatalogEventListeners",
    "url": "module-core_event-registry.html#.registerVesselCatalogEventListeners",
    "description": "<p>Register vessel catalog event listeners.</p>",
    "parent": "module:core/event-registry"
  },
  {
    "type": "method",
    "name": "createCustomCommandElement",
    "longname": "module:core/event-registry~createCustomCommandElement",
    "url": "module-core_event-registry.html#~createCustomCommandElement",
    "description": "<p>Create a custom command element with all event listeners.</p>",
    "parent": "module:core/event-registry"
  },
  {
    "type": "method",
    "name": "formatNumberWithSeparator",
    "longname": "module:core/event-registry~formatNumberWithSeparator",
    "url": "module-core_event-registry.html#~formatNumberWithSeparator",
    "description": "<p>Format number with thousand separators.</p>",
    "parent": "module:core/event-registry"
  },
  {
    "type": "method",
    "name": "exportApiUrl",
    "longname": "module:core/global-exports.exportApiUrl",
    "url": "module-core_global-exports.html#.exportApiUrl",
    "description": "<p>Export API URL helper globally.</p>",
    "parent": "module:core/global-exports"
  },
  {
    "type": "method",
    "name": "exportAutopilotFunctions",
    "longname": "module:core/global-exports.exportAutopilotFunctions",
    "url": "module-core_global-exports.html#.exportAutopilotFunctions",
    "description": "<p>Export autopilot control functions globally.</p>",
    "parent": "module:core/global-exports"
  },
  {
    "type": "method",
    "name": "exportCacheKeys",
    "longname": "module:core/global-exports.exportCacheKeys",
    "url": "module-core_global-exports.html#.exportCacheKeys",
    "description": "<p>Export cache key and prefix globally.</p>",
    "parent": "module:core/global-exports"
  },
  {
    "type": "method",
    "name": "exportDebouncedFunctions",
    "longname": "module:core/global-exports.exportDebouncedFunctions",
    "url": "module-core_global-exports.html#.exportDebouncedFunctions",
    "description": "<p>Export debounced API functions globally for cross-module access.</p>",
    "parent": "module:core/global-exports"
  },
  {
    "type": "method",
    "name": "exportDebugMode",
    "longname": "module:core/global-exports.exportDebugMode",
    "url": "module-core_global-exports.html#.exportDebugMode",
    "description": "<p>Export debug mode globally.</p>",
    "parent": "module:core/global-exports"
  },
  {
    "type": "method",
    "name": "exportGlobals",
    "longname": "module:core/global-exports.exportGlobals",
    "url": "module-core_global-exports.html#.exportGlobals",
    "description": "<p>Export all necessary functions to window object for HTML onclick handlers.\nThis is required because HTML elements cannot directly call module-scoped functions.</p>",
    "parent": "module:core/global-exports"
  },
  {
    "type": "method",
    "name": "exportLogbookHandler",
    "longname": "module:core/global-exports.exportLogbookHandler",
    "url": "module-core_global-exports.html#.exportLogbookHandler",
    "description": "<p>Export logbook handler for WebSocket updates.</p>",
    "parent": "module:core/global-exports"
  },
  {
    "type": "method",
    "name": "exportOverlayFunctions",
    "longname": "module:core/global-exports.exportOverlayFunctions",
    "url": "module-core_global-exports.html#.exportOverlayFunctions",
    "description": "<p>Export overlay show functions for map icon bar.</p>",
    "parent": "module:core/global-exports"
  },
  {
    "type": "method",
    "name": "exportSettingsHandler",
    "longname": "module:core/global-exports.exportSettingsHandler",
    "url": "module-core_global-exports.html#.exportSettingsHandler",
    "description": "<p>Export settings update handler globally.</p>",
    "parent": "module:core/global-exports"
  },
  {
    "type": "method",
    "name": "exportStorageFunctions",
    "longname": "module:core/global-exports.exportStorageFunctions",
    "url": "module-core_global-exports.html#.exportStorageFunctions",
    "description": "<p>Export storage functions globally for backward compatibility.</p>",
    "parent": "module:core/global-exports"
  },
  {
    "type": "method",
    "name": "exportVersionFunctions",
    "longname": "module:core/global-exports.exportVersionFunctions",
    "url": "module-core_global-exports.html#.exportVersionFunctions",
    "description": "<p>Export version check functions globally.</p>",
    "parent": "module:core/global-exports"
  },
  {
    "type": "method",
    "name": "handleSettingsUpdate",
    "longname": "module:core/settings-sync.handleSettingsUpdate",
    "url": "module-core_settings-sync.html#.handleSettingsUpdate",
    "description": "<p>Handles settings updates received from other browser tabs/devices via WebSocket.</p>\n<p>When a user changes settings in one browser tab/window, the server broadcasts\nthe updated settings to ALL connected clients via WebSocket. This function\nreceives those broadcasts and synchronizes the local UI to match.</p>",
    "parent": "module:core/settings-sync"
  },
  {
    "type": "method",
    "name": "toggleAutoPilotAgentCheckboxes",
    "longname": "module:core/settings-sync.toggleAutoPilotAgentCheckboxes",
    "url": "module-core_settings-sync.html#.toggleAutoPilotAgentCheckboxes",
    "description": "<p>Toggles the disabled state of individual autopilot agent notification checkboxes\nbased on the master AutoPilot Notifications toggle.</p>",
    "parent": "module:core/settings-sync"
  },
  {
    "type": "method",
    "name": "formatNumberWithSeparator",
    "longname": "module:core/settings-sync~formatNumberWithSeparator",
    "url": "module-core_settings-sync.html#~formatNumberWithSeparator",
    "description": "<p>Format number with thousand separators.\nSafe alternative to regex that prevents ReDoS attacks.</p>",
    "parent": "module:core/settings-sync"
  },
  {
    "type": "method",
    "name": "updateAutoPilotToggles",
    "longname": "module:core/settings-sync~updateAutoPilotToggles",
    "url": "module-core_settings-sync.html#~updateAutoPilotToggles",
    "description": "<p>Update autopilot toggle UI elements.</p>",
    "parent": "module:core/settings-sync"
  },
  {
    "type": "method",
    "name": "updateAutoRebuyCO2UI",
    "longname": "module:core/settings-sync~updateAutoRebuyCO2UI",
    "url": "module-core_settings-sync.html#~updateAutoRebuyCO2UI",
    "description": "<p>Update auto-rebuy CO2 UI elements.</p>",
    "parent": "module:core/settings-sync"
  },
  {
    "type": "method",
    "name": "updateAutoRebuyFuelUI",
    "longname": "module:core/settings-sync~updateAutoRebuyFuelUI",
    "url": "module-core_settings-sync.html#~updateAutoRebuyFuelUI",
    "description": "<p>Update auto-rebuy fuel UI elements.</p>",
    "parent": "module:core/settings-sync"
  },
  {
    "type": "method",
    "name": "updateChatBotSettings",
    "longname": "module:core/settings-sync~updateChatBotSettings",
    "url": "module-core_settings-sync.html#~updateChatBotSettings",
    "description": "<p>Update Chat Bot settings UI.</p>",
    "parent": "module:core/settings-sync"
  },
  {
    "type": "method",
    "name": "updateNotificationSettings",
    "longname": "module:core/settings-sync~updateNotificationSettings",
    "url": "module-core_settings-sync.html#~updateNotificationSettings",
    "description": "<p>Update notification settings UI.</p>",
    "parent": "module:core/settings-sync"
  },
  {
    "type": "method",
    "name": "updateThresholdInputs",
    "longname": "module:core/settings-sync~updateThresholdInputs",
    "url": "module-core_settings-sync.html#~updateThresholdInputs",
    "description": "<p>Update threshold input fields.</p>",
    "parent": "module:core/settings-sync"
  },
  {
    "type": "method",
    "name": "clearUserStorage",
    "longname": "module:core/storage-manager.clearUserStorage",
    "url": "module-core_storage-manager.html#.clearUserStorage",
    "description": "<p>Clear all user-specific storage keys.\nOnly clears keys that match the current user prefix.</p>",
    "parent": "module:core/storage-manager"
  },
  {
    "type": "method",
    "name": "getStorage",
    "longname": "module:core/storage-manager.getStorage",
    "url": "module-core_storage-manager.html#.getStorage",
    "description": "<p>Get item from localStorage with automatic per-user prefixing.</p>",
    "parent": "module:core/storage-manager"
  },
  {
    "type": "method",
    "name": "getUserStorageKey",
    "longname": "module:core/storage-manager.getUserStorageKey",
    "url": "module-core_storage-manager.html#.getUserStorageKey",
    "description": "<p>Get user-specific localStorage key to prevent data leakage between accounts.\nAutomatically prefixes key with userId when available.</p>",
    "parent": "module:core/storage-manager"
  },
  {
    "type": "method",
    "name": "getUserStoragePrefix",
    "longname": "module:core/storage-manager.getUserStoragePrefix",
    "url": "module-core_storage-manager.html#.getUserStoragePrefix",
    "description": "<p>Get the current user storage prefix.</p>",
    "parent": "module:core/storage-manager"
  },
  {
    "type": "method",
    "name": "removeStorage",
    "longname": "module:core/storage-manager.removeStorage",
    "url": "module-core_storage-manager.html#.removeStorage",
    "description": "<p>Remove item from localStorage with automatic per-user prefixing.</p>",
    "parent": "module:core/storage-manager"
  },
  {
    "type": "method",
    "name": "setStorage",
    "longname": "module:core/storage-manager.setStorage",
    "url": "module-core_storage-manager.html#.setStorage",
    "description": "<p>Set item in localStorage with automatic per-user prefixing.</p>",
    "parent": "module:core/storage-manager"
  },
  {
    "type": "method",
    "name": "setUserStoragePrefix",
    "longname": "module:core/storage-manager.setUserStoragePrefix",
    "url": "module-core_storage-manager.html#.setUserStoragePrefix",
    "description": "<p>Set the user storage prefix for all storage operations.\nCalled during initialization after user ID is loaded from settings.</p>",
    "parent": "module:core/storage-manager"
  },
  {
    "type": "method",
    "name": "getWebSocketState",
    "longname": "module:core/websocket-client.getWebSocketState",
    "url": "module-core_websocket-client.html#.getWebSocketState",
    "description": "<p>Get WebSocket connection state.</p>",
    "parent": "module:core/websocket-client"
  },
  {
    "type": "method",
    "name": "incrementReconnectCounter",
    "longname": "module:core/websocket-client.incrementReconnectCounter",
    "url": "module-core_websocket-client.html#.incrementReconnectCounter",
    "description": "<p>Increment WebSocket reconnect counter.</p>",
    "parent": "module:core/websocket-client"
  },
  {
    "type": "method",
    "name": "initAutopilotControls",
    "longname": "module:core/websocket-client.initAutopilotControls",
    "url": "module-core_websocket-client.html#.initAutopilotControls",
    "description": "<p>Initialize autopilot button update function.\nThis must be defined BEFORE WebSocket connects as the WebSocket may send\ninitial autopilot_status event.</p>",
    "parent": "module:core/websocket-client"
  },
  {
    "type": "method",
    "name": "onStatusUpdate",
    "longname": "module:core/websocket-client.initAutopilotControls~onStatusUpdate",
    "url": "module-core_websocket-client.html#.initAutopilotControls#~onStatusUpdate",
    "description": "<p>Handles autopilot status updates from WebSocket</p>",
    "parent": "module:core/websocket-client.initAutopilotControls"
  },
  {
    "type": "method",
    "name": "toggle",
    "longname": "module:core/websocket-client.initAutopilotControls~toggle",
    "url": "module-core_websocket-client.html#.initAutopilotControls#~toggle",
    "description": "<p>Toggles autopilot pause/resume state</p>",
    "parent": "module:core/websocket-client.initAutopilotControls"
  },
  {
    "type": "method",
    "name": "updateButton",
    "longname": "module:core/websocket-client.initAutopilotControls~updateButton",
    "url": "module-core_websocket-client.html#.initAutopilotControls#~updateButton",
    "description": "<p>Updates autopilot button icon and title</p>",
    "parent": "module:core/websocket-client.initAutopilotControls"
  },
  {
    "type": "method",
    "name": "loadAutopilotState",
    "longname": "module:core/websocket-client.loadAutopilotState",
    "url": "module-core_websocket-client.html#.loadAutopilotState",
    "description": "<p>Load autopilot pause state from localStorage.\nCRITICAL: Only load if userId validated to prevent showing wrong account state.</p>",
    "parent": "module:core/websocket-client"
  },
  {
    "type": "method",
    "name": "resetReconnectCounter",
    "longname": "module:core/websocket-client.resetReconnectCounter",
    "url": "module-core_websocket-client.html#.resetReconnectCounter",
    "description": "<p>Reset WebSocket reconnect counter.\nCalled when connection is successfully established.</p>",
    "parent": "module:core/websocket-client"
  },
  {
    "type": "method",
    "name": "triggerPriceAlertCheck",
    "longname": "module:core/websocket-client.triggerPriceAlertCheck",
    "url": "module-core_websocket-client.html#.triggerPriceAlertCheck",
    "description": "<p>Trigger price alert check on backend.\nBackend will send alerts via WebSocket if needed.</p>",
    "parent": "module:core/websocket-client"
  },
  {
    "type": "method",
    "name": "updateWebSocketState",
    "longname": "module:core/websocket-client.updateWebSocketState",
    "url": "module-core_websocket-client.html#.updateWebSocketState",
    "description": "<p>Update WebSocket connection state.</p>",
    "parent": "module:core/websocket-client"
  },
  {
    "type": "method",
    "name": "closeDepartManager",
    "longname": "module:depart-manager.closeDepartManager",
    "url": "module-depart-manager.html#.closeDepartManager",
    "description": "<p>Close the depart manager panel\nTriggers map reset to show cached data at default zoom</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "initializeDepartManager",
    "longname": "module:depart-manager.initializeDepartManager",
    "url": "module-depart-manager.html#.initializeDepartManager",
    "description": "<p>Initialize the depart manager panel</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "openDepartManager",
    "longname": "module:depart-manager.openDepartManager",
    "url": "module-depart-manager.html#.openDepartManager",
    "description": "<p>Open the depart manager panel</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "refreshDepartManagerIfOpen",
    "longname": "module:depart-manager.refreshDepartManagerIfOpen",
    "url": "module-depart-manager.html#.refreshDepartManagerIfOpen",
    "description": "<p>Refresh the depart manager if it's currently open\nCalled after vessel departures or route assignments to update the list</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "toggleDepartManager",
    "longname": "module:depart-manager.toggleDepartManager",
    "url": "module-depart-manager.html#.toggleDepartManager",
    "description": "<p>Toggle the depart manager panel</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "updateDepartManagerLockState",
    "longname": "module:depart-manager.updateDepartManagerLockState",
    "url": "module-depart-manager.html#.updateDepartManagerLockState",
    "description": "<p>Update depart button state when lock status changes\nCalled from vessel-management.js when server lock state updates</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "addMassMoorEventHandlers",
    "longname": "module:depart-manager~addMassMoorEventHandlers",
    "url": "module-depart-manager.html#~addMassMoorEventHandlers",
    "description": "<p>Add event handlers for Mass Moor tab content</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "addVesselItemEventHandlers",
    "longname": "module:depart-manager~addVesselItemEventHandlers",
    "url": "module-depart-manager.html#~addVesselItemEventHandlers",
    "description": "<p>Add event handlers to vessel items</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "clearSearch",
    "longname": "module:depart-manager~clearSearch",
    "url": "module-depart-manager.html#~clearSearch",
    "description": "<p>Clear the search and reload current tab</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "departSelectedVessels",
    "longname": "module:depart-manager~departSelectedVessels",
    "url": "module-depart-manager.html#~departSelectedVessels",
    "description": "<p>Depart selected vessels only</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "drag",
    "longname": "module:depart-manager~drag",
    "url": "module-depart-manager.html#~drag",
    "description": "<p>Drag the panel</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "formatDuration",
    "longname": "module:depart-manager~formatDuration",
    "url": "module-depart-manager.html#~formatDuration",
    "description": "<p>Format duration for vessel</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "formatETA",
    "longname": "module:depart-manager~formatETA",
    "url": "module-depart-manager.html#~formatETA",
    "description": "<p>Format ETA for enroute vessel</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "formatLoadingStatus",
    "longname": "module:depart-manager~formatLoadingStatus",
    "url": "module-depart-manager.html#~formatLoadingStatus",
    "description": "<p>Format loading/unloading status with timer</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "getLoadingStatus",
    "longname": "module:depart-manager~getLoadingStatus",
    "url": "module-depart-manager.html#~getLoadingStatus",
    "description": "<p>Get loading/unloading status for a vessel</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "getPortDrydock",
    "longname": "module:depart-manager~getPortDrydock",
    "url": "module-depart-manager.html#~getPortDrydock",
    "description": "<p>Get drydock info for a port</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "getStatusInfo",
    "longname": "module:depart-manager~getStatusInfo",
    "url": "module-depart-manager.html#~getStatusInfo",
    "description": "<p>Get status display information</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "getVesselStatusText",
    "longname": "module:depart-manager~getVesselStatusText",
    "url": "module-depart-manager.html#~getVesselStatusText",
    "description": "<p>Get human-readable status text</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "loadPortsData",
    "longname": "module:depart-manager~loadPortsData",
    "url": "module-depart-manager.html#~loadPortsData",
    "description": "<p>Load and cache port data (for drydock info)</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "loadVesselsByStatus",
    "longname": "module:depart-manager~loadVesselsByStatus",
    "url": "module-depart-manager.html#~loadVesselsByStatus",
    "description": "<p>Load vessels filtered by status</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "locateVesselOnMap",
    "longname": "module:depart-manager~locateVesselOnMap",
    "url": "module-depart-manager.html#~locateVesselOnMap",
    "description": "<p>Locate vessel on map (same as vessel-locate-btn in sell vessels overlay)</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "moorSelectedVessels",
    "longname": "module:depart-manager~moorSelectedVessels",
    "url": "module-depart-manager.html#~moorSelectedVessels",
    "description": "<p>Moor selected vessels (skip already moored)</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "renderDrydockEnrouteItem",
    "longname": "module:depart-manager~renderDrydockEnrouteItem",
    "url": "module-depart-manager.html#~renderDrydockEnrouteItem",
    "description": "<p>Render a vessel item for enroute-to-drydock section</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "renderDrydockTab",
    "longname": "module:depart-manager~renderDrydockTab",
    "url": "module-depart-manager.html#~renderDrydockTab",
    "description": "<p>Render the Drydock tab with two sections: In Maintenance and Enroute to Drydock</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "renderMassMoorTab",
    "longname": "module:depart-manager~renderMassMoorTab",
    "url": "module-depart-manager.html#~renderMassMoorTab",
    "description": "<p>Render Mass Moor tab with moor/resume buttons and vessel list</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "renderMassMoorVesselItem",
    "longname": "module:depart-manager~renderMassMoorVesselItem",
    "url": "module-depart-manager.html#~renderMassMoorVesselItem",
    "description": "<p>Render a vessel item for Mass Moor tab</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "renderVesselItem",
    "longname": "module:depart-manager~renderVesselItem",
    "url": "module-depart-manager.html#~renderVesselItem",
    "description": "<p>Render a single vessel item based on status</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "resumeSelectedVessels",
    "longname": "module:depart-manager~resumeSelectedVessels",
    "url": "module-depart-manager.html#~resumeSelectedVessels",
    "description": "<p>Resume selected vessels (skip already active)</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "searchVesselsAcrossTabs",
    "longname": "module:depart-manager~searchVesselsAcrossTabs",
    "url": "module-depart-manager.html#~searchVesselsAcrossTabs",
    "description": "<p>Search vessels across all tabs and show matching results\nSwitches to the appropriate tab if a vessel is found</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "selectAllVessels",
    "longname": "module:depart-manager~selectAllVessels",
    "url": "module-depart-manager.html#~selectAllVessels",
    "description": "<p>Select all vessel checkboxes</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "selectVesselRouteOnMap",
    "longname": "module:depart-manager~selectVesselRouteOnMap",
    "url": "module-depart-manager.html#~selectVesselRouteOnMap",
    "description": "<p>Select a vessel's route on the map (opens route panel with vessel)</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "startDrag",
    "longname": "module:depart-manager~startDrag",
    "url": "module-depart-manager.html#~startDrag",
    "description": "<p>Start dragging the panel</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "stopDrag",
    "longname": "module:depart-manager~stopDrag",
    "url": "module-depart-manager.html#~stopDrag",
    "description": "<p>Stop dragging the panel</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "unselectAllVessels",
    "longname": "module:depart-manager~unselectAllVessels",
    "url": "module-depart-manager.html#~unselectAllVessels",
    "description": "<p>Unselect all vessel checkboxes</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "updateAnchorTabCount",
    "longname": "module:depart-manager~updateAnchorTabCount",
    "url": "module-depart-manager.html#~updateAnchorTabCount",
    "description": "<p>Update the Anchored tab button to show count of anchored vessels</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "updateAtPortTabCount",
    "longname": "module:depart-manager~updateAtPortTabCount",
    "url": "module-depart-manager.html#~updateAtPortTabCount",
    "description": "<p>Update the At Port tab button to show count of vessels ready to depart</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "updateAtSeaTabCount",
    "longname": "module:depart-manager~updateAtSeaTabCount",
    "url": "module-depart-manager.html#~updateAtSeaTabCount",
    "description": "<p>Update the At Sea tab button to show count of vessels enroute (excluding drydock trips)</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "updateDepartButtonCount",
    "longname": "module:depart-manager~updateDepartButtonCount",
    "url": "module-depart-manager.html#~updateDepartButtonCount",
    "description": "<p>Update the depart button count based on selected checkboxes, lock state, and current tab</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "updateDryDockTabCount",
    "longname": "module:depart-manager~updateDryDockTabCount",
    "url": "module-depart-manager.html#~updateDryDockTabCount",
    "description": "<p>Update the DryDock tab button to show count of vessels in maintenance + enroute to drydock</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "updateMassMoorButtonCounts",
    "longname": "module:depart-manager~updateMassMoorButtonCounts",
    "url": "module-depart-manager.html#~updateMassMoorButtonCounts",
    "description": "<p>Legacy alias for updateMoorResumeButtonCounts</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "updateMoorResumeButtonCounts",
    "longname": "module:depart-manager~updateMoorResumeButtonCounts",
    "url": "module-depart-manager.html#~updateMoorResumeButtonCounts",
    "description": "<p>Update moor/resume button counts (works on all tabs)\nChecks both .moor-vessel-checkbox (mass-moor tab) and .depart-vessel-checkbox (other tabs)</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "updateMoorTabCount",
    "longname": "module:depart-manager~updateMoorTabCount",
    "url": "module-depart-manager.html#~updateMoorTabCount",
    "description": "<p>Update the Moor tab button to show count of moored vessels</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "updatePendingTabCount",
    "longname": "module:depart-manager~updatePendingTabCount",
    "url": "module-depart-manager.html#~updatePendingTabCount",
    "description": "<p>Update the Pending tab button to show count of pending vessels</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "updateVesselMoorState",
    "longname": "module:depart-manager~updateVesselMoorState",
    "url": "module-depart-manager.html#~updateVesselMoorState",
    "description": "<p>Update vessel UI state after moor/resume</p>",
    "parent": "module:depart-manager"
  },
  {
    "type": "method",
    "name": "createDesktopNotification",
    "longname": "module:desktop-notification-templates.createDesktopNotification",
    "url": "module-desktop-notification-templates.html#.createDesktopNotification",
    "description": "<p>Create a standardized desktop notification with consistent formatting.</p>\n<p>Format: EMOJI TITEL\\n\\nCONTENT</p>",
    "parent": "module:desktop-notification-templates"
  },
  {
    "type": "method",
    "name": "getDefaultEmoji",
    "longname": "module:desktop-notification-templates.getDefaultEmoji",
    "url": "module-desktop-notification-templates.html#.getDefaultEmoji",
    "description": "<p>Get the default emoji for a notification type</p>",
    "parent": "module:desktop-notification-templates"
  },
  {
    "type": "method",
    "name": "getNotificationTypes",
    "longname": "module:desktop-notification-templates.getNotificationTypes",
    "url": "module-desktop-notification-templates.html#.getNotificationTypes",
    "description": "<p>Get all supported notification types</p>",
    "parent": "module:desktop-notification-templates"
  },
  {
    "type": "method",
    "name": "isValidNotificationType",
    "longname": "module:desktop-notification-templates.isValidNotificationType",
    "url": "module-desktop-notification-templates.html#.isValidNotificationType",
    "description": "<p>Check if a notification type is valid</p>",
    "parent": "module:desktop-notification-templates"
  },
  {
    "type": "method",
    "name": "notifyAlert",
    "longname": "module:desktop-notification-templates.notifyAlert",
    "url": "module-desktop-notification-templates.html#.notifyAlert",
    "description": "<p>Convenience function: Create alert notification</p>",
    "parent": "module:desktop-notification-templates"
  },
  {
    "type": "method",
    "name": "notifyError",
    "longname": "module:desktop-notification-templates.notifyError",
    "url": "module-desktop-notification-templates.html#.notifyError",
    "description": "<p>Convenience function: Create error notification</p>",
    "parent": "module:desktop-notification-templates"
  },
  {
    "type": "method",
    "name": "notifySuccess",
    "longname": "module:desktop-notification-templates.notifySuccess",
    "url": "module-desktop-notification-templates.html#.notifySuccess",
    "description": "<p>Convenience function: Create success notification</p>",
    "parent": "module:desktop-notification-templates"
  },
  {
    "type": "method",
    "name": "notifyWarning",
    "longname": "module:desktop-notification-templates.notifyWarning",
    "url": "module-desktop-notification-templates.html#.notifyWarning",
    "description": "<p>Convenience function: Create warning notification</p>",
    "parent": "module:desktop-notification-templates"
  },
  {
    "type": "method",
    "name": "initEventInfo",
    "longname": "module:event-info.initEventInfo",
    "url": "module-event-info.html#.initEventInfo",
    "description": "<p>Initialize event info module</p>",
    "parent": "module:event-info"
  },
  {
    "type": "method",
    "name": "openEventModal",
    "longname": "module:event-info.openEventModal",
    "url": "module-event-info.html#.openEventModal",
    "description": "<p>Opens the event information modal</p>",
    "parent": "module:event-info"
  },
  {
    "type": "method",
    "name": "updateEventData",
    "longname": "module:event-info.updateEventData",
    "url": "module-event-info.html#.updateEventData",
    "description": "<p>Updates stored event data</p>",
    "parent": "module:event-info"
  },
  {
    "type": "method",
    "name": "startEventTimer",
    "longname": "module:event-info~startEventTimer",
    "url": "module-event-info.html#~startEventTimer",
    "description": "<p>Starts the event countdown timer\nCalculates remaining time live from time_end (not cached ends_in)</p>",
    "parent": "module:event-info"
  },
  {
    "type": "method",
    "name": "initForecastCalendar",
    "longname": "module:forecast-calendar.initForecastCalendar",
    "url": "module-forecast-calendar.html#.initForecastCalendar",
    "description": "<p>Initialize forecast calendar when modal is opened</p>",
    "parent": "module:forecast-calendar"
  },
  {
    "type": "method",
    "name": "updateEventDiscount",
    "longname": "module:forecast-calendar.updateEventDiscount",
    "url": "module-forecast-calendar.html#.updateEventDiscount",
    "description": "<p>Update event discount and re-render forecast</p>",
    "parent": "module:forecast-calendar"
  },
  {
    "type": "method",
    "name": "createTableHTML",
    "longname": "module:forecast-calendar~createTableHTML",
    "url": "module-forecast-calendar.html#~createTableHTML",
    "description": "<p>Create HTML table for forecast intervals\nData is already in correct timezone from server</p>",
    "parent": "module:forecast-calendar"
  },
  {
    "type": "method",
    "name": "getBrowserTimezone",
    "longname": "module:forecast-calendar~getBrowserTimezone",
    "url": "module-forecast-calendar.html#~getBrowserTimezone",
    "description": "<p>Get browser timezone abbreviation\nUses Intl.DateTimeFormat to detect local timezone</p>",
    "parent": "module:forecast-calendar"
  },
  {
    "type": "method",
    "name": "getCo2Class",
    "longname": "module:forecast-calendar~getCo2Class",
    "url": "module-forecast-calendar.html#~getCo2Class",
    "description": "<p>Color classes for CO2 prices</p>",
    "parent": "module:forecast-calendar"
  },
  {
    "type": "method",
    "name": "getCurrentVisibleDay",
    "longname": "module:forecast-calendar~getCurrentVisibleDay",
    "url": "module-forecast-calendar.html#~getCurrentVisibleDay",
    "description": "<p>Get currently visible day from PageFlip</p>",
    "parent": "module:forecast-calendar"
  },
  {
    "type": "method",
    "name": "getFuelClass",
    "longname": "module:forecast-calendar~getFuelClass",
    "url": "module-forecast-calendar.html#~getFuelClass",
    "description": "<p>Color classes for fuel prices\nUses same thresholds as central function in utils.js</p>",
    "parent": "module:forecast-calendar"
  },
  {
    "type": "method",
    "name": "isEventActiveAtTime",
    "longname": "module:forecast-calendar~isEventActiveAtTime",
    "url": "module-forecast-calendar.html#~isEventActiveAtTime",
    "description": "<p>Check if event discount applies to a specific hour</p>",
    "parent": "module:forecast-calendar"
  },
  {
    "type": "method",
    "name": "isEventActiveOnDay",
    "longname": "module:forecast-calendar~isEventActiveOnDay",
    "url": "module-forecast-calendar.html#~isEventActiveOnDay",
    "description": "<p>Check if event is active on any hour of a specific day (for badge display)</p>",
    "parent": "module:forecast-calendar"
  },
  {
    "type": "method",
    "name": "loadForecastData",
    "longname": "module:forecast-calendar~loadForecastData",
    "url": "module-forecast-calendar.html#~loadForecastData",
    "description": "<p>Load forecast data from server for a specific month\nServer automatically converts to browser's timezone</p>",
    "parent": "module:forecast-calendar"
  },
  {
    "type": "method",
    "name": "preloadMonth",
    "longname": "module:forecast-calendar~preloadMonth",
    "url": "module-forecast-calendar.html#~preloadMonth",
    "description": "<p>Preload a specific month into cache</p>",
    "parent": "module:forecast-calendar"
  },
  {
    "type": "method",
    "name": "renderBook",
    "longname": "module:forecast-calendar~renderBook",
    "url": "module-forecast-calendar.html#~renderBook",
    "description": "<p>Render the forecast book with page-flip\nIncludes current month + adjacent months for seamless navigation</p>",
    "parent": "module:forecast-calendar"
  },
  {
    "type": "method",
    "name": "updateEventBadge",
    "longname": "module:forecast-calendar~updateEventBadge",
    "url": "module-forecast-calendar.html#~updateEventBadge",
    "description": "<p>Updates the event badge display based on the currently visible day\nBadge shows if the day you're viewing has event hours (not if event is active right now)</p>",
    "parent": "module:forecast-calendar"
  },
  {
    "type": "method",
    "name": "aggregateReachablePorts",
    "longname": "module:harbor-map-aggregator~aggregateReachablePorts",
    "url": "module-harbor-map-aggregator.html#~aggregateReachablePorts",
    "description": "<p>Aggregates reachable ports with demand data from game/index</p>",
    "parent": "module:harbor-map-aggregator"
  },
  {
    "type": "method",
    "name": "aggregateVesselData",
    "longname": "module:harbor-map-aggregator~aggregateVesselData",
    "url": "module-harbor-map-aggregator.html#~aggregateVesselData",
    "description": "<p>Aggregates vessel data with calculated positions and formatted info</p>",
    "parent": "module:harbor-map-aggregator"
  },
  {
    "type": "method",
    "name": "categorizeVesselsByPort",
    "longname": "module:harbor-map-aggregator~categorizeVesselsByPort",
    "url": "module-harbor-map-aggregator.html#~categorizeVesselsByPort",
    "description": "<p>Categorizes all vessels by their relationship to a specific port</p>",
    "parent": "module:harbor-map-aggregator"
  },
  {
    "type": "method",
    "name": "extractPortsFromGameIndex",
    "longname": "module:harbor-map-aggregator~extractPortsFromGameIndex",
    "url": "module-harbor-map-aggregator.html#~extractPortsFromGameIndex",
    "description": "<p>Extracts all ports with demand data from game/index response</p>",
    "parent": "module:harbor-map-aggregator"
  },
  {
    "type": "method",
    "name": "extractVesselsFromGameIndex",
    "longname": "module:harbor-map-aggregator~extractVesselsFromGameIndex",
    "url": "module-harbor-map-aggregator.html#~extractVesselsFromGameIndex",
    "description": "<p>Extracts all vessels from game/index response</p>",
    "parent": "module:harbor-map-aggregator"
  },
  {
    "type": "method",
    "name": "filterAssignedPorts",
    "longname": "module:harbor-map-aggregator~filterAssignedPorts",
    "url": "module-harbor-map-aggregator.html#~filterAssignedPorts",
    "description": "<p>Filters ports to only user's assigned ports</p>",
    "parent": "module:harbor-map-aggregator"
  },
  {
    "type": "method",
    "name": "formatPortAbbreviation",
    "longname": "module:harbor-map-aggregator~formatPortAbbreviation",
    "url": "module-harbor-map-aggregator.html#~formatPortAbbreviation",
    "description": "<p>Creates a short abbreviation from a port code</p>",
    "parent": "module:harbor-map-aggregator"
  },
  {
    "type": "method",
    "name": "groupVesselsByPortPair",
    "longname": "module:harbor-map-aggregator~groupVesselsByPortPair",
    "url": "module-harbor-map-aggregator.html#~groupVesselsByPortPair",
    "description": "<p>Groups vessels by their port pairs (routes between two ports)\nCreates normalized port-pair keys so Hamburg&lt;-&gt;NYC = NYC&lt;-&gt;Hamburg</p>",
    "parent": "module:harbor-map-aggregator"
  },
  {
    "type": "method",
    "name": "hasOwnImage",
    "longname": "module:harbor-map-aggregator~hasOwnImage",
    "url": "module-harbor-map-aggregator.html#~hasOwnImage",
    "description": "<p>Check if vessel has own image flag in appearance file</p>",
    "parent": "module:harbor-map-aggregator"
  },
  {
    "type": "method",
    "name": "calculateCargoUtilization",
    "longname": "module:harbor-map-calculator~calculateCargoUtilization",
    "url": "module-harbor-map-calculator.html#~calculateCargoUtilization",
    "description": "<p>Calculates cargo capacity utilization percentage</p>",
    "parent": "module:harbor-map-calculator"
  },
  {
    "type": "method",
    "name": "calculateDemandLevel",
    "longname": "module:harbor-map-calculator~calculateDemandLevel",
    "url": "module-harbor-map-calculator.html#~calculateDemandLevel",
    "description": "<p>Determines demand level indicator based on cargo type and demand value\nUses thresholds to categorize demand as high/medium/low</p>",
    "parent": "module:harbor-map-calculator"
  },
  {
    "type": "method",
    "name": "calculateETA",
    "longname": "module:harbor-map-calculator~calculateETA",
    "url": "module-harbor-map-calculator.html#~calculateETA",
    "description": "<p>Calculates time until arrival and formats as human-readable string</p>",
    "parent": "module:harbor-map-calculator"
  },
  {
    "type": "method",
    "name": "calculateVesselPosition",
    "longname": "module:harbor-map-calculator~calculateVesselPosition",
    "url": "module-harbor-map-calculator.html#~calculateVesselPosition",
    "description": "<p>Calculates vessel's current position on route\nIf vessel is not sailing, returns port coordinates\nIf sailing, calculates position along route path using linear interpolation</p>",
    "parent": "module:harbor-map-calculator"
  },
  {
    "type": "method",
    "name": "formatCargoCapacity",
    "longname": "module:harbor-map-calculator~formatCargoCapacity",
    "url": "module-harbor-map-calculator.html#~formatCargoCapacity",
    "description": "<p>Formats cargo capacity as human-readable string</p>",
    "parent": "module:harbor-map-calculator"
  },
  {
    "type": "method",
    "name": "closeHarborMap",
    "longname": "module:harbor-map-init.closeHarborMap",
    "url": "module-harbor-map-init.html#.closeHarborMap",
    "description": "<p>Closes harbor map (legacy function, no longer needed)\nMap is now always visible as main content</p>",
    "parent": "module:harbor-map-init"
  },
  {
    "type": "method",
    "name": "forceRefreshMap",
    "longname": "module:harbor-map-init.forceRefreshMap",
    "url": "module-harbor-map-init.html#.forceRefreshMap",
    "description": "<p>Force refreshes harbor map immediately (bypasses cooldown)\nUse this for user-initiated actions like route creation</p>",
    "parent": "module:harbor-map-init"
  },
  {
    "type": "method",
    "name": "initHarborMap",
    "longname": "module:harbor-map-init.initHarborMap",
    "url": "module-harbor-map-init.html#.initHarborMap",
    "description": "<p>Initializes harbor map as main content (not overlay)\nCalled once on DOMContentLoaded</p>",
    "parent": "module:harbor-map-init"
  },
  {
    "type": "method",
    "name": "openHarborMap",
    "longname": "module:harbor-map-init.openHarborMap",
    "url": "module-harbor-map-init.html#.openHarborMap",
    "description": "<p>Opens harbor map (legacy function, no longer needed)\nMap is now always visible as main content</p>",
    "parent": "module:harbor-map-init"
  },
  {
    "type": "method",
    "name": "preloadHarborMapData",
    "longname": "module:harbor-map-init.preloadHarborMapData",
    "url": "module-harbor-map-init.html#.preloadHarborMapData",
    "description": "<p>Pre-loads harbor map data for instant opening\nCall this during app initialization</p>",
    "parent": "module:harbor-map-init"
  },
  {
    "type": "method",
    "name": "refreshHarborMapIfOpen",
    "longname": "module:harbor-map-init.refreshHarborMapIfOpen",
    "url": "module-harbor-map-init.html#.refreshHarborMapIfOpen",
    "description": "<p>Refreshes harbor map if open (called from external update routines)\nThis is called by vessel-management.js when vessel data is updated\nONLY refreshes if no detail panel is open (to avoid disrupting user)\nRate limited: 30s cooldown between refreshes</p>",
    "parent": "module:harbor-map-init"
  },
  {
    "type": "method",
    "name": "reloadMap",
    "longname": "module:harbor-map-init.reloadMap",
    "url": "module-harbor-map-init.html#.reloadMap",
    "description": "<p>Reloads the harbor map to apply setting changes\nOnly reloads if map is currently open</p>",
    "parent": "module:harbor-map-init"
  },
  {
    "type": "method",
    "name": "startHarborMapAutoUpdate",
    "longname": "module:harbor-map-init.startHarborMapAutoUpdate",
    "url": "module-harbor-map-init.html#.startHarborMapAutoUpdate",
    "description": "<p>Starts auto-update interval for harbor map data (25 seconds)\nDEPRECATED: Now uses vessel-management.js update routine instead</p>",
    "parent": "module:harbor-map-init"
  },
  {
    "type": "method",
    "name": "stopHarborMapAutoUpdate",
    "longname": "module:harbor-map-init.stopHarborMapAutoUpdate",
    "url": "module-harbor-map-init.html#.stopHarborMapAutoUpdate",
    "description": "<p>Stops auto-update interval</p>",
    "parent": "module:harbor-map-init"
  },
  {
    "type": "method",
    "name": "departVesselWrapper",
    "longname": "module:harbor-map-init~departVesselWrapper",
    "url": "module-harbor-map-init.html#~departVesselWrapper",
    "description": "<p>Departs vessel from panel (exposed for HTML onclick)</p>",
    "parent": "module:harbor-map-init"
  },
  {
    "type": "method",
    "name": "getVesselByIdWrapper",
    "longname": "module:harbor-map-init~getVesselByIdWrapper",
    "url": "module-harbor-map-init.html#~getVesselByIdWrapper",
    "description": "<p>Gets vessel by ID (exposed for vessel panel updates)</p>",
    "parent": "module:harbor-map-init"
  },
  {
    "type": "method",
    "name": "selectVesselFromMap",
    "longname": "module:harbor-map-init~selectVesselFromMap",
    "url": "module-harbor-map-init.html#~selectVesselFromMap",
    "description": "<p>Wrapper to select vessel from map popup button</p>",
    "parent": "module:harbor-map-init"
  },
  {
    "type": "method",
    "name": "sellVesselFromPanelWrapper",
    "longname": "module:harbor-map-init~sellVesselFromPanelWrapper",
    "url": "module-harbor-map-init.html#~sellVesselFromPanelWrapper",
    "description": "<p>Sells vessel from panel (exposed for HTML onclick)</p>",
    "parent": "module:harbor-map-init"
  },
  {
    "type": "method",
    "name": "updateVesselMarkerWrapper",
    "longname": "module:harbor-map-init~updateVesselMarkerWrapper",
    "url": "module-harbor-map-init.html#~updateVesselMarkerWrapper",
    "description": "<p>Updates vessel marker (exposed for vessel panel updates)</p>",
    "parent": "module:harbor-map-init"
  },
  {
    "type": "method",
    "name": "clearHarborMapCache",
    "longname": "module:harbor-map/api-client.clearHarborMapCache",
    "url": "module-harbor-map_api-client.html#.clearHarborMapCache",
    "description": "<p>Clears backend cache for game/index data\nForces fresh data on next request</p>",
    "parent": "module:harbor-map/api-client"
  },
  {
    "type": "method",
    "name": "clearOverviewCache",
    "longname": "module:harbor-map/api-client.clearOverviewCache",
    "url": "module-harbor-map_api-client.html#.clearOverviewCache",
    "description": "<p>Clears the cached overview data to force a fresh fetch</p>",
    "parent": "module:harbor-map/api-client"
  },
  {
    "type": "method",
    "name": "exportVesselHistory",
    "longname": "module:harbor-map/api-client.exportVesselHistory",
    "url": "module-harbor-map_api-client.html#.exportVesselHistory",
    "description": "<p>Exports vessel history in specified format (TXT, CSV, or JSON)\nReturns file content as text for download</p>",
    "parent": "module:harbor-map/api-client"
  },
  {
    "type": "method",
    "name": "fetchHarborMapOverview",
    "longname": "module:harbor-map/api-client.fetchHarborMapOverview",
    "url": "module-harbor-map_api-client.html#.fetchHarborMapOverview",
    "description": "<p>Fetches harbor map overview (vessels and ports)\nReturns all vessels with positions and filtered ports</p>",
    "parent": "module:harbor-map/api-client"
  },
  {
    "type": "method",
    "name": "fetchPortDetails",
    "longname": "module:harbor-map/api-client.fetchPortDetails",
    "url": "module-harbor-map_api-client.html#.fetchPortDetails",
    "description": "<p>Fetches port details with categorized vessels\nReturns port info and vessels (in port, heading to, coming from)</p>",
    "parent": "module:harbor-map/api-client"
  },
  {
    "type": "method",
    "name": "fetchVesselHistory",
    "longname": "module:harbor-map/api-client.fetchVesselHistory",
    "url": "module-harbor-map_api-client.html#.fetchVesselHistory",
    "description": "<p>Fetches vessel trip history\nReturns vessel details and trip history array</p>",
    "parent": "module:harbor-map/api-client"
  },
  {
    "type": "method",
    "name": "fetchVesselReachablePorts",
    "longname": "module:harbor-map/api-client.fetchVesselReachablePorts",
    "url": "module-harbor-map_api-client.html#.fetchVesselReachablePorts",
    "description": "<p>Fetches reachable ports for a specific vessel\nReturns vessel details, reachable ports with demand, and route path</p>",
    "parent": "module:harbor-map/api-client"
  },
  {
    "type": "method",
    "name": "getCachedOverview",
    "longname": "module:harbor-map/api-client.getCachedOverview",
    "url": "module-harbor-map_api-client.html#.getCachedOverview",
    "description": "<p>Gets cached overview data if available</p>",
    "parent": "module:harbor-map/api-client"
  },
  {
    "type": "method",
    "name": "invalidateOverviewCache",
    "longname": "module:harbor-map/api-client.invalidateOverviewCache",
    "url": "module-harbor-map_api-client.html#.invalidateOverviewCache",
    "description": "<p>Invalidates the overview cache\nCall this when switching to client-side filtering to ensure fresh data</p>",
    "parent": "module:harbor-map/api-client"
  },
  {
    "type": "method",
    "name": "prefetchHarborMapData",
    "longname": "module:harbor-map/api-client.prefetchHarborMapData",
    "url": "module-harbor-map_api-client.html#.prefetchHarborMapData",
    "description": "<p>Pre-fetches harbor map data in background for instant loading\nCall this on app initialization</p>",
    "parent": "module:harbor-map/api-client"
  },
  {
    "type": "method",
    "name": "applyDemandFilter",
    "longname": "module:harbor-map/filters.applyDemandFilter",
    "url": "module-harbor-map_filters.html#.applyDemandFilter",
    "description": "<p>Applies a demand filter to ports based on the filter value.\nFilter value format: {demandType}<em>{cargoType}</em>{threshold}\nExample: 'max_my_cargo_50000' or 'current_all_oil_-100000'</p>",
    "parent": "module:harbor-map/filters"
  },
  {
    "type": "method",
    "name": "calculatePortCurrentCargoDemand",
    "longname": "module:harbor-map/filters.calculatePortCurrentCargoDemand",
    "url": "module-harbor-map_filters.html#.calculatePortCurrentCargoDemand",
    "description": "<p>Calculates the CURRENT (actual) cargo demand for a port.\nUses <code>demand - consumed</code> to get remaining unfulfilled demand.</p>",
    "parent": "module:harbor-map/filters"
  },
  {
    "type": "method",
    "name": "calculatePortCurrentOilDemand",
    "longname": "module:harbor-map/filters.calculatePortCurrentOilDemand",
    "url": "module-harbor-map_filters.html#.calculatePortCurrentOilDemand",
    "description": "<p>Calculates the CURRENT (actual) oil demand for a port.\nUses <code>demand - consumed</code> to get remaining unfulfilled demand.</p>",
    "parent": "module:harbor-map/filters"
  },
  {
    "type": "method",
    "name": "calculatePortMaxCargoDemand",
    "longname": "module:harbor-map/filters.calculatePortMaxCargoDemand",
    "url": "module-harbor-map_filters.html#.calculatePortMaxCargoDemand",
    "description": "<p>Calculates the MAX cargo demand for a port (total demand capacity).\nUses the <code>demand</code> field directly without subtracting consumed.</p>",
    "parent": "module:harbor-map/filters"
  },
  {
    "type": "method",
    "name": "calculatePortMaxOilDemand",
    "longname": "module:harbor-map/filters.calculatePortMaxOilDemand",
    "url": "module-harbor-map_filters.html#.calculatePortMaxOilDemand",
    "description": "<p>Calculates the MAX oil demand for a port (total demand capacity).\nUses the <code>demand</code> field directly without subtracting consumed.</p>",
    "parent": "module:harbor-map/filters"
  },
  {
    "type": "method",
    "name": "filterPorts",
    "longname": "module:harbor-map/filters.filterPorts",
    "url": "module-harbor-map_filters.html#.filterPorts",
    "description": "<p>Filters ports based on selected criteria</p>",
    "parent": "module:harbor-map/filters"
  },
  {
    "type": "method",
    "name": "filterPortsByPortPair",
    "longname": "module:harbor-map/filters.filterPortsByPortPair",
    "url": "module-harbor-map_filters.html#.filterPortsByPortPair",
    "description": "<p>Filters ports to only show ports involved in a specific port-pair route</p>",
    "parent": "module:harbor-map/filters"
  },
  {
    "type": "method",
    "name": "filterVessels",
    "longname": "module:harbor-map/filters.filterVessels",
    "url": "module-harbor-map_filters.html#.filterVessels",
    "description": "<p>Filters vessels based on selected criteria</p>",
    "parent": "module:harbor-map/filters"
  },
  {
    "type": "method",
    "name": "filterVesselsByPortPair",
    "longname": "module:harbor-map/filters.filterVesselsByPortPair",
    "url": "module-harbor-map_filters.html#.filterVesselsByPortPair",
    "description": "<p>Filters vessels by port-pair (route)\nReturns only vessels that have the specified port-pair as their route</p>",
    "parent": "module:harbor-map/filters"
  },
  {
    "type": "method",
    "name": "getDemandFilterOptions",
    "longname": "module:harbor-map/filters.getDemandFilterOptions",
    "url": "module-harbor-map_filters.html#.getDemandFilterOptions",
    "description": "<p>Returns available demand filter options for the filter modal.\nOrganized by: Max/Current and My Ports/All Ports</p>",
    "parent": "module:harbor-map/filters"
  },
  {
    "type": "method",
    "name": "getPortFilterOptions",
    "longname": "module:harbor-map/filters.getPortFilterOptions",
    "url": "module-harbor-map_filters.html#.getPortFilterOptions",
    "description": "<p>Returns available port filter options</p>",
    "parent": "module:harbor-map/filters"
  },
  {
    "type": "method",
    "name": "getVesselFilterOptions",
    "longname": "module:harbor-map/filters.getVesselFilterOptions",
    "url": "module-harbor-map_filters.html#.getVesselFilterOptions",
    "description": "<p>Returns available vessel filter options</p>",
    "parent": "module:harbor-map/filters"
  },
  {
    "type": "method",
    "name": "calculateVesselUtilization",
    "longname": "module:harbor-map/filters~calculateVesselUtilization",
    "url": "module-harbor-map_filters.html#~calculateVesselUtilization",
    "description": "<p>Calculates vessel utilization percentage\nUses capacity (current cargo) and capacity_max (maximum capacity)</p>",
    "parent": "module:harbor-map/filters"
  },
  {
    "type": "method",
    "name": "clearRoute",
    "longname": "module:harbor-map/map-controller.clearRoute",
    "url": "module-harbor-map_map-controller.html#.clearRoute",
    "description": "<p>Clears route layer (removes blue line and port highlights)</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "closeAllPanels",
    "longname": "module:harbor-map/map-controller.closeAllPanels",
    "url": "module-harbor-map_map-controller.html#.closeAllPanels",
    "description": "<p>Closes all open panels (vessel, port, route)\nEnsures only one panel is open at a time\nOnly hides panels, does NOT remove fullscreen or deselect\nThis allows seamless panel transitions without fullscreen flicker</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "deselectAll",
    "longname": "module:harbor-map/map-controller.deselectAll",
    "url": "module-harbor-map_map-controller.html#.deselectAll",
    "description": "<p>Deselects current selection and returns to overview</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "drawRoute",
    "longname": "module:harbor-map/map-controller.drawRoute",
    "url": "module-harbor-map_map-controller.html#.drawRoute",
    "description": "<p>Draws route path on map with blue polyline\nHighlights origin (red) and destination (green) ports</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "getCurrentPorts",
    "longname": "module:harbor-map/map-controller.getCurrentPorts",
    "url": "module-harbor-map_map-controller.html#.getCurrentPorts",
    "description": "<p>Gets current ports data</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "getMap",
    "longname": "module:harbor-map/map-controller.getMap",
    "url": "module-harbor-map_map-controller.html#.getMap",
    "description": "<p>Returns the map instance for use in other modules</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "getSelectedPortCode",
    "longname": "module:harbor-map/map-controller.getSelectedPortCode",
    "url": "module-harbor-map_map-controller.html#.getSelectedPortCode",
    "description": "<p>Gets the currently selected port code</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "getVesselById",
    "longname": "module:harbor-map/map-controller.getVesselById",
    "url": "module-harbor-map_map-controller.html#.getVesselById",
    "description": "<p>Gets a vessel by ID from current vessels cache</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "highlightPorts",
    "longname": "module:harbor-map/map-controller.highlightPorts",
    "url": "module-harbor-map_map-controller.html#.highlightPorts",
    "description": "<p>Highlights specific ports on the map (for route planner)\nShows only the specified ports, hiding all others</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "initMap",
    "longname": "module:harbor-map/map-controller.initMap",
    "url": "module-harbor-map_map-controller.html#.initMap",
    "description": "<p>Initializes Leaflet map with OpenStreetMap tiles\nSets up layer groups and marker clusters</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "loadOverview",
    "longname": "module:harbor-map/map-controller.loadOverview",
    "url": "module-harbor-map_map-controller.html#.loadOverview",
    "description": "<p>Loads and renders harbor map overview\nFetches ALL data once, then applies filters client-side</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "renderPorts",
    "longname": "module:harbor-map/map-controller.renderPorts",
    "url": "module-harbor-map_map-controller.html#.renderPorts",
    "description": "<p>Renders ports as markers on the map\nUses color-coded markers for demand levels</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "renderVessels",
    "longname": "module:harbor-map/map-controller.renderVessels",
    "url": "module-harbor-map_map-controller.html#.renderVessels",
    "description": "<p>Renders vessels as markers on the map\nUses color-coded icons based on vessel status</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "resetPortDisplay",
    "longname": "module:harbor-map/map-controller.resetPortDisplay",
    "url": "module-harbor-map_map-controller.html#.resetPortDisplay",
    "description": "<p>Resets port display to show all ports (called when route planner closes)</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "selectPort",
    "longname": "module:harbor-map/map-controller.selectPort",
    "url": "module-harbor-map_map-controller.html#.selectPort",
    "description": "<p>Selects a port and shows categorized vessels\nShows port panel with vessels in/to/from port</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "selectVessel",
    "longname": "module:harbor-map/map-controller.selectVessel",
    "url": "module-harbor-map_map-controller.html#.selectVessel",
    "description": "<p>Selects a vessel and shows reachable ports\nHides other vessels, draws route, shows vessel panel</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "setPortFilter",
    "longname": "module:harbor-map/map-controller.setPortFilter",
    "url": "module-harbor-map_map-controller.html#.setPortFilter",
    "description": "<p>Sets port filter to specific value (client-side only - no API calls)</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "setRouteFilter",
    "longname": "module:harbor-map/map-controller.setRouteFilter",
    "url": "module-harbor-map_map-controller.html#.setRouteFilter",
    "description": "<p>Sets the route filter and re-renders map with filtered vessels\nAlso opens the route vessels panel if a route is selected\nWhen a port-pair is selected, draws the route path and shows only origin/destination ports</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "setVesselFilter",
    "longname": "module:harbor-map/map-controller.setVesselFilter",
    "url": "module-harbor-map_map-controller.html#.setVesselFilter",
    "description": "<p>Sets vessel filter to specific value (client-side only - no API calls)</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "updateVesselMarker",
    "longname": "module:harbor-map/map-controller.updateVesselMarker",
    "url": "module-harbor-map_map-controller.html#.updateVesselMarker",
    "description": "<p>Updates a single vessel marker on the map without full refresh</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "updateWeatherDataSetting",
    "longname": "module:harbor-map/map-controller.updateWeatherDataSetting",
    "url": "module-harbor-map_map-controller.html#.updateWeatherDataSetting",
    "description": "<p>Updates weather data setting and applies changes immediately to the map\nWITHOUT reloading the entire map</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "addCustomControls",
    "longname": "module:harbor-map/map-controller~addCustomControls",
    "url": "module-harbor-map_map-controller.html#~addCustomControls",
    "description": "<p>Adds custom Leaflet controls (filter, refresh)\nPositioned in top-right corner below zoom controls</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "applyFilterModalSelections",
    "longname": "module:harbor-map/map-controller~applyFilterModalSelections",
    "url": "module-harbor-map_map-controller.html#~applyFilterModalSelections",
    "description": "<p>Applies the current filter modal selections and updates the map.</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "applyFiltersAndRender",
    "longname": "module:harbor-map/map-controller~applyFiltersAndRender",
    "url": "module-harbor-map_map-controller.html#~applyFiltersAndRender",
    "description": "<p>Applies current filters to raw data and renders the result\nNO API calls - pure client-side filtering</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "applyMapTheme",
    "longname": "module:harbor-map/map-controller~applyMapTheme",
    "url": "module-harbor-map_map-controller.html#~applyMapTheme",
    "description": "<p>Applies theme class to map container for control styling</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "calculateHeading",
    "longname": "module:harbor-map/map-controller~calculateHeading",
    "url": "module-harbor-map_map-controller.html#~calculateHeading",
    "description": "<p>Calculates heading from two coordinates</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "categorizeVesselsByPortClientSide",
    "longname": "module:harbor-map/map-controller~categorizeVesselsByPortClientSide",
    "url": "module-harbor-map_map-controller.html#~categorizeVesselsByPortClientSide",
    "description": "<p>Categorizes all vessels by their relationship to a specific port (CLIENT-SIDE)\nReplicates backend logic from harbor-map-aggregator.js\nSplits vessels into four categories: in port, heading to, coming from, pending</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "changeTileLayer",
    "longname": "module:harbor-map/map-controller~changeTileLayer",
    "url": "module-harbor-map_map-controller.html#~changeTileLayer",
    "description": "<p>Changes the map tile layer (theme)</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "closeFilterModal",
    "longname": "module:harbor-map/map-controller~closeFilterModal",
    "url": "module-harbor-map_map-controller.html#~closeFilterModal",
    "description": "<p>Closes the filter modal panel.</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "createVesselIcon",
    "longname": "module:harbor-map/map-controller~createVesselIcon",
    "url": "module-harbor-map_map-controller.html#~createVesselIcon",
    "description": "<p>Creates vessel icon with type and status classes</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "getVesselType",
    "longname": "module:harbor-map/map-controller~getVesselType",
    "url": "module-harbor-map_map-controller.html#~getVesselType",
    "description": "<p>Gets vessel type from capacity_type field</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "hideRouteVesselsPanel",
    "longname": "module:harbor-map/map-controller~hideRouteVesselsPanel",
    "url": "module-harbor-map_map-controller.html#~hideRouteVesselsPanel",
    "description": "<p>Hides the route vessels panel</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "initFilterModalDrag",
    "longname": "module:harbor-map/map-controller~initFilterModalDrag",
    "url": "module-harbor-map_map-controller.html#~initFilterModalDrag",
    "description": "<p>Initializes drag behavior for the filter modal.</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "onFilterModalDrag",
    "longname": "module:harbor-map/map-controller~onFilterModalDrag",
    "url": "module-harbor-map_map-controller.html#~onFilterModalDrag",
    "description": "<p>Handles filter modal drag movement.</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "onFilterModalDragEnd",
    "longname": "module:harbor-map/map-controller~onFilterModalDragEnd",
    "url": "module-harbor-map_map-controller.html#~onFilterModalDragEnd",
    "description": "<p>Handles filter modal drag end.</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "openFilterModal",
    "longname": "module:harbor-map/map-controller~openFilterModal",
    "url": "module-harbor-map_map-controller.html#~openFilterModal",
    "description": "<p>Opens the filter modal panel.\nPopulates dropdowns with current filter values and initializes drag behavior.</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "populateFilterModalDropdowns",
    "longname": "module:harbor-map/map-controller~populateFilterModalDropdowns",
    "url": "module-harbor-map_map-controller.html#~populateFilterModalDropdowns",
    "description": "<p>Populates the filter modal dropdowns with current values and options.\nCalled when modal opens to ensure data is fresh.</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "resetAllFilters",
    "longname": "module:harbor-map/map-controller~resetAllFilters",
    "url": "module-harbor-map_map-controller.html#~resetAllFilters",
    "description": "<p>Resets all filters to default values.</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "showRouteVesselsPanel",
    "longname": "module:harbor-map/map-controller~showRouteVesselsPanel",
    "url": "module-harbor-map_map-controller.html#~showRouteVesselsPanel",
    "description": "<p>Shows the route vessels panel with a list of all vessels on the selected route</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "showWeatherInfo",
    "longname": "module:harbor-map/map-controller~showWeatherInfo",
    "url": "module-harbor-map_map-controller.html#~showWeatherInfo",
    "description": "<p>Shows weather info popup for a location</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "toggleWeatherLayer",
    "longname": "module:harbor-map/map-controller~toggleWeatherLayer",
    "url": "module-harbor-map_map-controller.html#~toggleWeatherLayer",
    "description": "<p>Toggles weather overlay (Rain Radar or Cloud Cover)</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "updateDemandFilterDropdowns",
    "longname": "module:harbor-map/map-controller~updateDemandFilterDropdowns",
    "url": "module-harbor-map_map-controller.html#~updateDemandFilterDropdowns",
    "description": "<p>Updates demand filter dropdowns based on current port scope.\nPopulates the Max and Current demand dropdowns with options for the selected scope.</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "updateRouteDropdown",
    "longname": "module:harbor-map/map-controller~updateRouteDropdown",
    "url": "module-harbor-map_map-controller.html#~updateRouteDropdown",
    "description": "<p>Updates the route dropdown with port-pair groups\nGroups vessels by origin&lt;&gt;destination port pairs (e.g., &quot;DE HAM &lt;&gt; US NYC&quot;)</p>",
    "parent": "module:harbor-map/map-controller"
  },
  {
    "type": "method",
    "name": "initializePanelDrag",
    "longname": "module:harbor-map/panel-drag.initializePanelDrag",
    "url": "module-harbor-map_panel-drag.html#.initializePanelDrag",
    "description": "<p>Makes all detail panels draggable\nAdds drag handles to panel headers and enables drag &amp; drop\nDisabled on mobile devices</p>",
    "parent": "module:harbor-map/panel-drag"
  },
  {
    "type": "method",
    "name": "closePortPanel",
    "longname": "module:harbor-map/port-panel.closePortPanel",
    "url": "module-harbor-map_port-panel.html#.closePortPanel",
    "description": "<p>Closes port panel and returns to overview</p>",
    "parent": "module:harbor-map/port-panel"
  },
  {
    "type": "method",
    "name": "fetchAndUpdatePortDemand",
    "longname": "module:harbor-map/port-panel.fetchAndUpdatePortDemand",
    "url": "module-harbor-map_port-panel.html#.fetchAndUpdatePortDemand",
    "description": "<p>Fetches and updates demand data for a port\nCalled after showPortPanel to load demand asynchronously</p>",
    "parent": "module:harbor-map/port-panel"
  },
  {
    "type": "method",
    "name": "hidePortPanel",
    "longname": "module:harbor-map/port-panel.hidePortPanel",
    "url": "module-harbor-map_port-panel.html#.hidePortPanel",
    "description": "<p>Hides port detail panel</p>",
    "parent": "module:harbor-map/port-panel"
  },
  {
    "type": "method",
    "name": "selectVesselFromPort",
    "longname": "module:harbor-map/port-panel.selectVesselFromPort",
    "url": "module-harbor-map_port-panel.html#.selectVesselFromPort",
    "description": "<p>Selects a vessel from port panel vessel list\nCloses port panel and shows vessel panel</p>",
    "parent": "module:harbor-map/port-panel"
  },
  {
    "type": "method",
    "name": "showPortPanel",
    "longname": "module:harbor-map/port-panel.showPortPanel",
    "url": "module-harbor-map_port-panel.html#.showPortPanel",
    "description": "<p>Shows port detail panel with port information and vessel lists\nDisplays demand analytics and categorized vessels (in/to/from port + pending)</p>",
    "parent": "module:harbor-map/port-panel"
  },
  {
    "type": "method",
    "name": "loadPortAllianceData",
    "longname": "module:harbor-map/port-panel~loadPortAllianceData",
    "url": "module-harbor-map_port-panel.html#~loadPortAllianceData",
    "description": "<p>Loads alliance statistics for a port\nFetches top 3 alliances and user's alliance rank</p>",
    "parent": "module:harbor-map/port-panel"
  },
  {
    "type": "method",
    "name": "loadPortWeather",
    "longname": "module:harbor-map/port-panel~loadPortWeather",
    "url": "module-harbor-map_port-panel.html#~loadPortWeather",
    "description": "<p>Loads and displays weather data for port location\nFetches weather from Open-Meteo API and renders in overlay on port image</p>",
    "parent": "module:harbor-map/port-panel"
  },
  {
    "type": "method",
    "name": "openAllianceModal",
    "longname": "module:harbor-map/port-panel~openAllianceModal",
    "url": "module-harbor-map_port-panel.html#~openAllianceModal",
    "description": "<p>Opens alliance details modal</p>",
    "parent": "module:harbor-map/port-panel"
  },
  {
    "type": "method",
    "name": "renderDemandSection",
    "longname": "module:harbor-map/port-panel~renderDemandSection",
    "url": "module-harbor-map_port-panel.html#~renderDemandSection",
    "description": "<p>Renders demand analytics section for port\nShows REMAINING demand (demand - consumed) for container and tanker</p>",
    "parent": "module:harbor-map/port-panel"
  },
  {
    "type": "method",
    "name": "renderTypicalDemandSection",
    "longname": "module:harbor-map/port-panel~renderTypicalDemandSection",
    "url": "module-harbor-map_port-panel.html#~renderTypicalDemandSection",
    "description": "<p>Renders typical demand section showing Container vs Tanker percentages\nUses demand_policy data from port</p>",
    "parent": "module:harbor-map/port-panel"
  },
  {
    "type": "method",
    "name": "renderVesselList",
    "longname": "module:harbor-map/port-panel~renderVesselList",
    "url": "module-harbor-map_port-panel.html#~renderVesselList",
    "description": "<p>Renders vessel list for a category (in/to/from port)\nEach vessel is clickable to select it</p>",
    "parent": "module:harbor-map/port-panel"
  },
  {
    "type": "method",
    "name": "closeRoutePanel",
    "longname": "module:harbor-map/route-vessels-panel.closeRoutePanel",
    "url": "module-harbor-map_route-vessels-panel.html#.closeRoutePanel",
    "description": "<p>Closes the route panel and clears the route filter</p>",
    "parent": "module:harbor-map/route-vessels-panel"
  },
  {
    "type": "method",
    "name": "hideRoutePanel",
    "longname": "module:harbor-map/route-vessels-panel.hideRoutePanel",
    "url": "module-harbor-map_route-vessels-panel.html#.hideRoutePanel",
    "description": "<p>Hides the route vessels panel</p>",
    "parent": "module:harbor-map/route-vessels-panel"
  },
  {
    "type": "method",
    "name": "selectRouteVessel",
    "longname": "module:harbor-map/route-vessels-panel.selectRouteVessel",
    "url": "module-harbor-map_route-vessels-panel.html#.selectRouteVessel",
    "description": "<p>Selects a vessel from the route panel and opens its detail panel</p>",
    "parent": "module:harbor-map/route-vessels-panel"
  },
  {
    "type": "method",
    "name": "showRoutePanel",
    "longname": "module:harbor-map/route-vessels-panel.showRoutePanel",
    "url": "module-harbor-map_route-vessels-panel.html#.showRoutePanel",
    "description": "<p>Shows the route vessels panel with a list of vessels\nDisplays vessel name, status, ETA, and cargo summary</p>",
    "parent": "module:harbor-map/route-vessels-panel"
  },
  {
    "type": "method",
    "name": "storeVessels",
    "longname": "module:harbor-map/route-vessels-panel~storeVessels",
    "url": "module-harbor-map_route-vessels-panel.html#~storeVessels",
    "description": "<p>Stores vessels for later selection\nCalled internally by showRoutePanel</p>",
    "parent": "module:harbor-map/route-vessels-panel"
  },
  {
    "type": "method",
    "name": "closeVesselPanel",
    "longname": "module:harbor-map/vessel-panel.closeVesselPanel",
    "url": "module-harbor-map_vessel-panel.html#.closeVesselPanel",
    "description": "<p>Closes vessel panel and returns to overview</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "departVessel",
    "longname": "module:harbor-map/vessel-panel.departVessel",
    "url": "module-harbor-map_vessel-panel.html#.departVessel",
    "description": "<p>Departs vessel using queue system</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "exportHistoryFormat",
    "longname": "module:harbor-map/vessel-panel.exportHistoryFormat",
    "url": "module-harbor-map_vessel-panel.html#.exportHistoryFormat",
    "description": "<p>Export vessel history in specified format\nUses backend export endpoint (like autopilot logbook)</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "hideVesselPanel",
    "longname": "module:harbor-map/vessel-panel.hideVesselPanel",
    "url": "module-harbor-map_vessel-panel.html#.hideVesselPanel",
    "description": "<p>Hides vessel detail panel</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "isLocalDepartInProgress",
    "longname": "module:harbor-map/vessel-panel.isLocalDepartInProgress",
    "url": "module-harbor-map_vessel-panel.html#.isLocalDepartInProgress",
    "description": "<p>Checks if a local departure is in progress (queue not empty or processing)</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "refreshOpenVesselPanel",
    "longname": "module:harbor-map/vessel-panel.refreshOpenVesselPanel",
    "url": "module-harbor-map_vessel-panel.html#.refreshOpenVesselPanel",
    "description": "<p>Refreshes the open vessel panel with fresh data from the API.\nCalled when vessels are departed (autopilot or manual) to update status display.\nOnly refreshes if a vessel panel is currently open.</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "sellVesselFromPanel",
    "longname": "module:harbor-map/vessel-panel.sellVesselFromPanel",
    "url": "module-harbor-map_vessel-panel.html#.sellVesselFromPanel",
    "description": "<p>Sells a vessel from the vessel panel with confirmation dialog\nFetches actual sell price from API before showing confirmation</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "showVesselPanel",
    "longname": "module:harbor-map/vessel-panel.showVesselPanel",
    "url": "module-harbor-map_vessel-panel.html#.showVesselPanel",
    "description": "<p>Shows vessel detail panel with vessel information\nDisplays status, cargo, ETA, and loads trip history</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "startRenameVessel",
    "longname": "module:harbor-map/vessel-panel.startRenameVessel",
    "url": "module-harbor-map_vessel-panel.html#.startRenameVessel",
    "description": "<p>Start editing vessel name - switches to input mode</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "toggleExportMenu",
    "longname": "module:harbor-map/vessel-panel.toggleExportMenu",
    "url": "module-harbor-map_vessel-panel.html#.toggleExportMenu",
    "description": "<p>Toggle export menu visibility</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "updateVesselPanelDepartButtons",
    "longname": "module:harbor-map/vessel-panel.updateVesselPanelDepartButtons",
    "url": "module-harbor-map_vessel-panel.html#.updateVesselPanelDepartButtons",
    "description": "<p>Update all vessel panel depart buttons based on server lock state\nCalled from vessel-management.js when lock state changes</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "cancelVesselRename",
    "longname": "module:harbor-map/vessel-panel~cancelVesselRename",
    "url": "module-harbor-map_vessel-panel.html#~cancelVesselRename",
    "description": "<p>Cancel vessel rename - restore display mode</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "closeExportMenuOnClickOutside",
    "longname": "module:harbor-map/vessel-panel~closeExportMenuOnClickOutside",
    "url": "module-harbor-map_vessel-panel.html#~closeExportMenuOnClickOutside",
    "description": "<p>Closes export menu when clicking outside</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "formatLoadingStatusText",
    "longname": "module:harbor-map/vessel-panel~formatLoadingStatusText",
    "url": "module-harbor-map_vessel-panel.html#~formatLoadingStatusText",
    "description": "<p>Formats loading/unloading status with timer</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "formatTimeRemaining",
    "longname": "module:harbor-map/vessel-panel~formatTimeRemaining",
    "url": "module-harbor-map_vessel-panel.html#~formatTimeRemaining",
    "description": "<p>Formats time from seconds to human-readable string</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "formatVesselStatus",
    "longname": "module:harbor-map/vessel-panel~formatVesselStatus",
    "url": "module-harbor-map_vessel-panel.html#~formatVesselStatus",
    "description": "<p>Formats vessel status for display, including Bug-Using detection</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "getCountryFlag",
    "longname": "module:harbor-map/vessel-panel~getCountryFlag",
    "url": "module-harbor-map_vessel-panel.html#~getCountryFlag",
    "description": "<p>Converts country code to flag emoji</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "getLoadingStatus",
    "longname": "module:harbor-map/vessel-panel~getLoadingStatus",
    "url": "module-harbor-map_vessel-panel.html#~getLoadingStatus",
    "description": "<p>Gets loading/unloading status for a vessel</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "getPortCountryCode",
    "longname": "module:harbor-map/vessel-panel~getPortCountryCode",
    "url": "module-harbor-map_vessel-panel.html#~getPortCountryCode",
    "description": "<p>Gets country code for a port from map controller's current ports</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "loadRoutePortDemands",
    "longname": "module:harbor-map/vessel-panel~loadRoutePortDemands",
    "url": "module-harbor-map_vessel-panel.html#~loadRoutePortDemands",
    "description": "<p>Load and display port demands for route details\nFetches demand data for origin and destination ports</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "loadVesselHistory",
    "longname": "module:harbor-map/vessel-panel~loadVesselHistory",
    "url": "module-harbor-map_vessel-panel.html#~loadVesselHistory",
    "description": "<p>Loads and renders vessel trip history\nDisplays past trips with origin, destination, cargo, profit</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "loadVesselWeather",
    "longname": "module:harbor-map/vessel-panel~loadVesselWeather",
    "url": "module-harbor-map_vessel-panel.html#~loadVesselWeather",
    "description": "<p>Loads and displays weather data for vessel location\nFetches weather from Open-Meteo API and renders in overlay on vessel image</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "openRepairDialog",
    "longname": "module:harbor-map/vessel-panel~openRepairDialog",
    "url": "module-harbor-map_vessel-panel.html#~openRepairDialog",
    "description": "<p>Opens repair &amp; drydock dialog for a specific vessel</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "openVesselAppearanceEditor",
    "longname": "module:harbor-map/vessel-panel~openVesselAppearanceEditor",
    "url": "module-harbor-map_vessel-panel.html#~openVesselAppearanceEditor",
    "description": "<p>Opens the vessel appearance editor for a custom vessel</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "processDepartureQueue",
    "longname": "module:harbor-map/vessel-panel~processDepartureQueue",
    "url": "module-harbor-map_vessel-panel.html#~processDepartureQueue",
    "description": "<p>Processes the departure queue one vessel at a time</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "renderHistoryPage",
    "longname": "module:harbor-map/vessel-panel~renderHistoryPage",
    "url": "module-harbor-map_vessel-panel.html#~renderHistoryPage",
    "description": "<p>Renders a page of history entries\nShows HISTORY_PAGE_SIZE trips at a time</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "saveVesselRename",
    "longname": "module:harbor-map/vessel-panel~saveVesselRename",
    "url": "module-harbor-map_vessel-panel.html#~saveVesselRename",
    "description": "<p>Save vessel rename - call API and update display</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "setupInfiniteScroll",
    "longname": "module:harbor-map/vessel-panel~setupInfiniteScroll",
    "url": "module-harbor-map_vessel-panel.html#~setupInfiniteScroll",
    "description": "<p>Sets up infinite scroll for vessel history\nAutomatically loads more trips when scrolling near bottom</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "toggleParkVessel",
    "longname": "module:harbor-map/vessel-panel~toggleParkVessel",
    "url": "module-harbor-map_vessel-panel.html#~toggleParkVessel",
    "description": "<p>Toggles vessel parking status (park or resume)</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "updateVesselCardName",
    "longname": "module:harbor-map/vessel-panel~updateVesselCardName",
    "url": "module-harbor-map_vessel-panel.html#~updateVesselCardName",
    "description": "<p>Update vessel card name and image (for custom vessels with name in URL)</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "updateVesselNameInShipsMenu",
    "longname": "module:harbor-map/vessel-panel~updateVesselNameInShipsMenu",
    "url": "module-harbor-map_vessel-panel.html#~updateVesselNameInShipsMenu",
    "description": "<p>Update vessel name in ships menu (vessel-management overlay)</p>",
    "parent": "module:harbor-map/vessel-panel"
  },
  {
    "type": "method",
    "name": "deleteAllLogsConfirmed",
    "longname": "module:logbook.deleteAllLogsConfirmed",
    "url": "module-logbook.html#.deleteAllLogsConfirmed",
    "description": "<p>Deletes all logs for the current user\nCalled from settings module</p>",
    "parent": "module:logbook"
  },
  {
    "type": "method",
    "name": "getLogFileSize",
    "longname": "module:logbook.getLogFileSize",
    "url": "module-logbook.html#.getLogFileSize",
    "description": "<p>Fetches and returns current log file size\nCalled from settings module</p>",
    "parent": "module:logbook"
  },
  {
    "type": "method",
    "name": "initLogbook",
    "longname": "module:logbook.initLogbook",
    "url": "module-logbook.html#.initLogbook",
    "description": "<p>Initializes the logbook module\nSets up event listeners and loads initial data</p>",
    "parent": "module:logbook"
  },
  {
    "type": "method",
    "name": "prependLogEntry",
    "longname": "module:logbook.prependLogEntry",
    "url": "module-logbook.html#.prependLogEntry",
    "description": "<p>Prepends a new log entry to the table (called via WebSocket)\nOptimized: Only adds the single new entry DOM element, no full re-render</p>",
    "parent": "module:logbook"
  },
  {
    "type": "method",
    "name": "applyFiltersToEntries",
    "longname": "module:logbook~applyFiltersToEntries",
    "url": "module-logbook.html#~applyFiltersToEntries",
    "description": "<p>Applies current filters to log entries</p>",
    "parent": "module:logbook"
  },
  {
    "type": "method",
    "name": "convertActionFilterToBackend",
    "longname": "module:logbook~convertActionFilterToBackend",
    "url": "module-logbook.html#~convertActionFilterToBackend",
    "description": "<p>Converts combined action filter to backend-compatible filters</p>",
    "parent": "module:logbook"
  },
  {
    "type": "method",
    "name": "createLogEntryHTML",
    "longname": "module:logbook~createLogEntryHTML",
    "url": "module-logbook.html#~createLogEntryHTML",
    "description": "<p>Creates HTML for a single log entry (main row + details row)</p>",
    "parent": "module:logbook"
  },
  {
    "type": "method",
    "name": "ensureScrollable",
    "longname": "module:logbook~ensureScrollable",
    "url": "module-logbook.html#~ensureScrollable",
    "description": "<p>Ensures the container has enough content to be scrollable.\nIf content doesn't fill the container, load more entries until scrollable or no more entries.</p>",
    "parent": "module:logbook"
  },
  {
    "type": "method",
    "name": "exportLogs",
    "longname": "module:logbook~exportLogs",
    "url": "module-logbook.html#~exportLogs",
    "description": "<p>Exports logs in specified format</p>",
    "parent": "module:logbook"
  },
  {
    "type": "method",
    "name": "formatDetails",
    "longname": "module:logbook~formatDetails",
    "url": "module-logbook.html#~formatDetails",
    "description": "<p>Formats details object as nested HTML</p>",
    "parent": "module:logbook"
  },
  {
    "type": "method",
    "name": "formatTimestamp",
    "longname": "module:logbook~formatTimestamp",
    "url": "module-logbook.html#~formatTimestamp",
    "description": "<p>Formats timestamp for display with date and time on separate lines</p>",
    "parent": "module:logbook"
  },
  {
    "type": "method",
    "name": "getTransactionType",
    "longname": "module:logbook~getTransactionType",
    "url": "module-logbook.html#~getTransactionType",
    "description": "<p>Determines transaction type from entry summary</p>",
    "parent": "module:logbook"
  },
  {
    "type": "method",
    "name": "loadLogs",
    "longname": "module:logbook~loadLogs",
    "url": "module-logbook.html#~loadLogs",
    "description": "<p>Loads log entries from server with current filters</p>",
    "parent": "module:logbook"
  },
  {
    "type": "method",
    "name": "renderLogPage",
    "longname": "module:logbook~renderLogPage",
    "url": "module-logbook.html#~renderLogPage",
    "description": "<p>Renders a page of log entries (LOGBOOK_PAGE_SIZE at a time)\nAppends entries to tbody without replacing existing ones</p>",
    "parent": "module:logbook"
  },
  {
    "type": "method",
    "name": "renderLogTable",
    "longname": "module:logbook~renderLogTable",
    "url": "module-logbook.html#~renderLogTable",
    "description": "<p>Renders the log table with current entries (using lazy loading)</p>",
    "parent": "module:logbook"
  },
  {
    "type": "method",
    "name": "setupEventListeners",
    "longname": "module:logbook~setupEventListeners",
    "url": "module-logbook.html#~setupEventListeners",
    "description": "<p>Sets up event listeners for expand/collapse functionality</p>",
    "parent": "module:logbook"
  },
  {
    "type": "method",
    "name": "updateActionFilter",
    "longname": "module:logbook~updateActionFilter",
    "url": "module-logbook.html#~updateActionFilter",
    "description": "<p>Updates action filter dropdown with unique action names from logs</p>",
    "parent": "module:logbook"
  },
  {
    "type": "method",
    "name": "updateLogCount",
    "longname": "module:logbook~updateLogCount",
    "url": "module-logbook.html#~updateLogCount",
    "description": "<p>Updates the log entry count display</p>",
    "parent": "module:logbook"
  },
  {
    "type": "method",
    "name": "closeAllModalOverlays",
    "longname": "module:map-icon-bar.closeAllModalOverlays",
    "url": "module-map-icon-bar.html#.closeAllModalOverlays",
    "description": "<p>Close all modal overlays\nCalled before opening a new modal to ensure only one is open at a time\nExported on window for use by other modules (Leaflet controls, etc.)</p>",
    "parent": "module:map-icon-bar"
  },
  {
    "type": "method",
    "name": "initializeMapIconBar",
    "longname": "module:map-icon-bar.initializeMapIconBar",
    "url": "module-map-icon-bar.html#.initializeMapIconBar",
    "description": "<p>Initialize map icon bar</p>\n<ul>\n<li>Wire up click handlers to call functions directly</li>\n<li>No more hidden buttons or MutationObserver syncing</li>\n</ul>",
    "parent": "module:map-icon-bar"
  },
  {
    "type": "method",
    "name": "handleIconAction",
    "longname": "module:map-icon-bar~handleIconAction",
    "url": "module-map-icon-bar.html#~handleIconAction",
    "description": "<p>Handle icon click action</p>",
    "parent": "module:map-icon-bar"
  },
  {
    "type": "method",
    "name": "closeAllChats",
    "longname": "module:messenger.closeAllChats",
    "url": "module-messenger.html#.closeAllChats",
    "description": "<p>Closes the all chats overlay.</p>",
    "parent": "module:messenger"
  },
  {
    "type": "method",
    "name": "closeChatSelection",
    "longname": "module:messenger.closeChatSelection",
    "url": "module-messenger.html#.closeChatSelection",
    "description": "<p>Closes chat selection overlay and clears selection state.</p>",
    "parent": "module:messenger"
  },
  {
    "type": "method",
    "name": "openMessenger",
    "longname": "module:messenger.openMessenger",
    "url": "module-messenger.html#.openMessenger",
    "description": "<p>Opens messenger interface for a specific user or system notifications.\nFetches all conversations and displays selection overlay or system message list.</p>\n<p>Special Handling:</p>\n<ul>\n<li>If targetCompanyName is &quot;Gameplay&quot;, shows system notifications list</li>\n<li>Otherwise shows all conversations with the specified user</li>\n<li>Allows creating new conversation if none exist</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Fetches all messenger chats from API</li>\n<li>Updates allPrivateChats module variable</li>\n<li>Shows chat selection overlay</li>\n</ul>",
    "parent": "module:messenger"
  },
  {
    "type": "method",
    "name": "openNewChat",
    "longname": "module:messenger.openNewChat",
    "url": "module-messenger.html#.openNewChat",
    "description": "<p>Opens interface for creating a new conversation with a user.\nDisplays messenger overlay with subject input and empty message feed.</p>\n<p>Side Effects:</p>\n<ul>\n<li>Updates currentPrivateChat state with new chat parameters</li>\n<li>Shows messenger overlay</li>\n<li>Displays subject input field</li>\n<li>Focuses subject input for user entry</li>\n</ul>",
    "parent": "module:messenger"
  },
  {
    "type": "method",
    "name": "showAllChats",
    "longname": "module:messenger.showAllChats",
    "url": "module-messenger.html#.showAllChats",
    "description": "<p>Displays overlay showing all private conversations sorted by recent activity.\nProvides unified view of all chats with delete functionality per conversation.</p>\n<p>Features:</p>\n<ul>\n<li>Sorted by most recent message timestamp</li>\n<li>Shows message preview and timestamp</li>\n<li>Displays unread indicator badge</li>\n<li>Trash icon per chat for deletion</li>\n<li>Clicking chat opens full conversation</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Fetches all chats from API</li>\n<li>Shows all chats overlay</li>\n<li>Registers click handlers for each chat and delete button</li>\n</ul>",
    "parent": "module:messenger"
  },
  {
    "type": "method",
    "name": "updateUnreadBadge",
    "longname": "module:messenger.updateUnreadBadge",
    "url": "module-messenger.html#.updateUnreadBadge",
    "description": "<p>Updates the unread message badge count in the UI.\nShows count of unread user messages (excludes system notifications).</p>\n<p>Badge Behavior:</p>\n<ul>\n<li>Visible only when unread count &gt; 0</li>\n<li>Hidden when no unread messages</li>\n<li>Only counts non-system chats</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Fetches all messenger chats from API</li>\n<li>Updates badge visibility and count</li>\n</ul>",
    "parent": "module:messenger"
  },
  {
    "type": "method",
    "name": "formatTimestamp",
    "longname": "module:messenger~formatTimestamp",
    "url": "module-messenger.html#~formatTimestamp",
    "description": "<p>Formats timestamp using browser locale without timezone.</p>",
    "parent": "module:messenger"
  },
  {
    "type": "method",
    "name": "loadPrivateMessages",
    "longname": "module:messenger~loadPrivateMessages",
    "url": "module-messenger.html#~loadPrivateMessages",
    "description": "<p>Loads and displays messages for a specific conversation.\nFetches message history from API and renders in bubble format.</p>",
    "parent": "module:messenger"
  },
  {
    "type": "method",
    "name": "stopHijackingPolling",
    "longname": "module:messenger~stopHijackingPolling",
    "url": "module-messenger.html#~stopHijackingPolling",
    "description": "<p>Stop hijacking case polling.</p>",
    "parent": "module:messenger"
  },
  {
    "type": "method",
    "name": "acceptHijackingPrice",
    "longname": "module:messenger~window.acceptHijackingPrice",
    "url": "module-messenger-window.html#.acceptHijackingPrice",
    "description": "<p>Hijacking handler: Accept the full ransom price</p>",
    "parent": "module:messenger~window"
  },
  {
    "type": "method",
    "name": "cancelNegotiate",
    "longname": "module:messenger~window.cancelNegotiate",
    "url": "module-messenger-window.html#.cancelNegotiate",
    "description": "<p>Hijacking handler: Cancel negotiation and return to main actions</p>",
    "parent": "module:messenger~window"
  },
  {
    "type": "method",
    "name": "proposeHijackingPrice",
    "longname": "module:messenger~window.proposeHijackingPrice",
    "url": "module-messenger-window.html#.proposeHijackingPrice",
    "description": "<p>Hijacking handler: Propose selected counter-offer</p>",
    "parent": "module:messenger~window"
  },
  {
    "type": "method",
    "name": "showNegotiateOptions",
    "longname": "module:messenger~window.showNegotiateOptions",
    "url": "module-messenger-window.html#.showNegotiateOptions",
    "description": "<p>Hijacking handler: Show negotiation options</p>",
    "parent": "module:messenger~window"
  },
  {
    "type": "method",
    "name": "closeHijackingInbox",
    "longname": "module:public/js/modules/hijacking.closeHijackingInbox",
    "url": "module-public_js_modules_hijacking.html#.closeHijackingInbox",
    "description": "<p>Closes the hijacking inbox overlay.</p>",
    "parent": "module:public/js/modules/hijacking"
  },
  {
    "type": "method",
    "name": "openHijackingInbox",
    "longname": "module:public/js/modules/hijacking.openHijackingInbox",
    "url": "module-public_js_modules_hijacking.html#.openHijackingInbox",
    "description": "<p>Opens the hijacking inbox overlay.\nFetches all cases and displays them in a list.</p>",
    "parent": "module:public/js/modules/hijacking"
  },
  {
    "type": "method",
    "name": "updateHijackedVesselsDisplay",
    "longname": "module:public/js/modules/hijacking.updateHijackedVesselsDisplay",
    "url": "module-public_js_modules_hijacking.html#.updateHijackedVesselsDisplay",
    "description": "<p>Updates the header hijacked vessels display.\nShows pirate emoji with count and glow effect.</p>",
    "parent": "module:public/js/modules/hijacking"
  },
  {
    "type": "method",
    "name": "updateHijackingBadge",
    "longname": "module:public/js/modules/hijacking.updateHijackingBadge",
    "url": "module-public_js_modules_hijacking.html#.updateHijackingBadge",
    "description": "<p>Updates the hijacking badge count.\nCalled by WebSocket updates and after deletions.</p>",
    "parent": "module:public/js/modules/hijacking"
  },
  {
    "type": "method",
    "name": "deleteCase",
    "longname": "module:public/js/modules/hijacking~deleteCase",
    "url": "module-public_js_modules_hijacking.html#~deleteCase",
    "description": "<p>Deletes a CLOSED hijacking case.\nShows confirmation dialog before deletion.</p>",
    "parent": "module:public/js/modules/hijacking"
  },
  {
    "type": "method",
    "name": "escapeHtml",
    "longname": "module:public/js/modules/hijacking~escapeHtml",
    "url": "module-public_js_modules_hijacking.html#~escapeHtml",
    "description": "<p>Escapes HTML to prevent XSS.</p>",
    "parent": "module:public/js/modules/hijacking"
  },
  {
    "type": "method",
    "name": "formatTimestamp",
    "longname": "module:public/js/modules/hijacking~formatTimestamp",
    "url": "module-public_js_modules_hijacking.html#~formatTimestamp",
    "description": "<p>Formats Unix timestamp to readable date/time.</p>",
    "parent": "module:public/js/modules/hijacking"
  },
  {
    "type": "method",
    "name": "openCaseDetails",
    "longname": "module:public/js/modules/hijacking~openCaseDetails",
    "url": "module-public_js_modules_hijacking.html#~openCaseDetails",
    "description": "<p>Opens full case details in messenger overlay.\nReuses existing hijacking message display logic.</p>",
    "parent": "module:public/js/modules/hijacking"
  },
  {
    "type": "method",
    "name": "refreshHijackingBadge",
    "longname": "module:public/js/modules/hijacking~refreshHijackingBadge",
    "url": "module-public_js_modules_hijacking.html#~refreshHijackingBadge",
    "description": "<p>Refreshes the hijacking badge by fetching current case counts.\nUsed after manual deletions.</p>",
    "parent": "module:public/js/modules/hijacking"
  },
  {
    "type": "method",
    "name": "renderCaseList",
    "longname": "module:public/js/modules/hijacking~renderCaseList",
    "url": "module-public_js_modules_hijacking.html#~renderCaseList",
    "description": "<p>Renders the hijacking case list.</p>",
    "parent": "module:public/js/modules/hijacking"
  },
  {
    "type": "method",
    "name": "closeRoutePlanner",
    "longname": "module:route-planner.closeRoutePlanner",
    "url": "module-route-planner.html#.closeRoutePlanner",
    "description": "<p>Close the route planner panel</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "getPlanningVesselId",
    "longname": "module:route-planner.getPlanningVesselId",
    "url": "module-route-planner.html#.getPlanningVesselId",
    "description": "<p>Get current planning vessel ID</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "initializeRoutePlanner",
    "longname": "module:route-planner.initializeRoutePlanner",
    "url": "module-route-planner.html#.initializeRoutePlanner",
    "description": "<p>Initialize the route planner panel</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "isPlanningMode",
    "longname": "module:route-planner.isPlanningMode",
    "url": "module-route-planner.html#.isPlanningMode",
    "description": "<p>Check if planning mode is active</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "openRoutePlanner",
    "longname": "module:route-planner.openRoutePlanner",
    "url": "module-route-planner.html#.openRoutePlanner",
    "description": "<p>Open the route planner panel for a vessel</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "restorePlanningState",
    "longname": "module:route-planner.restorePlanningState",
    "url": "module-route-planner.html#.restorePlanningState",
    "description": "<p>Restore planning state after port panel is closed\nRe-highlights ports and shows vessel panel</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "selectPortForRoute",
    "longname": "module:route-planner.selectPortForRoute",
    "url": "module-route-planner.html#.selectPortForRoute",
    "description": "<p>Select a port for route planning (called from map click)</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "applyPortFilter",
    "longname": "module:route-planner~applyPortFilter",
    "url": "module-route-planner.html#~applyPortFilter",
    "description": "<p>Apply port filter on map</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "calculateFuelConsumption",
    "longname": "module:route-planner~calculateFuelConsumption",
    "url": "module-route-planner.html#~calculateFuelConsumption",
    "description": "<p>Calculate Fuel Consumption\nFormula: fuel = (capacity / 2000) * distance * sqrt(speed) / 20 * fuel_factor</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "calculateGuardsCost",
    "longname": "module:route-planner~calculateGuardsCost",
    "url": "module-route-planner.html#~calculateGuardsCost",
    "description": "<p>Calculate Guards Cost\nFormula: guardsCost = guards * 700</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "calculateHarborFeeRange",
    "longname": "module:route-planner~calculateHarborFeeRange",
    "url": "module-route-planner.html#~calculateHarborFeeRange",
    "description": "<p>Calculate Harbor Fee MIN/MAX per TEU\nFormula: MIN = 17000 / distance\nMAX = (17000 / distance) * 27000^0.2 = (17000 / distance) * 7.697</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "calculateRemainingDemand",
    "longname": "module:route-planner~calculateRemainingDemand",
    "url": "module-route-planner.html#~calculateRemainingDemand",
    "description": "<p>Calculate remaining demand (demand - consumed)</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "calculateRouteCreationFee",
    "longname": "module:route-planner~calculateRouteCreationFee",
    "url": "module-route-planner.html#~calculateRouteCreationFee",
    "description": "<p>Calculate Route Creation Fee\nFormula: routeFee = 40 * capacity + 10 * distance</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "calculateTravelTime",
    "longname": "module:route-planner~calculateTravelTime",
    "url": "module-route-planner.html#~calculateTravelTime",
    "description": "<p>Calculate Travel Time\nFormula: base_time = 600 + 6 * min(200, distance)\nif distance &gt; 200: time = base_time + ((distance - 200) / speed) * 75</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "clearRouteSelection",
    "longname": "module:route-planner~clearRouteSelection",
    "url": "module-route-planner.html#~clearRouteSelection",
    "description": "<p>Clear the current route selection and reset to vessel-only view</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "createRoute",
    "longname": "module:route-planner~createRoute",
    "url": "module-route-planner.html#~createRoute",
    "description": "<p>Create route via API</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "fetchAndDisplayDemand",
    "longname": "module:route-planner~fetchAndDisplayDemand",
    "url": "module-route-planner.html#~fetchAndDisplayDemand",
    "description": "<p>Fetch port demand data and update display for BOTH origin and destination\nUses /api/route/get-port-demand which works for ALL ports (not just assigned)</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "fetchRouteData",
    "longname": "module:route-planner~fetchRouteData",
    "url": "module-route-planner.html#~fetchRouteData",
    "description": "<p>Fetch route data between current vessel location and destination</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "fetchRouteTabDemand",
    "longname": "module:route-planner~fetchRouteTabDemand",
    "url": "module-route-planner.html#~fetchRouteTabDemand",
    "description": "<p>Fetch and display demand for Route tab (current route)</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "formatDemandCell",
    "longname": "module:route-planner~formatDemandCell",
    "url": "module-route-planner.html#~formatDemandCell",
    "description": "<p>Format demand for table cell (compact: &quot;1,234 / 5,678&quot;)</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "formatPortName",
    "longname": "module:route-planner~formatPortName",
    "url": "module-route-planner.html#~formatPortName",
    "description": "<p>Format port name</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "formatTravelTime",
    "longname": "module:route-planner~formatTravelTime",
    "url": "module-route-planner.html#~formatTravelTime",
    "description": "<p>Format seconds to HH:MM:SS</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "loadSuggestedRoute",
    "longname": "module:route-planner~loadSuggestedRoute",
    "url": "module-route-planner.html#~loadSuggestedRoute",
    "description": "<p>Load suggested route from API\nResponse structure: data.suggested.routes[0] contains the route with destination port</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "loadVesselPorts",
    "longname": "module:route-planner~loadVesselPorts",
    "url": "module-route-planner.html#~loadVesselPorts",
    "description": "<p>Load vessel ports from API</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "saveRouteChanges",
    "longname": "module:route-planner~saveRouteChanges",
    "url": "module-route-planner.html#~saveRouteChanges",
    "description": "<p>Save route changes (speed/guards)\nUses POST /api/route/update-route-data to update existing route settings</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "showError",
    "longname": "module:route-planner~showError",
    "url": "module-route-planner.html#~showError",
    "description": "<p>Show error message</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "switchTab",
    "longname": "module:route-planner~switchTab",
    "url": "module-route-planner.html#~switchTab",
    "description": "<p>Switch between tabs</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "updateDemandDisplay",
    "longname": "module:route-planner~updateDemandDisplay",
    "url": "module-route-planner.html#~updateDemandDisplay",
    "description": "<p>Update demand display elements in the table</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "updatePortsGuardsDisplay",
    "longname": "module:route-planner~updatePortsGuardsDisplay",
    "url": "module-route-planner.html#~updatePortsGuardsDisplay",
    "description": "<p>Update guards display and cost (Ports Tab)</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "updatePortsSpeedDisplay",
    "longname": "module:route-planner~updatePortsSpeedDisplay",
    "url": "module-route-planner.html#~updatePortsSpeedDisplay",
    "description": "<p>Update speed display and recalculate formulas (Ports Tab)</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "updateRouteTabDemandDisplay",
    "longname": "module:route-planner~updateRouteTabDemandDisplay",
    "url": "module-route-planner.html#~updateRouteTabDemandDisplay",
    "description": "<p>Update Route Tab demand display elements\nUses data-route-demand attributes to differentiate from Ports tab</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "updateRouteTabVisibility",
    "longname": "module:route-planner~updateRouteTabVisibility",
    "url": "module-route-planner.html#~updateRouteTabVisibility",
    "description": "<p>Update Route tab visibility based on whether vessel has active route</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "updateRouteTabWithCurrentRoute",
    "longname": "module:route-planner~updateRouteTabWithCurrentRoute",
    "url": "module-route-planner.html#~updateRouteTabWithCurrentRoute",
    "description": "<p>Populate Route tab with current vessel route info</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "updateSelectedPortDisplay",
    "longname": "module:route-planner~updateSelectedPortDisplay",
    "url": "module-route-planner.html#~updateSelectedPortDisplay",
    "description": "<p>Update the selected port info display</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "updateSliderDisplays",
    "longname": "module:route-planner~updateSliderDisplays",
    "url": "module-route-planner.html#~updateSliderDisplays",
    "description": "<p>Update slider value displays (Route Tab)</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "updateVesselCapacityDisplay",
    "longname": "module:route-planner~updateVesselCapacityDisplay",
    "url": "module-route-planner.html#~updateVesselCapacityDisplay",
    "description": "<p>Update vessel capacity display in route planner\nShows total capacity with breakdown in parentheses on one line</p>",
    "parent": "module:route-planner"
  },
  {
    "type": "method",
    "name": "aggregateRansomPayments",
    "longname": "module:server/analytics/aggregator~aggregateRansomPayments",
    "url": "module-server_analytics_aggregator.html#~aggregateRansomPayments",
    "description": "<p>Aggregate ransom payments from audit log by route.\nReturns total ransom paid and incident count per route.</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "calculateRouteHijackCounts",
    "longname": "module:server/analytics/aggregator~calculateRouteHijackCounts",
    "url": "module-server_analytics_aggregator.html#~calculateRouteHijackCounts",
    "description": "<p>Calculate actual hijacking counts per route from logbook data.\nMatches hijacking cases to departures by vessel name and timestamp.\nReturns a Map of &quot;origin&lt;&gt;destination&quot; -&gt; hijack count</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "calculateWeightedAverage",
    "longname": "module:server/analytics/aggregator~calculateWeightedAverage",
    "url": "module-server_analytics_aggregator.html#~calculateWeightedAverage",
    "description": "<p>Calculate weighted average price from purchase logs</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "fetchGameHijackingRisks",
    "longname": "module:server/analytics/aggregator~fetchGameHijackingRisks",
    "url": "module-server_analytics_aggregator.html#~fetchGameHijackingRisks",
    "description": "<p>Get hijacking risk percentages from stored vessel history data.\nRoutes are collected from vessel history sync which captures hijacking_risk per route.\nUI should only read from stored data - background sync keeps it updated.</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "filterByDays",
    "longname": "module:server/analytics/aggregator~filterByDays",
    "url": "module-server_analytics_aggregator.html#~filterByDays",
    "description": "<p>Filter log entries by time range</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "filterByType",
    "longname": "module:server/analytics/aggregator~filterByType",
    "url": "module-server_analytics_aggregator.html#~filterByType",
    "description": "<p>Filter log entries by autopilot type</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "formatRouteDisplay",
    "longname": "module:server/analytics/aggregator~formatRouteDisplay",
    "url": "module-server_analytics_aggregator.html#~formatRouteDisplay",
    "description": "<p>Format route display like &quot;DE HAM &lt;&gt; NL RTM&quot;</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "getActionTypes",
    "longname": "module:server/analytics/aggregator~getActionTypes",
    "url": "module-server_analytics_aggregator.html#~getActionTypes",
    "description": "<p>Get all action types from the log (for filtering UI)</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "getAuditLogPath",
    "longname": "module:server/analytics/aggregator~getAuditLogPath",
    "url": "module-server_analytics_aggregator.html#~getAuditLogPath",
    "description": "<p>Get audit log file path for a user</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "getContributionAnalysis",
    "longname": "module:server/analytics/aggregator~getContributionAnalysis",
    "url": "module-server_analytics_aggregator.html#~getContributionAnalysis",
    "description": "<p>Get contribution analysis</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "getDailyRevenueTrend",
    "longname": "module:server/analytics/aggregator~getDailyRevenueTrend",
    "url": "module-server_analytics_aggregator.html#~getDailyRevenueTrend",
    "description": "<p>Get daily revenue trend</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "getDetailedExpenses",
    "longname": "module:server/analytics/aggregator~getDetailedExpenses",
    "url": "module-server_analytics_aggregator.html#~getDetailedExpenses",
    "description": "<p>Get detailed expense breakdown (all log categories)</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "getFilteredLogs",
    "longname": "module:server/analytics/aggregator~getFilteredLogs",
    "url": "module-server_analytics_aggregator.html#~getFilteredLogs",
    "description": "<p>Get raw log entries with optional filtering</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "getHarborFeeAnalysis",
    "longname": "module:server/analytics/aggregator~getHarborFeeAnalysis",
    "url": "module-server_analytics_aggregator.html#~getHarborFeeAnalysis",
    "description": "<p>Get harbor fee analysis by destination</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "getMergedDepartures",
    "longname": "module:server/analytics/aggregator~getMergedDepartures",
    "url": "module-server_analytics_aggregator.html#~getMergedDepartures",
    "description": "<p>Get merged departure logs combining local autopilot logs with Game API history\nStrategy:</p>\n<ul>\n<li>Before first local log: use only Game Departure data</li>\n<li>After first local log: use both, deduplicate by vessel+timestamp (within 5 min window)</li>\n</ul>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "getMergedOperationsSummary",
    "longname": "module:server/analytics/aggregator~getMergedOperationsSummary",
    "url": "module-server_analytics_aggregator.html#~getMergedOperationsSummary",
    "description": "<p>Get operations summary from merged departure data</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "getMergedSummary",
    "longname": "module:server/analytics/aggregator~getMergedSummary",
    "url": "module-server_analytics_aggregator.html#~getMergedSummary",
    "description": "<p>Get merged summary combining game transactions with local autopilot data\nGame transactions are the PRIMARY source for financial data (most complete)\nLocal autopilot logs provide additional detail (vessel names, routes, contribution per vessel)</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "getPurchaseAnalysis",
    "longname": "module:server/analytics/aggregator~getPurchaseAnalysis",
    "url": "module-server_analytics_aggregator.html#~getPurchaseAnalysis",
    "description": "<p>Get fuel and CO2 purchase analysis</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "getRouteContribution",
    "longname": "module:server/analytics/aggregator~getRouteContribution",
    "url": "module-server_analytics_aggregator.html#~getRouteContribution",
    "description": "<p>Get route contribution analysis</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "getRouteProfitability",
    "longname": "module:server/analytics/aggregator~getRouteProfitability",
    "url": "module-server_analytics_aggregator.html#~getRouteProfitability",
    "description": "<p>Get route profitability analysis</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "getRouteProfitabilityMerged",
    "longname": "module:server/analytics/aggregator~getRouteProfitabilityMerged",
    "url": "module-server_analytics_aggregator.html#~getRouteProfitabilityMerged",
    "description": "<p>Get route profitability using merged departure data (local + game history)</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "getRouteProfitabilityWithContribution",
    "longname": "module:server/analytics/aggregator~getRouteProfitabilityWithContribution",
    "url": "module-server_analytics_aggregator.html#~getRouteProfitabilityWithContribution",
    "description": "<p>Get route profitability with contribution from merged data (local + game history)\nAlso includes active vessel counts per route</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "getTripDataPath",
    "longname": "module:server/analytics/aggregator~getTripDataPath",
    "url": "module-server_analytics_aggregator.html#~getTripDataPath",
    "description": "<p>Get trip data file path for a user</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "getVesselNameFromHijackHistory",
    "longname": "module:server/analytics/aggregator~getVesselNameFromHijackHistory",
    "url": "module-server_analytics_aggregator.html#~getVesselNameFromHijackHistory",
    "description": "<p>Load vessel_name from hijack_history file as fallback</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "getVesselPerformance",
    "longname": "module:server/analytics/aggregator~getVesselPerformance",
    "url": "module-server_analytics_aggregator.html#~getVesselPerformance",
    "description": "<p>Get vessel performance metrics</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "getVesselPerformanceMerged",
    "longname": "module:server/analytics/aggregator~getVesselPerformanceMerged",
    "url": "module-server_analytics_aggregator.html#~getVesselPerformanceMerged",
    "description": "<p>Get vessel performance using merged departure data (local + game history)</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "getVesselPerformanceWithContribution",
    "longname": "module:server/analytics/aggregator~getVesselPerformanceWithContribution",
    "url": "module-server_analytics_aggregator.html#~getVesselPerformanceWithContribution",
    "description": "<p>Get vessel performance with contribution from merged data (local + game history)</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "getVesselsByRoute",
    "longname": "module:server/analytics/aggregator~getVesselsByRoute",
    "url": "module-server_analytics_aggregator.html#~getVesselsByRoute",
    "description": "<p>Get vessel performance for a specific route</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "getWeeklySummary",
    "longname": "module:server/analytics/aggregator~getWeeklySummary",
    "url": "module-server_analytics_aggregator.html#~getWeeklySummary",
    "description": "<p>Get weekly summary for a user</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "isAutopilotTransaction",
    "longname": "module:server/analytics/aggregator~isAutopilotTransaction",
    "url": "module-server_analytics_aggregator.html#~isAutopilotTransaction",
    "description": "<p>Check if a game transaction was triggered by autopilot\nMatches game transaction timestamp with audit log entries</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "loadAuditLog",
    "longname": "module:server/analytics/aggregator~loadAuditLog",
    "url": "module-server_analytics_aggregator.html#~loadAuditLog",
    "description": "<p>Load audit log for a user (cached for 2 seconds to avoid duplicate reads)</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "loadTripData",
    "longname": "module:server/analytics/aggregator~loadTripData",
    "url": "module-server_analytics_aggregator.html#~loadTripData",
    "description": "<p>Load trip data for a user (cached for 2 seconds to avoid duplicate reads)</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "mapContextToAutopilotType",
    "longname": "module:server/analytics/aggregator~mapContextToAutopilotType",
    "url": "module-server_analytics_aggregator.html#~mapContextToAutopilotType",
    "description": "<p>Map game transaction context to audit log autopilot types\nReturns the Auto- type that would match this game context</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "mapContextToCategory",
    "longname": "module:server/analytics/aggregator~mapContextToCategory",
    "url": "module-server_analytics_aggregator.html#~mapContextToCategory",
    "description": "<p>Map game transaction context to expense category</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "normalizeRouteKey",
    "longname": "module:server/analytics/aggregator~normalizeRouteKey",
    "url": "module-server_analytics_aggregator.html#~normalizeRouteKey",
    "description": "<p>Normalize route key to canonical form (alphabetically sorted)\nThis ensures A&lt;&gt;B and B&lt;&gt;A are treated as the same route</p>",
    "parent": "module:server/analytics/aggregator"
  },
  {
    "type": "method",
    "name": "cleanupOldStats",
    "longname": "module:server/analytics/api-stats-store~cleanupOldStats",
    "url": "module-server_analytics_api-stats-store.html#~cleanupOldStats",
    "description": "<p>Delete stats older than N days</p>",
    "parent": "module:server/analytics/api-stats-store"
  },
  {
    "type": "method",
    "name": "ensureDir",
    "longname": "module:server/analytics/api-stats-store~ensureDir",
    "url": "module-server_analytics_api-stats-store.html#~ensureDir",
    "description": "<p>Ensure stats directory exists</p>",
    "parent": "module:server/analytics/api-stats-store"
  },
  {
    "type": "method",
    "name": "flushBuffer",
    "longname": "module:server/analytics/api-stats-store~flushBuffer",
    "url": "module-server_analytics_api-stats-store.html#~flushBuffer",
    "description": "<p>Flush buffer to disk</p>",
    "parent": "module:server/analytics/api-stats-store"
  },
  {
    "type": "method",
    "name": "getAvailableDates",
    "longname": "module:server/analytics/api-stats-store~getAvailableDates",
    "url": "module-server_analytics_api-stats-store.html#~getAvailableDates",
    "description": "<p>Get list of available stat files (for data retention UI)</p>",
    "parent": "module:server/analytics/api-stats-store"
  },
  {
    "type": "method",
    "name": "getCurrentMinuteKey",
    "longname": "module:server/analytics/api-stats-store~getCurrentMinuteKey",
    "url": "module-server_analytics_api-stats-store.html#~getCurrentMinuteKey",
    "description": "<p>Get current minute key (YYYY-MM-DD HH:mm)</p>",
    "parent": "module:server/analytics/api-stats-store"
  },
  {
    "type": "method",
    "name": "getHourlyStats",
    "longname": "module:server/analytics/api-stats-store~getHourlyStats",
    "url": "module-server_analytics_api-stats-store.html#~getHourlyStats",
    "description": "<p>Get aggregated stats by hour for charting</p>",
    "parent": "module:server/analytics/api-stats-store"
  },
  {
    "type": "method",
    "name": "getStats",
    "longname": "module:server/analytics/api-stats-store~getStats",
    "url": "module-server_analytics_api-stats-store.html#~getStats",
    "description": "<p>Get stats for a time range</p>",
    "parent": "module:server/analytics/api-stats-store"
  },
  {
    "type": "method",
    "name": "getStorePathForDate",
    "longname": "module:server/analytics/api-stats-store~getStorePathForDate",
    "url": "module-server_analytics_api-stats-store.html#~getStorePathForDate",
    "description": "<p>Get file path for a specific date</p>",
    "parent": "module:server/analytics/api-stats-store"
  },
  {
    "type": "method",
    "name": "loadDayStats",
    "longname": "module:server/analytics/api-stats-store~loadDayStats",
    "url": "module-server_analytics_api-stats-store.html#~loadDayStats",
    "description": "<p>Load stats for a specific date</p>",
    "parent": "module:server/analytics/api-stats-store"
  },
  {
    "type": "method",
    "name": "recordCall",
    "longname": "module:server/analytics/api-stats-store~recordCall",
    "url": "module-server_analytics_api-stats-store.html#~recordCall",
    "description": "<p>Record an API call</p>",
    "parent": "module:server/analytics/api-stats-store"
  },
  {
    "type": "method",
    "name": "saveDayStats",
    "longname": "module:server/analytics/api-stats-store~saveDayStats",
    "url": "module-server_analytics_api-stats-store.html#~saveDayStats",
    "description": "<p>Save stats for a specific date</p>",
    "parent": "module:server/analytics/api-stats-store"
  },
  {
    "type": "method",
    "name": "startAutoFlush",
    "longname": "module:server/analytics/api-stats-store~startAutoFlush",
    "url": "module-server_analytics_api-stats-store.html#~startAutoFlush",
    "description": "<p>Start auto-flush interval and run initial cleanup</p>",
    "parent": "module:server/analytics/api-stats-store"
  },
  {
    "type": "method",
    "name": "stopAutoFlush",
    "longname": "module:server/analytics/api-stats-store~stopAutoFlush",
    "url": "module-server_analytics_api-stats-store.html#~stopAutoFlush",
    "description": "<p>Stop auto-flush and flush remaining data</p>",
    "parent": "module:server/analytics/api-stats-store"
  },
  {
    "type": "method",
    "name": "buildLookup",
    "longname": "module:server/analytics/lookup-store~buildLookup",
    "url": "module-server_analytics_lookup-store.html#~buildLookup",
    "description": "<p>Build lookup entries from all three PODs</p>",
    "parent": "module:server/analytics/lookup-store"
  },
  {
    "type": "method",
    "name": "buildPod2Index",
    "longname": "module:server/analytics/lookup-store~buildPod2Index",
    "url": "module-server_analytics_lookup-store.html#~buildPod2Index",
    "description": "<p>Build an index of POD2 entries by context for fast lookup\nFor departures: creates one entry per vessel with vessel-specific brutto</p>",
    "parent": "module:server/analytics/lookup-store"
  },
  {
    "type": "method",
    "name": "buildPod3Index",
    "longname": "module:server/analytics/lookup-store~buildPod3Index",
    "url": "module-server_analytics_lookup-store.html#~buildPod3Index",
    "description": "<p>Build an index of POD3 entries with pre-extracted income per vessel\nNote: Game API vessel history only has income, no harborFee</p>",
    "parent": "module:server/analytics/lookup-store"
  },
  {
    "type": "method",
    "name": "clearStore",
    "longname": "module:server/analytics/lookup-store~clearStore",
    "url": "module-server_analytics_lookup-store.html#~clearStore",
    "description": "<p>Clear the lookup store</p>",
    "parent": "module:server/analytics/lookup-store"
  },
  {
    "type": "method",
    "name": "ensureDir",
    "longname": "module:server/analytics/lookup-store~ensureDir",
    "url": "module-server_analytics_lookup-store.html#~ensureDir",
    "description": "<p>Ensure analytics directory exists</p>",
    "parent": "module:server/analytics/lookup-store"
  },
  {
    "type": "method",
    "name": "extractCashFromEntry",
    "longname": "module:server/analytics/lookup-store~extractCashFromEntry",
    "url": "module-server_analytics_lookup-store.html#~extractCashFromEntry",
    "description": "<p>Extract cash amounts from audit log entry\nFor departures: Returns array of {cash, vessel} per vessel\nFor other actions: Returns array with single {cash, vessel: null}</p>",
    "parent": "module:server/analytics/lookup-store"
  },
  {
    "type": "method",
    "name": "findPod2Match",
    "longname": "module:server/analytics/lookup-store~findPod2Match",
    "url": "module-server_analytics_lookup-store.html#~findPod2Match",
    "description": "<p>Find matching POD2 entry for a POD1 transaction using pre-built index</p>",
    "parent": "module:server/analytics/lookup-store"
  },
  {
    "type": "method",
    "name": "findPod2MatchForGuardFee",
    "longname": "module:server/analytics/lookup-store~findPod2MatchForGuardFee",
    "url": "module-server_analytics_lookup-store.html#~findPod2MatchForGuardFee",
    "description": "<p>Find matching POD2 entry for guard fee by searching departure entries\nMatches by guard count: $700 per guard</p>",
    "parent": "module:server/analytics/lookup-store"
  },
  {
    "type": "method",
    "name": "findPod2MatchForHarborFee",
    "longname": "module:server/analytics/lookup-store~findPod2MatchForHarborFee",
    "url": "module-server_analytics_lookup-store.html#~findPod2MatchForHarborFee",
    "description": "<p>Find matching POD2 entry for harbor fee by searching departure entries</p>",
    "parent": "module:server/analytics/lookup-store"
  },
  {
    "type": "method",
    "name": "findPod2MatchForRouteFee",
    "longname": "module:server/analytics/lookup-store~findPod2MatchForRouteFee",
    "url": "module-server_analytics_lookup-store.html#~findPod2MatchForRouteFee",
    "description": "<p>Find matching POD2 entry for route fee by searching departure entries\nRoute fees are paid when routes are assigned, just before departure\nMatch by finding the closest departure within time window</p>",
    "parent": "module:server/analytics/lookup-store"
  },
  {
    "type": "method",
    "name": "findPod3Match",
    "longname": "module:server/analytics/lookup-store~findPod3Match",
    "url": "module-server_analytics_lookup-store.html#~findPod3Match",
    "description": "<p>Find matching POD3 entry using POD2 vessel's income\nGame history only has income (netto), so we need POD2's vessel income for matching</p>",
    "parent": "module:server/analytics/lookup-store"
  },
  {
    "type": "method",
    "name": "findPod3MatchByCalculation",
    "longname": "module:server/analytics/lookup-store~findPod3MatchByCalculation",
    "url": "module-server_analytics_lookup-store.html#~findPod3MatchByCalculation",
    "description": "<p>Find POD3 match by calculating netto from brutto - harborFee\nUsed when POD2 is not available</p>",
    "parent": "module:server/analytics/lookup-store"
  },
  {
    "type": "method",
    "name": "getBreakdownByDay",
    "longname": "module:server/analytics/lookup-store~getBreakdownByDay",
    "url": "module-server_analytics_lookup-store.html#~getBreakdownByDay",
    "description": "<p>Get breakdown by day</p>",
    "parent": "module:server/analytics/lookup-store"
  },
  {
    "type": "method",
    "name": "getBreakdownByType",
    "longname": "module:server/analytics/lookup-store~getBreakdownByType",
    "url": "module-server_analytics_lookup-store.html#~getBreakdownByType",
    "description": "<p>Get breakdown by type</p>",
    "parent": "module:server/analytics/lookup-store"
  },
  {
    "type": "method",
    "name": "getEntries",
    "longname": "module:server/analytics/lookup-store~getEntries",
    "url": "module-server_analytics_lookup-store.html#~getEntries",
    "description": "<p>Get all lookup entries</p>",
    "parent": "module:server/analytics/lookup-store"
  },
  {
    "type": "method",
    "name": "getEntriesByDays",
    "longname": "module:server/analytics/lookup-store~getEntriesByDays",
    "url": "module-server_analytics_lookup-store.html#~getEntriesByDays",
    "description": "<p>Get lookup entries within a time range</p>",
    "parent": "module:server/analytics/lookup-store"
  },
  {
    "type": "method",
    "name": "getEntryDetails",
    "longname": "module:server/analytics/lookup-store~getEntryDetails",
    "url": "module-server_analytics_lookup-store.html#~getEntryDetails",
    "description": "<p>Get full entry details by lookup ID</p>",
    "parent": "module:server/analytics/lookup-store"
  },
  {
    "type": "method",
    "name": "getStoreInfo",
    "longname": "module:server/analytics/lookup-store~getStoreInfo",
    "url": "module-server_analytics_lookup-store.html#~getStoreInfo",
    "description": "<p>Get store metadata</p>",
    "parent": "module:server/analytics/lookup-store"
  },
  {
    "type": "method",
    "name": "getStorePath",
    "longname": "module:server/analytics/lookup-store~getStorePath",
    "url": "module-server_analytics_lookup-store.html#~getStorePath",
    "description": "<p>Get file path for user's lookup store</p>",
    "parent": "module:server/analytics/lookup-store"
  },
  {
    "type": "method",
    "name": "getTotals",
    "longname": "module:server/analytics/lookup-store~getTotals",
    "url": "module-server_analytics_lookup-store.html#~getTotals",
    "description": "<p>Get income/expense totals</p>",
    "parent": "module:server/analytics/lookup-store"
  },
  {
    "type": "method",
    "name": "loadStore",
    "longname": "module:server/analytics/lookup-store~loadStore",
    "url": "module-server_analytics_lookup-store.html#~loadStore",
    "description": "<p>Load stored lookup from disk</p>",
    "parent": "module:server/analytics/lookup-store"
  },
  {
    "type": "method",
    "name": "saveStore",
    "longname": "module:server/analytics/lookup-store~saveStore",
    "url": "module-server_analytics_lookup-store.html#~saveStore",
    "description": "<p>Save lookup to disk</p>",
    "parent": "module:server/analytics/lookup-store"
  },
  {
    "type": "method",
    "name": "valuesMatch",
    "longname": "module:server/analytics/lookup-store~valuesMatch",
    "url": "module-server_analytics_lookup-store.html#~valuesMatch",
    "description": "<p>Check if two values match within tolerance</p>",
    "parent": "module:server/analytics/lookup-store"
  },
  {
    "type": "method",
    "name": "ensureDir",
    "longname": "module:server/analytics/transaction-store~ensureDir",
    "url": "module-server_analytics_transaction-store.html#~ensureDir",
    "description": "<p>Ensure transactions directory exists</p>",
    "parent": "module:server/analytics/transaction-store"
  },
  {
    "type": "method",
    "name": "fetchFromAPI",
    "longname": "module:server/analytics/transaction-store~fetchFromAPI",
    "url": "module-server_analytics_transaction-store.html#~fetchFromAPI",
    "description": "<p>Fetch transactions from game API</p>",
    "parent": "module:server/analytics/transaction-store"
  },
  {
    "type": "method",
    "name": "generateTransactionId",
    "longname": "module:server/analytics/transaction-store~generateTransactionId",
    "url": "module-server_analytics_transaction-store.html#~generateTransactionId",
    "description": "<p>Generate deterministic ID for a transaction</p>",
    "parent": "module:server/analytics/transaction-store"
  },
  {
    "type": "method",
    "name": "getDailyBreakdown",
    "longname": "module:server/analytics/transaction-store~getDailyBreakdown",
    "url": "module-server_analytics_transaction-store.html#~getDailyBreakdown",
    "description": "<p>Get daily breakdown of transactions</p>",
    "parent": "module:server/analytics/transaction-store"
  },
  {
    "type": "method",
    "name": "getStoreInfo",
    "longname": "module:server/analytics/transaction-store~getStoreInfo",
    "url": "module-server_analytics_transaction-store.html#~getStoreInfo",
    "description": "<p>Get store metadata</p>",
    "parent": "module:server/analytics/transaction-store"
  },
  {
    "type": "method",
    "name": "getStorePath",
    "longname": "module:server/analytics/transaction-store~getStorePath",
    "url": "module-server_analytics_transaction-store.html#~getStorePath",
    "description": "<p>Get file path for user's transaction store</p>",
    "parent": "module:server/analytics/transaction-store"
  },
  {
    "type": "method",
    "name": "getTransactionSummary",
    "longname": "module:server/analytics/transaction-store~getTransactionSummary",
    "url": "module-server_analytics_transaction-store.html#~getTransactionSummary",
    "description": "<p>Get transaction summary grouped by context</p>",
    "parent": "module:server/analytics/transaction-store"
  },
  {
    "type": "method",
    "name": "getTransactionTypes",
    "longname": "module:server/analytics/transaction-store~getTransactionTypes",
    "url": "module-server_analytics_transaction-store.html#~getTransactionTypes",
    "description": "<p>Get all available transaction types/contexts</p>",
    "parent": "module:server/analytics/transaction-store"
  },
  {
    "type": "method",
    "name": "getTransactions",
    "longname": "module:server/analytics/transaction-store~getTransactions",
    "url": "module-server_analytics_transaction-store.html#~getTransactions",
    "description": "<p>Get all stored transactions</p>",
    "parent": "module:server/analytics/transaction-store"
  },
  {
    "type": "method",
    "name": "getTransactionsByDays",
    "longname": "module:server/analytics/transaction-store~getTransactionsByDays",
    "url": "module-server_analytics_transaction-store.html#~getTransactionsByDays",
    "description": "<p>Get transactions within a time range</p>",
    "parent": "module:server/analytics/transaction-store"
  },
  {
    "type": "method",
    "name": "loadStore",
    "longname": "module:server/analytics/transaction-store~loadStore",
    "url": "module-server_analytics_transaction-store.html#~loadStore",
    "description": "<p>Load stored transactions from disk (cached for 2 seconds)\nMigrates old entries without IDs by generating them</p>",
    "parent": "module:server/analytics/transaction-store"
  },
  {
    "type": "method",
    "name": "saveStore",
    "longname": "module:server/analytics/transaction-store~saveStore",
    "url": "module-server_analytics_transaction-store.html#~saveStore",
    "description": "<p>Save transactions to disk</p>",
    "parent": "module:server/analytics/transaction-store"
  },
  {
    "type": "method",
    "name": "startAutoSync",
    "longname": "module:server/analytics/transaction-store~startAutoSync",
    "url": "module-server_analytics_transaction-store.html#~startAutoSync",
    "description": "<p>Start automatic background sync</p>",
    "parent": "module:server/analytics/transaction-store"
  },
  {
    "type": "method",
    "name": "stopAutoSync",
    "longname": "module:server/analytics/transaction-store~stopAutoSync",
    "url": "module-server_analytics_transaction-store.html#~stopAutoSync",
    "description": "<p>Stop automatic background sync</p>",
    "parent": "module:server/analytics/transaction-store"
  },
  {
    "type": "method",
    "name": "syncTransactions",
    "longname": "module:server/analytics/transaction-store~syncTransactions",
    "url": "module-server_analytics_transaction-store.html#~syncTransactions",
    "description": "<p>Sync transactions from API\nMerges new transactions with existing store</p>",
    "parent": "module:server/analytics/transaction-store"
  },
  {
    "type": "method",
    "name": "clearStore",
    "longname": "module:server/analytics/vessel-history-store~clearStore",
    "url": "module-server_analytics_vessel-history-store.html#~clearStore",
    "description": "<p>Clear stored vessel history (for testing or reset)</p>",
    "parent": "module:server/analytics/vessel-history-store"
  },
  {
    "type": "method",
    "name": "ensureDir",
    "longname": "module:server/analytics/vessel-history-store~ensureDir",
    "url": "module-server_analytics_vessel-history-store.html#~ensureDir",
    "description": "<p>Ensure vessel history directory exists</p>",
    "parent": "module:server/analytics/vessel-history-store"
  },
  {
    "type": "method",
    "name": "fetchAllVessels",
    "longname": "module:server/analytics/vessel-history-store~fetchAllVessels",
    "url": "module-server_analytics_vessel-history-store.html#~fetchAllVessels",
    "description": "<p>Fetch all user vessels</p>",
    "parent": "module:server/analytics/vessel-history-store"
  },
  {
    "type": "method",
    "name": "fetchVesselHistory",
    "longname": "module:server/analytics/vessel-history-store~fetchVesselHistory",
    "url": "module-server_analytics_vessel-history-store.html#~fetchVesselHistory",
    "description": "<p>Fetch vessel history for a single vessel</p>",
    "parent": "module:server/analytics/vessel-history-store"
  },
  {
    "type": "method",
    "name": "generateDepartureId",
    "longname": "module:server/analytics/vessel-history-store~generateDepartureId",
    "url": "module-server_analytics_vessel-history-store.html#~generateDepartureId",
    "description": "<p>Generate deterministic ID for a vessel history departure</p>",
    "parent": "module:server/analytics/vessel-history-store"
  },
  {
    "type": "method",
    "name": "getDepartures",
    "longname": "module:server/analytics/vessel-history-store~getDepartures",
    "url": "module-server_analytics_vessel-history-store.html#~getDepartures",
    "description": "<p>Get all stored departures (Game Departure entries)</p>",
    "parent": "module:server/analytics/vessel-history-store"
  },
  {
    "type": "method",
    "name": "getDeparturesBefore",
    "longname": "module:server/analytics/vessel-history-store~getDeparturesBefore",
    "url": "module-server_analytics_vessel-history-store.html#~getDeparturesBefore",
    "description": "<p>Get departures before a specific timestamp</p>",
    "parent": "module:server/analytics/vessel-history-store"
  },
  {
    "type": "method",
    "name": "getDeparturesByDays",
    "longname": "module:server/analytics/vessel-history-store~getDeparturesByDays",
    "url": "module-server_analytics_vessel-history-store.html#~getDeparturesByDays",
    "description": "<p>Get departures within a time range</p>",
    "parent": "module:server/analytics/vessel-history-store"
  },
  {
    "type": "method",
    "name": "getRouteHijackingRisks",
    "longname": "module:server/analytics/vessel-history-store~getRouteHijackingRisks",
    "url": "module-server_analytics_vessel-history-store.html#~getRouteHijackingRisks",
    "description": "<p>Get stored route hijacking risks\nReturns a Map with route keys (origin&lt;&gt;destination) and their hijacking risk percentages</p>",
    "parent": "module:server/analytics/vessel-history-store"
  },
  {
    "type": "method",
    "name": "getStoreInfo",
    "longname": "module:server/analytics/vessel-history-store~getStoreInfo",
    "url": "module-server_analytics_vessel-history-store.html#~getStoreInfo",
    "description": "<p>Get store metadata</p>",
    "parent": "module:server/analytics/vessel-history-store"
  },
  {
    "type": "method",
    "name": "getStorePath",
    "longname": "module:server/analytics/vessel-history-store~getStorePath",
    "url": "module-server_analytics_vessel-history-store.html#~getStorePath",
    "description": "<p>Get file path for user's vessel history store</p>",
    "parent": "module:server/analytics/vessel-history-store"
  },
  {
    "type": "method",
    "name": "getSyncProgress",
    "longname": "module:server/analytics/vessel-history-store~getSyncProgress",
    "url": "module-server_analytics_vessel-history-store.html#~getSyncProgress",
    "description": "<p>Get current sync progress/status</p>",
    "parent": "module:server/analytics/vessel-history-store"
  },
  {
    "type": "method",
    "name": "loadStore",
    "longname": "module:server/analytics/vessel-history-store~loadStore",
    "url": "module-server_analytics_vessel-history-store.html#~loadStore",
    "description": "<p>Load stored vessel history from disk (cached for 2 seconds)</p>",
    "parent": "module:server/analytics/vessel-history-store"
  },
  {
    "type": "method",
    "name": "parseGameDate",
    "longname": "module:server/analytics/vessel-history-store~parseGameDate",
    "url": "module-server_analytics_vessel-history-store.html#~parseGameDate",
    "description": "<p>Parse game API date string to timestamp</p>",
    "parent": "module:server/analytics/vessel-history-store"
  },
  {
    "type": "method",
    "name": "saveStore",
    "longname": "module:server/analytics/vessel-history-store~saveStore",
    "url": "module-server_analytics_vessel-history-store.html#~saveStore",
    "description": "<p>Save vessel history to disk</p>",
    "parent": "module:server/analytics/vessel-history-store"
  },
  {
    "type": "method",
    "name": "startAutoSync",
    "longname": "module:server/analytics/vessel-history-store~startAutoSync",
    "url": "module-server_analytics_vessel-history-store.html#~startAutoSync",
    "description": "<p>Start automatic background sync for vessel history\nUses slow rotation: spreads all vessel syncs over 60 minutes</p>",
    "parent": "module:server/analytics/vessel-history-store"
  },
  {
    "type": "method",
    "name": "startBackgroundSync",
    "longname": "module:server/analytics/vessel-history-store~startBackgroundSync",
    "url": "module-server_analytics_vessel-history-store.html#~startBackgroundSync",
    "description": "<p>Start background sync on server startup\nRuns incrementally, pauses if server stops</p>",
    "parent": "module:server/analytics/vessel-history-store"
  },
  {
    "type": "method",
    "name": "stopAutoSync",
    "longname": "module:server/analytics/vessel-history-store~stopAutoSync",
    "url": "module-server_analytics_vessel-history-store.html#~stopAutoSync",
    "description": "<p>Stop automatic background sync</p>",
    "parent": "module:server/analytics/vessel-history-store"
  },
  {
    "type": "method",
    "name": "stopSync",
    "longname": "module:server/analytics/vessel-history-store~stopSync",
    "url": "module-server_analytics_vessel-history-store.html#~stopSync",
    "description": "<p>Stop the current sync process</p>",
    "parent": "module:server/analytics/vessel-history-store"
  },
  {
    "type": "method",
    "name": "syncNextVesselInRotation",
    "longname": "module:server/analytics/vessel-history-store~syncNextVesselInRotation",
    "url": "module-server_analytics_vessel-history-store.html#~syncNextVesselInRotation",
    "description": "<p>Sync a single vessel in the slow background rotation</p>",
    "parent": "module:server/analytics/vessel-history-store"
  },
  {
    "type": "method",
    "name": "syncSpecificVessels",
    "longname": "module:server/analytics/vessel-history-store~syncSpecificVessels",
    "url": "module-server_analytics_vessel-history-store.html#~syncSpecificVessels",
    "description": "<p>Sync history for specific vessel IDs (event-based, after depart)</p>",
    "parent": "module:server/analytics/vessel-history-store"
  },
  {
    "type": "method",
    "name": "syncVesselHistory",
    "longname": "module:server/analytics/vessel-history-store~syncVesselHistory",
    "url": "module-server_analytics_vessel-history-store.html#~syncVesselHistory",
    "description": "<p>Sync vessel history incrementally - resumable and tracks per-vessel state</p>",
    "parent": "module:server/analytics/vessel-history-store"
  },
  {
    "type": "method",
    "name": "transformToAuditEntry",
    "longname": "module:server/analytics/vessel-history-store~transformToAuditEntry",
    "url": "module-server_analytics_vessel-history-store.html#~transformToAuditEntry",
    "description": "<p>Transform vessel history entry to audit log format</p>",
    "parent": "module:server/analytics/vessel-history-store"
  },
  {
    "type": "method",
    "name": "getRandomInterval",
    "longname": "module:server/automation~getRandomInterval",
    "url": "module-server_automation.html#~getRandomInterval",
    "description": "<p>Get random interval within range</p>",
    "parent": "module:server/automation"
  },
  {
    "type": "method",
    "name": "initialize",
    "longname": "module:server/automation~initialize",
    "url": "module-server_automation.html#~initialize",
    "description": "<p>Initialize backend automation</p>",
    "parent": "module:server/automation"
  },
  {
    "type": "method",
    "name": "loadSettings",
    "longname": "module:server/automation~loadSettings",
    "url": "module-server_automation.html#~loadSettings",
    "description": "<p>Load settings from file</p>",
    "parent": "module:server/automation"
  },
  {
    "type": "method",
    "name": "parseInterval",
    "longname": "module:server/automation~parseInterval",
    "url": "module-server_automation.html#~parseInterval",
    "description": "<p>Parse interval string to get min/max hours</p>",
    "parent": "module:server/automation"
  },
  {
    "type": "method",
    "name": "restartAutoRepair",
    "longname": "module:server/automation~restartAutoRepair",
    "url": "module-server_automation.html#~restartAutoRepair",
    "description": "<p>Restart auto-repair timer (called when settings change)</p>",
    "parent": "module:server/automation"
  },
  {
    "type": "method",
    "name": "runAutoRepair",
    "longname": "module:server/automation~runAutoRepair",
    "url": "module-server_automation.html#~runAutoRepair",
    "description": "<p>Auto-repair vessels below maintenance threshold</p>",
    "parent": "module:server/automation"
  },
  {
    "type": "method",
    "name": "scheduleAutoRepair",
    "longname": "module:server/automation~scheduleAutoRepair",
    "url": "module-server_automation.html#~scheduleAutoRepair",
    "description": "<p>Schedule next auto-repair check</p>",
    "parent": "module:server/automation"
  },
  {
    "type": "method",
    "name": "autoRebuyCO2",
    "longname": "module:server/autopilot/pilot_atmosphere_broker~autoRebuyCO2",
    "url": "module-server_autopilot_pilot_atmosphere_broker.html#~autoRebuyCO2",
    "description": "<p>Auto-rebuy CO2 for a single user with intelligent threshold checking.\nNO COOLDOWN - purchases whenever price is good and space available.</p>\n<p>Decision Logic:</p>\n<ol>\n<li>Fetches current bunker state and prices</li>\n<li>Checks if price &lt;= threshold (uses alert threshold or custom)</li>\n<li>Verifies cash balance &gt;= minimum cash requirement</li>\n<li>Calculates available space and affordable amount</li>\n<li>Purchases CO2 up to bunker capacity or cash limit</li>\n<li>Broadcasts purchase event and updated bunker state</li>\n</ol>\n<p>Threshold Selection:</p>\n<ul>\n<li>If autoRebuyCO2UseAlert=true: uses co2Threshold (alert threshold)</li>\n<li>If autoRebuyCO2UseAlert=false: uses autoRebuyCO2Threshold (custom)</li>\n</ul>\n<p>Safety Features:</p>\n<ul>\n<li>Respects minimum cash balance (won't buy if cash &lt; minCash)</li>\n<li>Uses Math.ceil to always fill bunker completely</li>\n<li>Updates state immediately to prevent duplicate purchases</li>\n</ul>\n<p>API Interactions:</p>\n<ul>\n<li>Uses state.getBunkerState() for cached bunker levels (auto-updated by apiCall())</li>\n<li>Calls gameapi.purchaseCO2() to execute purchase</li>\n<li>Broadcasts 'co2_purchased' and 'bunker_update' events</li>\n</ul>",
    "parent": "module:server/autopilot/pilot_atmosphere_broker"
  },
  {
    "type": "method",
    "name": "autoRebuyFuel",
    "longname": "module:server/autopilot/pilot_barrel_boss~autoRebuyFuel",
    "url": "module-server_autopilot_pilot_barrel_boss.html#~autoRebuyFuel",
    "description": "<p>Auto-rebuy fuel for a single user with intelligent threshold checking.\nNO COOLDOWN - purchases whenever price is good and space available.</p>\n<p>Decision Logic:</p>\n<ol>\n<li>Fetches current bunker state and prices</li>\n<li>Checks if price &lt;= threshold (uses alert threshold or custom)</li>\n<li>Verifies cash balance &gt;= minimum cash requirement</li>\n<li>Calculates available space and affordable amount</li>\n<li>Purchases fuel up to bunker capacity or cash limit</li>\n<li>Broadcasts purchase event and updated bunker state</li>\n</ol>\n<p>Threshold Selection:</p>\n<ul>\n<li>If autoRebuyFuelUseAlert=true: uses fuelThreshold (alert threshold)</li>\n<li>If autoRebuyFuelUseAlert=false: uses autoRebuyFuelThreshold (custom)</li>\n</ul>\n<p>Safety Features:</p>\n<ul>\n<li>Respects minimum cash balance (won't buy if cash &lt; minCash)</li>\n<li>Uses Math.ceil to always fill bunker completely</li>\n<li>Updates state immediately to prevent duplicate purchases</li>\n</ul>\n<p>API Interactions:</p>\n<ul>\n<li>Uses state.getBunkerState() for cached bunker levels (auto-updated by apiCall())</li>\n<li>Calls gameapi.purchaseFuel() to execute purchase</li>\n<li>Broadcasts 'fuel_purchased' and 'bunker_update' events</li>\n</ul>",
    "parent": "module:server/autopilot/pilot_barrel_boss"
  },
  {
    "type": "method",
    "name": "autoNegotiateHijacking",
    "longname": "module:server/autopilot/pilot_captain_blackbeard~autoNegotiateHijacking",
    "url": "module-server_autopilot_pilot_captain_blackbeard.html#~autoNegotiateHijacking",
    "description": "<p>Main autopilot entry point - processes all active hijacking cases.</p>",
    "parent": "module:server/autopilot/pilot_captain_blackbeard"
  },
  {
    "type": "method",
    "name": "processHijackingCase",
    "longname": "module:server/autopilot/pilot_captain_blackbeard~processHijackingCase",
    "url": "module-server_autopilot_pilot_captain_blackbeard.html#~processHijackingCase",
    "description": "<p>Process a single hijacking case with strict verification after each step.\nFlow:</p>\n<ol>\n<li>Get case, make 1st offer (25%)</li>\n<li>WAIT 2 MINUTES</li>\n<li>Verify response matches current case demand</li>\n<li>Make 2nd offer (25%)</li>\n<li>WAIT 2 MINUTES</li>\n<li>Verify response matches current case demand</li>\n<li>Check balance, pay if sufficient</li>\n<li>Verify payment was deducted</li>\n</ol>",
    "parent": "module:server/autopilot/pilot_captain_blackbeard"
  },
  {
    "type": "method",
    "name": "saveToHistory",
    "longname": "module:server/autopilot/pilot_captain_blackbeard~saveToHistory",
    "url": "module-server_autopilot_pilot_captain_blackbeard.html#~saveToHistory",
    "description": "<p>Save negotiation entry to history file.</p>",
    "parent": "module:server/autopilot/pilot_captain_blackbeard"
  },
  {
    "type": "method",
    "name": "wait",
    "longname": "module:server/autopilot/pilot_captain_blackbeard~wait",
    "url": "module-server_autopilot_pilot_captain_blackbeard.html#~wait",
    "description": "<p>Wait for specified milliseconds.</p>",
    "parent": "module:server/autopilot/pilot_captain_blackbeard"
  },
  {
    "type": "method",
    "name": "autoDepartVessels",
    "longname": "module:server/autopilot/pilot_cargo_marshal~autoDepartVessels",
    "url": "module-server_autopilot_pilot_cargo_marshal.html#~autoDepartVessels",
    "description": "<p>Intelligent auto-depart wrapper for autopilot system.\nCalls departVessels() with null vesselIds to depart ALL vessels in harbor.</p>",
    "parent": "module:server/autopilot/pilot_cargo_marshal"
  },
  {
    "type": "method",
    "name": "calculateRemainingDemand",
    "longname": "module:server/autopilot/pilot_cargo_marshal~calculateRemainingDemand",
    "url": "module-server_autopilot_pilot_cargo_marshal.html#~calculateRemainingDemand",
    "description": "<p>Calculates remaining demand at a port.</p>",
    "parent": "module:server/autopilot/pilot_cargo_marshal"
  },
  {
    "type": "method",
    "name": "departVessels",
    "longname": "module:server/autopilot/pilot_cargo_marshal~departVessels",
    "url": "module-server_autopilot_pilot_cargo_marshal.html#~departVessels",
    "description": "<p>Universal vessel departure function with intelligent demand-based routing.\nWorks with any list of vessel IDs or all vessels if vesselIds=null.\nUsed by BOTH autopilot and manual departure operations.</p>",
    "parent": "module:server/autopilot/pilot_cargo_marshal"
  },
  {
    "type": "method",
    "name": "getTotalCapacity",
    "longname": "module:server/autopilot/pilot_cargo_marshal~getTotalCapacity",
    "url": "module-server_autopilot_pilot_cargo_marshal.html#~getTotalCapacity",
    "description": "<p>Calculates total capacity of a vessel.</p>",
    "parent": "module:server/autopilot/pilot_cargo_marshal"
  },
  {
    "type": "method",
    "name": "resetFuelFailedCacheIfIncreased",
    "longname": "module:server/autopilot/pilot_cargo_marshal~resetFuelFailedCacheIfIncreased",
    "url": "module-server_autopilot_pilot_cargo_marshal.html#~resetFuelFailedCacheIfIncreased",
    "description": "<p>Resets the fuel-failed vessels cache for a specific user when fuel increases.\nThis allows vessels that previously couldn't depart to be retried.</p>",
    "parent": "module:server/autopilot/pilot_cargo_marshal"
  },
  {
    "type": "method",
    "name": "autoDrydockVessels",
    "longname": "module:server/autopilot/pilot_drydock_master~autoDrydockVessels",
    "url": "module-server_autopilot_pilot_drydock_master.html#~autoDrydockVessels",
    "description": "<p>Auto send vessels to drydock based on hours_until_check threshold.</p>\n<p>Decision Logic:</p>\n<ol>\n<li>Fetches all vessels and filters by hours_until_check &lt;= autoDrydockThreshold</li>\n<li>Checks minimum cash balance requirement</li>\n<li>Sends all eligible vessels to drydock using configured type/speed</li>\n<li>Broadcasts drydock notification with vessel list</li>\n</ol>",
    "parent": "module:server/autopilot/pilot_drydock_master"
  },
  {
    "type": "method",
    "name": "autoCoop",
    "longname": "module:server/autopilot/pilot_fair_hand~autoCoop",
    "url": "module-server_autopilot_pilot_fair_hand.html#~autoCoop",
    "description": "<p>Automatically sends available COOP vessels to alliance members.\nRuns every 3 hours (0, 3, 6, 9, 12, 15, 18, 21 UTC).</p>\n<p>Logic:</p>\n<ul>\n<li>Check if COOP available</li>\n<li>Filter members who can receive (can_receive_coop === true)</li>\n<li>Sort by total_vessels DESC (largest fleets first)</li>\n<li>Send to each member until all COOP vessels distributed</li>\n</ul>",
    "parent": "module:server/autopilot/pilot_fair_hand"
  },
  {
    "type": "method",
    "name": "autoAnchorPointPurchase",
    "longname": "module:server/autopilot/pilot_harbormaster~autoAnchorPointPurchase",
    "url": "module-server_autopilot_pilot_harbormaster.html#~autoAnchorPointPurchase",
    "description": "<p>Auto-purchase anchor points respecting construction timer.\nChecks construction timer, price threshold, and cash availability before purchase.</p>\n<p>Construction Timer Safety:</p>\n<ul>\n<li>CRITICAL: Buying while construction is active resets the timer to 0</li>\n<li>This wastes money and time (construction starts over from 0%)</li>\n<li>Only buy when anchor_next_build is null or timestamp &lt; now</li>\n<li>Respects same timer logic as UI buttons</li>\n</ul>",
    "parent": "module:server/autopilot/pilot_harbormaster"
  },
  {
    "type": "method",
    "name": "setBroadcastFunction",
    "longname": "module:server/autopilot/pilot_harbormaster~setBroadcastFunction",
    "url": "module-server_autopilot_pilot_harbormaster.html#~setBroadcastFunction",
    "description": "<p>Sets the broadcast function (called by autopilot.js)</p>",
    "parent": "module:server/autopilot/pilot_harbormaster"
  },
  {
    "type": "method",
    "name": "autoCampaignRenewal",
    "longname": "module:server/autopilot/pilot_reputation_chief~autoCampaignRenewal",
    "url": "module-server_autopilot_pilot_reputation_chief.html#~autoCampaignRenewal",
    "description": "<p>Auto campaign renewal for a single user.\nCalled by central autopilot monitor when campaigns &lt; 3.</p>",
    "parent": "module:server/autopilot/pilot_reputation_chief"
  },
  {
    "type": "method",
    "name": "manageStaffMorale",
    "longname": "module:server/autopilot/pilot_staff_captain~manageStaffMorale",
    "url": "module-server_autopilot_pilot_staff_captain.html#~manageStaffMorale",
    "description": "<p>Manages staff morale by adjusting salaries for a single user.</p>\n<p>Decision Logic:</p>\n<ol>\n<li>Fetches current staff data and morale percentages</li>\n<li>Checks if crew or management morale is below target</li>\n<li>For each low-morale staff type, raises salary until target reached</li>\n<li>Stops when morale &gt;= target AND morale &lt;= target+3%</li>\n<li>Broadcasts morale updates to frontend</li>\n</ol>\n<p>Target Morale Options:</p>\n<ul>\n<li>100: Keep at 100%</li>\n<li>95: Keep &gt;= 95%</li>\n<li>85: Keep &gt;= 85%</li>\n<li>80: Keep &gt;= 80%</li>\n<li>75: Keep &gt;= 75%</li>\n</ul>\n<p>Safety Features:</p>\n<ul>\n<li>Only adjusts when morale &lt; target</li>\n<li>Stops when morale &gt;= target to avoid overspending</li>\n<li>Won't exceed target+3% to prevent wasted API calls</li>\n<li>Checks both crew AND management morale</li>\n</ul>",
    "parent": "module:server/autopilot/pilot_staff_captain"
  },
  {
    "type": "method",
    "name": "autoBuyStock",
    "longname": "module:server/autopilot/pilot_the_purser~autoBuyStock",
    "url": "module-server_autopilot_pilot_the_purser.html#~autoBuyStock",
    "description": "<p>Auto-buy stocks from fresh IPOs.</p>\n<p>Decision Logic:</p>\n<ol>\n<li>Gets fresh IPOs from cache (filtered by IPO Alert threshold)</li>\n<li>Filters by maxPrice setting</li>\n<li>Verifies cash &gt;= minCash reserve</li>\n<li>Purchases all available shares</li>\n<li>Broadcasts purchase event and logs to audit</li>\n</ol>",
    "parent": "module:server/autopilot/pilot_the_purser"
  },
  {
    "type": "method",
    "name": "autoSellStock",
    "longname": "module:server/autopilot/pilot_the_purser~autoSellStock",
    "url": "module-server_autopilot_pilot_the_purser.html#~autoSellStock",
    "description": "<p>Auto-sell investments that are falling.</p>\n<p>Decision Logic:</p>\n<ol>\n<li>Fetches user investments via /stock/get-finance-overview</li>\n<li>Checks each investment for falling trend</li>\n<li>Sells if: falling for X days OR dropped by Y%</li>\n<li>Broadcasts sell event and logs to audit</li>\n</ol>",
    "parent": "module:server/autopilot/pilot_the_purser"
  },
  {
    "type": "method",
    "name": "clearPurchasedCache",
    "longname": "module:server/autopilot/pilot_the_purser~clearPurchasedCache",
    "url": "module-server_autopilot_pilot_the_purser.html#~clearPurchasedCache",
    "description": "<p>Clears the purchased IPOs tracking set.\nCalled when user manually triggers a refresh or settings change.</p>",
    "parent": "module:server/autopilot/pilot_the_purser"
  },
  {
    "type": "method",
    "name": "autoRepairVessels",
    "longname": "module:server/autopilot/pilot_yard_foreman~autoRepairVessels",
    "url": "module-server_autopilot_pilot_yard_foreman.html#~autoRepairVessels",
    "description": "<p>Auto repair vessels for a single user based on wear threshold.</p>\n<p>Decision Logic:</p>\n<ol>\n<li>Fetches all vessels and filters by wear &gt;= maintenanceThreshold</li>\n<li>Checks minimum cash balance requirement</li>\n<li>Fetches repair cost for all vessels needing repair</li>\n<li>If affordable, repairs all vessels in bulk</li>\n<li>Broadcasts repair notification with vessel list and costs</li>\n</ol>\n<p>API Quirk - $0 Cost Bug:</p>\n<ul>\n<li>Sometimes API returns totalCost=$0 even when repair is valid</li>\n<li>We attempt repair anyway as workaround for this API bug</li>\n<li>Actual cost is deducted from cash regardless of API response</li>\n</ul>",
    "parent": "module:server/autopilot/pilot_yard_foreman"
  },
  {
    "type": "method",
    "name": "analyzeVesselDepartures",
    "longname": "module:server/autopilot~analyzeVesselDepartures",
    "url": "module-server_autopilot.html#~analyzeVesselDepartures",
    "description": "<p>Analyze vessels and determine which should depart based on profitability.\nShared logic used by BOTH manual and auto departure.</p>",
    "parent": "module:server/autopilot"
  },
  {
    "type": "method",
    "name": "autoRebuyAll",
    "longname": "module:server/autopilot~autoRebuyAll",
    "url": "module-server_autopilot.html#~autoRebuyAll",
    "description": "<p>Wrapper to rebuy both fuel and CO2.\nCalled after vessel departures and in main loop.</p>",
    "parent": "module:server/autopilot"
  },
  {
    "type": "method",
    "name": "checkPriceAlerts",
    "longname": "module:server/autopilot~checkPriceAlerts",
    "url": "module-server_autopilot.html#~checkPriceAlerts",
    "description": "<p>Checks if current prices trigger user-configured alerts.</p>",
    "parent": "module:server/autopilot"
  },
  {
    "type": "method",
    "name": "checkTelegramPriceAlerts",
    "longname": "module:server/autopilot~checkTelegramPriceAlerts",
    "url": "module-server_autopilot.html#~checkTelegramPriceAlerts",
    "description": "<p>Sends Telegram alerts when prices are in the green zone.\nUses cooldown to prevent spam (1 hour between alerts).\nIMPORTANT: Uses regular prices (not discounted) so alerts are consistent for all users.</p>",
    "parent": "module:server/autopilot"
  },
  {
    "type": "method",
    "name": "countActiveCampaignTypes",
    "longname": "module:server/autopilot~countActiveCampaignTypes",
    "url": "module-server_autopilot.html#~countActiveCampaignTypes",
    "description": "<p>Counts active campaign types (reputation, awareness, green).</p>",
    "parent": "module:server/autopilot"
  },
  {
    "type": "method",
    "name": "fastEventLoop",
    "longname": "module:server/autopilot~fastEventLoop",
    "url": "module-server_autopilot.html#~fastEventLoop",
    "description": "<p>Fast autopilot loop (60 seconds).\nHandles time-sensitive operations: bunker, vessels, repairs, drydock, hijacking.</p>",
    "parent": "module:server/autopilot"
  },
  {
    "type": "method",
    "name": "getGameIndexCached",
    "longname": "module:server/autopilot~getGameIndexCached",
    "url": "module-server_autopilot.html#~getGameIndexCached",
    "description": "<p>Fetches /game/index with global caching (10s TTL) to reduce duplicate API calls.\nUses cache module for shared cache across all modules.</p>",
    "parent": "module:server/autopilot"
  },
  {
    "type": "method",
    "name": "initializeAutopilotState",
    "longname": "module:server/autopilot~initializeAutopilotState",
    "url": "module-server_autopilot.html#~initializeAutopilotState",
    "description": "<p>Initializes autopilot pause state from persistent settings.\nCalled once during server startup in scheduler.js</p>",
    "parent": "module:server/autopilot"
  },
  {
    "type": "method",
    "name": "isAutopilotPaused",
    "longname": "module:server/autopilot~isAutopilotPaused",
    "url": "module-server_autopilot.html#~isAutopilotPaused",
    "description": "<p>Returns current autopilot pause state</p>",
    "parent": "module:server/autopilot"
  },
  {
    "type": "method",
    "name": "pauseAutopilot",
    "longname": "module:server/autopilot~pauseAutopilot",
    "url": "module-server_autopilot.html#~pauseAutopilot",
    "description": "<p>Pauses all autopilot functions globally and saves state to settings</p>",
    "parent": "module:server/autopilot"
  },
  {
    "type": "method",
    "name": "resumeAutopilot",
    "longname": "module:server/autopilot~resumeAutopilot",
    "url": "module-server_autopilot.html#~resumeAutopilot",
    "description": "<p>Resumes all autopilot functions globally and saves state to settings</p>",
    "parent": "module:server/autopilot"
  },
  {
    "type": "method",
    "name": "setBroadcastFunction",
    "longname": "module:server/autopilot~setBroadcastFunction",
    "url": "module-server_autopilot.html#~setBroadcastFunction",
    "description": "<p>Injects WebSocket broadcasting function.\nCalled by websocket.js during initialization.</p>",
    "parent": "module:server/autopilot"
  },
  {
    "type": "method",
    "name": "slowEventLoop",
    "longname": "module:server/autopilot~slowEventLoop",
    "url": "module-server_autopilot.html#~slowEventLoop",
    "description": "<p>Slow autopilot loop (5 minutes).\nHandles slow operations: COOP, IPO/stock trading, staff morale.</p>",
    "parent": "module:server/autopilot"
  },
  {
    "type": "method",
    "name": "startMainEventLoop",
    "longname": "module:server/autopilot~startMainEventLoop",
    "url": "module-server_autopilot.html#~startMainEventLoop",
    "description": "<p>Starts both event loops (fast and slow).</p>",
    "parent": "module:server/autopilot"
  },
  {
    "type": "method",
    "name": "tryUpdateAllData",
    "longname": "module:server/autopilot~tryUpdateAllData",
    "url": "module-server_autopilot.html#~tryUpdateAllData",
    "description": "<p>Wrapper for updateAllData() that skips if locked.\nUsed by pilots to avoid blocking when update is already in progress.</p>",
    "parent": "module:server/autopilot"
  },
  {
    "type": "method",
    "name": "updateAllData",
    "longname": "module:server/autopilot~updateAllData",
    "url": "module-server_autopilot.html#~updateAllData",
    "description": "<p>Fetches complete game state and broadcasts to all users.\nUpdates: bunker, prices, coop, stock, anchor, events, hijacking.</p>",
    "parent": "module:server/autopilot"
  },
  {
    "type": "method",
    "name": "updateCampaigns",
    "longname": "module:server/autopilot~updateCampaigns",
    "url": "module-server_autopilot.html#~updateCampaigns",
    "description": "<p>Updates campaign status and triggers auto-renewal if needed.\nEVENT-DRIVEN: Triggers auto-renewal immediately when active campaigns &lt; 3.</p>",
    "parent": "module:server/autopilot"
  },
  {
    "type": "method",
    "name": "updateDrydockCount",
    "longname": "module:server/autopilot~updateDrydockCount",
    "url": "module-server_autopilot.html#~updateDrydockCount",
    "description": "<p>Updates drydock count badge</p>",
    "parent": "module:server/autopilot"
  },
  {
    "type": "method",
    "name": "updatePrices",
    "longname": "module:server/autopilot~updatePrices",
    "url": "module-server_autopilot.html#~updatePrices",
    "description": "<p>Updates fuel and CO2 prices from API and broadcasts to all users.\nCalled by scheduler at :01 and :31 every hour (twice per hour).</p>",
    "parent": "module:server/autopilot"
  },
  {
    "type": "method",
    "name": "updateRepairCount",
    "longname": "module:server/autopilot~updateRepairCount",
    "url": "module-server_autopilot.html#~updateRepairCount",
    "description": "<p>Updates repair count badge</p>",
    "parent": "module:server/autopilot"
  },
  {
    "type": "method",
    "name": "updateUnreadMessages",
    "longname": "module:server/autopilot~updateUnreadMessages",
    "url": "module-server_autopilot.html#~updateUnreadMessages",
    "description": "<p>Updates unread message count (DISABLED - now handled by WebSocket polling)</p>",
    "parent": "module:server/autopilot"
  },
  {
    "type": "method",
    "name": "updateVesselCount",
    "longname": "module:server/autopilot~updateVesselCount",
    "url": "module-server_autopilot.html#~updateVesselCount",
    "description": "<p>Updates vessel count badges</p>",
    "parent": "module:server/autopilot"
  },
  {
    "type": "method",
    "name": "clearAllCaches",
    "longname": "module:server/cache~clearAllCaches",
    "url": "module-server_cache.html#~clearAllCaches",
    "description": "<p>Clear all caches</p>",
    "parent": "module:server/cache"
  },
  {
    "type": "method",
    "name": "getAllianceCache",
    "longname": "module:server/cache~getAllianceCache",
    "url": "module-server_cache.html#~getAllianceCache",
    "description": "<p>Get cached Alliance data if valid</p>",
    "parent": "module:server/cache"
  },
  {
    "type": "method",
    "name": "getCampaignCache",
    "longname": "module:server/cache~getCampaignCache",
    "url": "module-server_cache.html#~getCampaignCache",
    "description": "<p>Get cached campaign data if valid</p>",
    "parent": "module:server/cache"
  },
  {
    "type": "method",
    "name": "getCompanyCache",
    "longname": "module:server/cache~getCompanyCache",
    "url": "module-server_cache.html#~getCompanyCache",
    "description": "<p>Get cached Company data if valid</p>",
    "parent": "module:server/cache"
  },
  {
    "type": "method",
    "name": "getCoopCache",
    "longname": "module:server/cache~getCoopCache",
    "url": "module-server_cache.html#~getCoopCache",
    "description": "<p>Get cached COOP data if valid</p>",
    "parent": "module:server/cache"
  },
  {
    "type": "method",
    "name": "getGameIndexCache",
    "longname": "module:server/cache~getGameIndexCache",
    "url": "module-server_cache.html#~getGameIndexCache",
    "description": "<p>Get cached Game Index data if valid</p>",
    "parent": "module:server/cache"
  },
  {
    "type": "method",
    "name": "invalidateCampaignCache",
    "longname": "module:server/cache~invalidateCampaignCache",
    "url": "module-server_cache.html#~invalidateCampaignCache",
    "description": "<p>Invalidate campaign cache\nCall this after campaign activation/renewal</p>",
    "parent": "module:server/cache"
  },
  {
    "type": "method",
    "name": "invalidateCoopCache",
    "longname": "module:server/cache~invalidateCoopCache",
    "url": "module-server_cache.html#~invalidateCoopCache",
    "description": "<p>Invalidate COOP cache\nCall this after sending COOP targets</p>",
    "parent": "module:server/cache"
  },
  {
    "type": "method",
    "name": "invalidateGameIndexCache",
    "longname": "module:server/cache~invalidateGameIndexCache",
    "url": "module-server_cache.html#~invalidateGameIndexCache",
    "description": "<p>Invalidate game index cache\nCall this after actions that change vessel state (depart, repair, etc.)</p>",
    "parent": "module:server/cache"
  },
  {
    "type": "method",
    "name": "isCacheValid",
    "longname": "module:server/cache~isCacheValid",
    "url": "module-server_cache.html#~isCacheValid",
    "description": "<p>Check if cache entry is still valid</p>",
    "parent": "module:server/cache"
  },
  {
    "type": "method",
    "name": "setAllianceCache",
    "longname": "module:server/cache~setAllianceCache",
    "url": "module-server_cache.html#~setAllianceCache",
    "description": "<p>Set Alliance cache</p>",
    "parent": "module:server/cache"
  },
  {
    "type": "method",
    "name": "setCampaignCache",
    "longname": "module:server/cache~setCampaignCache",
    "url": "module-server_cache.html#~setCampaignCache",
    "description": "<p>Set campaign cache</p>",
    "parent": "module:server/cache"
  },
  {
    "type": "method",
    "name": "setCompanyCache",
    "longname": "module:server/cache~setCompanyCache",
    "url": "module-server_cache.html#~setCompanyCache",
    "description": "<p>Set Company cache</p>",
    "parent": "module:server/cache"
  },
  {
    "type": "method",
    "name": "setCoopCache",
    "longname": "module:server/cache~setCoopCache",
    "url": "module-server_cache.html#~setCoopCache",
    "description": "<p>Set COOP cache</p>",
    "parent": "module:server/cache"
  },
  {
    "type": "method",
    "name": "setGameIndexCache",
    "longname": "module:server/cache~setGameIndexCache",
    "url": "module-server_cache.html#~setGameIndexCache",
    "description": "<p>Set Game Index cache</p>",
    "parent": "module:server/cache"
  },
  {
    "type": "method",
    "name": "createHttpsServer",
    "longname": "module:server/certificate~createHttpsServer",
    "url": "module-server_certificate.html#~createHttpsServer",
    "description": "<p>Creates an HTTPS server with automatically managed SSL certificates.</p>\n<p>This is the primary export function used by app.js to create the HTTPS server.\nIt handles certificate loading/generation transparently, providing a simple\ninterface for creating a secure server.</p>\n<p>Why HTTPS Required:</p>\n<ul>\n<li>WebSocket Secure (wss://) connections require HTTPS, not HTTP</li>\n<li>Modern browsers block insecure WebSocket connections from secure contexts</li>\n<li>Session cookies from shippingmanager.cc may have Secure flag, requiring HTTPS</li>\n<li>Accessing from other devices on LAN requires trusted certificates</li>\n</ul>\n<p>Certificate Management:</p>\n<ul>\n<li>Automatically loads or generates certificates via loadCertificate()</li>\n<li>No manual intervention required</li>\n<li>Server starts with valid HTTPS configuration on first run</li>\n</ul>",
    "parent": "module:server/certificate"
  },
  {
    "type": "method",
    "name": "generateCA",
    "longname": "module:server/certificate~generateCA",
    "url": "module-server_certificate.html#~generateCA",
    "description": "<p>Generates a self-signed Certificate Authority (CA) for signing server certificates.</p>\n<p>This function creates a long-lived (10 year) CA certificate and private key that can be\ninstalled in the system's trust store. Once installed, all server certificates signed by\nthis CA will be automatically trusted by browsers without security warnings.</p>\n<p>Why This Approach:</p>\n<ul>\n<li>Self-signed server certificates trigger warnings on every access</li>\n<li>CA-based approach requires one-time installation, then all future certs are trusted</li>\n<li>10-year validity means CA doesn't need frequent regeneration</li>\n<li>Automatic installation on Windows (via certutil) streamlines setup</li>\n</ul>\n<p>Certificate Properties:</p>\n<ul>\n<li>2048-bit RSA key pair</li>\n<li>SHA-256 signature algorithm</li>\n<li>Basic Constraints: CA=true (can sign other certificates)</li>\n<li>Key Usage: Certificate Signing, CRL Signing</li>\n<li>Common Name: &quot;Shipping Manager CoPilot CA&quot;</li>\n</ul>\n<p>Platform-Specific Installation:</p>\n<ul>\n<li>Windows: Prompts UAC dialog for automatic installation via certutil</li>\n<li>macOS: Provides manual command for adding to System keychain</li>\n<li>Linux: Provides manual command for adding to ca-certificates</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Writes ca-cert.pem and ca-key.pem to project root</li>\n<li>Attempts automatic installation on Windows (requires user approval)</li>\n<li>Logs installation instructions to console</li>\n</ul>",
    "parent": "module:server/certificate"
  },
  {
    "type": "method",
    "name": "generateCertificate",
    "longname": "module:server/certificate~generateCertificate",
    "url": "module-server_certificate.html#~generateCertificate",
    "description": "<p>Generates a server certificate signed by the Certificate Authority.</p>\n<p>This function creates a 1-year server certificate with Subject Alternative Names (SANs)\ncovering all network interfaces. The certificate is signed by the CA (loaded or generated),\nallowing browsers to trust it without warnings if the CA is installed in the system trust store.</p>\n<p>Why This Design:</p>\n<ul>\n<li>1-year validity balances security (shorter lifespan) with convenience (not too frequent renewal)</li>\n<li>SANs for all network IPs enable access from other devices on LAN</li>\n<li>localhost + 127.0.0.1 + ::1 ensure local development works</li>\n<li>CA-signed approach means regenerating server cert doesn't require browser reconfiguration</li>\n</ul>\n<p>Certificate Properties:</p>\n<ul>\n<li>2048-bit RSA key pair</li>\n<li>SHA-256 signature algorithm</li>\n<li>Common Name: &quot;localhost&quot;</li>\n<li>Subject Alternative Names:\n<ul>\n<li>DNS: localhost</li>\n<li>IP: 127.0.0.1, ::1</li>\n<li>IP: All detected network IPs (e.g., 192.168.1.100)</li>\n</ul>\n</li>\n<li>Extended Key Usage: Server Authentication, Client Authentication</li>\n</ul>\n<p>Certificate Workflow:</p>\n<ol>\n<li>Check if CA exists, generate if missing</li>\n<li>Load CA certificate and private key</li>\n<li>Generate new server key pair</li>\n<li>Detect all network IPs via getNetworkIPs()</li>\n<li>Create certificate with SANs for localhost + all IPs</li>\n<li>Sign certificate with CA private key</li>\n<li>Write cert.pem and key.pem to disk</li>\n</ol>\n<p>Side Effects:</p>\n<ul>\n<li>May trigger CA generation if CA files don't exist</li>\n<li>Writes cert.pem and key.pem to project root</li>\n<li>Logs detected network IPs to console</li>\n</ul>",
    "parent": "module:server/certificate"
  },
  {
    "type": "method",
    "name": "getNetworkIPs",
    "longname": "module:server/certificate~getNetworkIPs",
    "url": "module-server_certificate.html#~getNetworkIPs",
    "description": "<p>Detects all non-internal IPv4 addresses from network interfaces.</p>\n<p>This function scans all network interfaces on the system and collects their IPv4 addresses,\nexcluding loopback/internal interfaces. These IPs are used as Subject Alternative Names (SANs)\nin the server certificate, allowing the application to be accessed from other devices on the LAN.</p>\n<p>Why This Matters:</p>\n<ul>\n<li>Browsers require certificates to explicitly list all hostnames/IPs they'll be accessed via</li>\n<li>Without SANs for network IPs, accessing via 192.168.x.x would show certificate warnings</li>\n<li>Dynamically detecting IPs ensures certificates work across different network configurations</li>\n</ul>",
    "parent": "module:server/certificate"
  },
  {
    "type": "method",
    "name": "isCertificateInstalled",
    "longname": "module:server/certificate~isCertificateInstalled",
    "url": "module-server_certificate.html#~isCertificateInstalled",
    "description": "<p>Checks if a certificate with the given Common Name is already installed in Windows Certificate Store.</p>",
    "parent": "module:server/certificate"
  },
  {
    "type": "method",
    "name": "loadCertificate",
    "longname": "module:server/certificate~loadCertificate",
    "url": "module-server_certificate.html#~loadCertificate",
    "description": "<p>Loads existing server certificate or generates a new one if missing.</p>\n<p>This function implements lazy certificate generation - it only creates certificates\nwhen they don't exist. This ensures the server can start quickly on subsequent runs\nwithout regenerating certificates unnecessarily.</p>\n<p>Why This Pattern:</p>\n<ul>\n<li>Certificates are only generated when needed (first run or after deletion)</li>\n<li>Automatic regeneration ensures server always has valid certificates</li>\n<li>Existing certificates are reused to maintain consistent SSL fingerprints</li>\n<li>No manual intervention required for certificate management</li>\n</ul>\n<p>Certificate Lifecycle:</p>\n<ol>\n<li>Check if cert.pem and key.pem exist</li>\n<li>If missing, generate new server certificate (which may also generate CA)</li>\n<li>Read certificate and key files into memory</li>\n<li>Return as Buffer objects for HTTPS server</li>\n</ol>",
    "parent": "module:server/certificate"
  },
  {
    "type": "method",
    "name": "generateForecastText",
    "longname": "module:server/chatbot/commands~generateForecastText",
    "url": "module-server_chatbot_commands.html#~generateForecastText",
    "description": "<p>Generate forecast text for a specific day</p>",
    "parent": "module:server/chatbot/commands"
  },
  {
    "type": "method",
    "name": "getBroadcastDir",
    "longname": "module:server/chatbot/commands~getBroadcastDir",
    "url": "module-server_chatbot_commands.html#~getBroadcastDir",
    "description": "<p>Get broadcast templates directory</p>",
    "parent": "module:server/chatbot/commands"
  },
  {
    "type": "method",
    "name": "getEnabledBroadcastTemplates",
    "longname": "module:server/chatbot/commands~getEnabledBroadcastTemplates",
    "url": "module-server_chatbot_commands.html#~getEnabledBroadcastTemplates",
    "description": "<p>Get enabled broadcast templates for help display</p>",
    "parent": "module:server/chatbot/commands"
  },
  {
    "type": "method",
    "name": "handleForecastCommand",
    "longname": "module:server/chatbot/commands~handleForecastCommand",
    "url": "module-server_chatbot_commands.html#~handleForecastCommand",
    "description": "<p>Handle forecast command</p>",
    "parent": "module:server/chatbot/commands"
  },
  {
    "type": "method",
    "name": "handleHelpCommand",
    "longname": "module:server/chatbot/commands~handleHelpCommand",
    "url": "module-server_chatbot_commands.html#~handleHelpCommand",
    "description": "<p>Handle help command</p>",
    "parent": "module:server/chatbot/commands"
  },
  {
    "type": "method",
    "name": "handleMsgCommand",
    "longname": "module:server/chatbot/commands~handleMsgCommand",
    "url": "module-server_chatbot_commands.html#~handleMsgCommand",
    "description": "<p>Handle msg command - send broadcast template to alliance members\nFormat: !msg <templateKey> - broadcast to all members\nFormat: !msg <templateKey> [userID1] [userID2] ... - send to specific users\nUserIDs MUST be in square brackets</p>",
    "parent": "module:server/chatbot/commands"
  },
  {
    "type": "method",
    "name": "handleWelcomeCommand",
    "longname": "module:server/chatbot/commands~handleWelcomeCommand",
    "url": "module-server_chatbot_commands.html#~handleWelcomeCommand",
    "description": "<p>Handle welcome command - sends welcome message to a specific user\nOnly usable by management members (CEO, COO, Management, Interim CEO)\nINTERNAL COMMAND: Only works in alliance chat, NOT in DMs</p>",
    "parent": "module:server/chatbot/commands"
  },
  {
    "type": "method",
    "name": "hasManagementRole",
    "longname": "module:server/chatbot/commands~hasManagementRole",
    "url": "module-server_chatbot_commands.html#~hasManagementRole",
    "description": "<p>Check if user has management role in alliance (CEO, COO, Management, Interim CEO)</p>",
    "parent": "module:server/chatbot/commands"
  },
  {
    "type": "method",
    "name": "loadBroadcastTemplates",
    "longname": "module:server/chatbot/commands~loadBroadcastTemplates",
    "url": "module-server_chatbot_commands.html#~loadBroadcastTemplates",
    "description": "<p>Load broadcast templates for a user</p>",
    "parent": "module:server/chatbot/commands"
  },
  {
    "type": "method",
    "name": "executeCommand",
    "longname": "module:server/chatbot/executor~executeCommand",
    "url": "module-server_chatbot_executor.html#~executeCommand",
    "description": "<p>Execute a command</p>",
    "parent": "module:server/chatbot/executor"
  },
  {
    "type": "method",
    "name": "findCustomCommand",
    "longname": "module:server/chatbot/parser~findCustomCommand",
    "url": "module-server_chatbot_parser.html#~findCustomCommand",
    "description": "<p>Find custom command by trigger</p>",
    "parent": "module:server/chatbot/parser"
  },
  {
    "type": "method",
    "name": "hasManagementRole",
    "longname": "module:server/chatbot/parser~hasManagementRole",
    "url": "module-server_chatbot_parser.html#~hasManagementRole",
    "description": "<p>Check if user has management role in alliance (CEO, COO, Management, Interim CEO)</p>",
    "parent": "module:server/chatbot/parser"
  },
  {
    "type": "method",
    "name": "isCommandAllowedInChannel",
    "longname": "module:server/chatbot/parser~isCommandAllowedInChannel",
    "url": "module-server_chatbot_parser.html#~isCommandAllowedInChannel",
    "description": "<p>Check if a command is allowed in a specific channel (alliance or DM)</p>",
    "parent": "module:server/chatbot/parser"
  },
  {
    "type": "method",
    "name": "processAllianceMessage",
    "longname": "module:server/chatbot/parser~processAllianceMessage",
    "url": "module-server_chatbot_parser.html#~processAllianceMessage",
    "description": "<p>Process alliance chat message for commands</p>",
    "parent": "module:server/chatbot/parser"
  },
  {
    "type": "method",
    "name": "processPrivateMessage",
    "longname": "module:server/chatbot/parser~processPrivateMessage",
    "url": "module-server_chatbot_parser.html#~processPrivateMessage",
    "description": "<p>Process private message for auto-reply\nSubject is ignored - only message body is parsed for commands</p>",
    "parent": "module:server/chatbot/parser"
  },
  {
    "type": "method",
    "name": "processQueue",
    "longname": "module:server/chatbot/parser~processQueue",
    "url": "module-server_chatbot_parser.html#~processQueue",
    "description": "<p>Process command queue with delays between commands</p>",
    "parent": "module:server/chatbot/parser"
  },
  {
    "type": "method",
    "name": "queueCommand",
    "longname": "module:server/chatbot/parser~queueCommand",
    "url": "module-server_chatbot_parser.html#~queueCommand",
    "description": "<p>Add command to queue and start processing if not already running</p>",
    "parent": "module:server/chatbot/parser"
  },
  {
    "type": "method",
    "name": "resolveCommandName",
    "longname": "module:server/chatbot/parser~resolveCommandName",
    "url": "module-server_chatbot_parser.html#~resolveCommandName",
    "description": "<p>Resolve command name from input (including aliases)</p>",
    "parent": "module:server/chatbot/parser"
  },
  {
    "type": "method",
    "name": "validateCommandArguments",
    "longname": "module:server/chatbot/parser~validateCommandArguments",
    "url": "module-server_chatbot_parser.html#~validateCommandArguments",
    "description": "<p>Validate command arguments</p>",
    "parent": "module:server/chatbot/parser"
  },
  {
    "type": "method",
    "name": "validateForecastArguments",
    "longname": "module:server/chatbot/parser~validateForecastArguments",
    "url": "module-server_chatbot_parser.html#~validateForecastArguments",
    "description": "<p>Validate forecast command arguments\nValid formats:</p>\n<ul>\n<li>No args (default: tomorrow)</li>\n<li>1 arg: day (number 1-31)</li>\n<li>2 args: day (number 1-31) + timezone (valid timezone string)</li>\n</ul>",
    "parent": "module:server/chatbot/parser"
  },
  {
    "type": "method",
    "name": "validateWelcomeArguments",
    "longname": "module:server/chatbot/parser~validateWelcomeArguments",
    "url": "module-server_chatbot_parser.html#~validateWelcomeArguments",
    "description": "<p>Validate welcome command arguments\nValid format: 1 arg (user ID as numeric string, optionally wrapped in brackets)\nGame chat automatically wraps numbers in brackets</p>",
    "parent": "module:server/chatbot/parser"
  },
  {
    "type": "method",
    "name": "scheduleDailyForecast",
    "longname": "module:server/chatbot/scheduler~scheduleDailyForecast",
    "url": "module-server_chatbot_scheduler.html#~scheduleDailyForecast",
    "description": "<p>Schedule daily forecast message\nUses LOCAL server time, not UTC</p>",
    "parent": "module:server/chatbot/scheduler"
  },
  {
    "type": "method",
    "name": "sendDailyForecast",
    "longname": "module:server/chatbot/scheduler~sendDailyForecast",
    "url": "module-server_chatbot_scheduler.html#~sendDailyForecast",
    "description": "<p>Send daily forecast message</p>",
    "parent": "module:server/chatbot/scheduler"
  },
  {
    "type": "method",
    "name": "setupScheduledTasks",
    "longname": "module:server/chatbot/scheduler~setupScheduledTasks",
    "url": "module-server_chatbot_scheduler.html#~setupScheduledTasks",
    "description": "<p>Setup scheduled tasks</p>",
    "parent": "module:server/chatbot/scheduler"
  },
  {
    "type": "method",
    "name": "broadcastDmFailureNotification",
    "longname": "module:server/chatbot/sender~broadcastDmFailureNotification",
    "url": "module-server_chatbot_sender.html#~broadcastDmFailureNotification",
    "description": "<p>Broadcast DM failure notification to frontend</p>",
    "parent": "module:server/chatbot/sender"
  },
  {
    "type": "method",
    "name": "broadcastDmQueuedNotification",
    "longname": "module:server/chatbot/sender~broadcastDmQueuedNotification",
    "url": "module-server_chatbot_sender.html#~broadcastDmQueuedNotification",
    "description": "<p>Broadcast DM queued confirmation to frontend</p>",
    "parent": "module:server/chatbot/sender"
  },
  {
    "type": "method",
    "name": "broadcastRateLimitNotification",
    "longname": "module:server/chatbot/sender~broadcastRateLimitNotification",
    "url": "module-server_chatbot_sender.html#~broadcastRateLimitNotification",
    "description": "<p>Broadcast rate limit notification to frontend</p>",
    "parent": "module:server/chatbot/sender"
  },
  {
    "type": "method",
    "name": "getDmQueueStatus",
    "longname": "module:server/chatbot/sender~getDmQueueStatus",
    "url": "module-server_chatbot_sender.html#~getDmQueueStatus",
    "description": "<p>Get current queue status</p>",
    "parent": "module:server/chatbot/sender"
  },
  {
    "type": "method",
    "name": "processDmQueue",
    "longname": "module:server/chatbot/sender~processDmQueue",
    "url": "module-server_chatbot_sender.html#~processDmQueue",
    "description": "<p>Process the DM queue with rate limiting</p>",
    "parent": "module:server/chatbot/sender"
  },
  {
    "type": "method",
    "name": "queuePrivateMessage",
    "longname": "module:server/chatbot/sender~queuePrivateMessage",
    "url": "module-server_chatbot_sender.html#~queuePrivateMessage",
    "description": "<p>Add a DM to the queue and return a promise that resolves when sent</p>",
    "parent": "module:server/chatbot/sender"
  },
  {
    "type": "method",
    "name": "sendAllianceMessage",
    "longname": "module:server/chatbot/sender~sendAllianceMessage",
    "url": "module-server_chatbot_sender.html#~sendAllianceMessage",
    "description": "<p>Send alliance message</p>",
    "parent": "module:server/chatbot/sender"
  },
  {
    "type": "method",
    "name": "sendErrorMessage",
    "longname": "module:server/chatbot/sender~sendErrorMessage",
    "url": "module-server_chatbot_sender.html#~sendErrorMessage",
    "description": "<p>Log error to console only - NEVER send errors to chat or DM</p>",
    "parent": "module:server/chatbot/sender"
  },
  {
    "type": "method",
    "name": "sendPrivateMessage",
    "longname": "module:server/chatbot/sender~sendPrivateMessage",
    "url": "module-server_chatbot_sender.html#~sendPrivateMessage",
    "description": "<p>Send private message (uses queue for rate limiting)</p>",
    "parent": "module:server/chatbot/sender"
  },
  {
    "type": "method",
    "name": "sendPrivateMessageDirect",
    "longname": "module:server/chatbot/sender~sendPrivateMessageDirect",
    "url": "module-server_chatbot_sender.html#~sendPrivateMessageDirect",
    "description": "<p>Send private message directly (bypasses queue - internal use only)</p>",
    "parent": "module:server/chatbot/sender"
  },
  {
    "type": "method",
    "name": "sendResponse",
    "longname": "module:server/chatbot/sender~sendResponse",
    "url": "module-server_chatbot_sender.html#~sendResponse",
    "description": "<p>Send response based on type</p>",
    "parent": "module:server/chatbot/sender"
  },
  {
    "type": "method",
    "name": "getDefaultChatBotObject",
    "longname": "module:server/chatbot/settings~getDefaultChatBotObject",
    "url": "module-server_chatbot_settings.html#~getDefaultChatBotObject",
    "description": "<p>Get default chat bot settings object</p>",
    "parent": "module:server/chatbot/settings"
  },
  {
    "type": "method",
    "name": "hasManagementRole",
    "longname": "module:server/chatbot/settings~hasManagementRole",
    "url": "module-server_chatbot_settings.html#~hasManagementRole",
    "description": "<p>Check if user has management role in alliance (CEO, COO, Management, Interim CEO)</p>",
    "parent": "module:server/chatbot/settings"
  },
  {
    "type": "method",
    "name": "loadSettings",
    "longname": "module:server/chatbot/settings~loadSettings",
    "url": "module-server_chatbot_settings.html#~loadSettings",
    "description": "<p>Load settings from per-user settings file (settings-{userId}.json)</p>",
    "parent": "module:server/chatbot/settings"
  },
  {
    "type": "method",
    "name": "mapChatBotObjectToFlatSettings",
    "longname": "module:server/chatbot/settings~mapChatBotObjectToFlatSettings",
    "url": "module-server_chatbot_settings.html#~mapChatBotObjectToFlatSettings",
    "description": "<p>Map ChatBot object to flat per-user settings keys\nThis is the reverse operation of mapSettingsToChatBotObject()</p>",
    "parent": "module:server/chatbot/settings"
  },
  {
    "type": "method",
    "name": "mapSettingsToChatBotObject",
    "longname": "module:server/chatbot/settings~mapSettingsToChatBotObject",
    "url": "module-server_chatbot_settings.html#~mapSettingsToChatBotObject",
    "description": "<p>Map per-user settings to chatbot settings object</p>",
    "parent": "module:server/chatbot/settings"
  },
  {
    "type": "method",
    "name": "updateSettings",
    "longname": "module:server/chatbot/settings~updateSettings",
    "url": "module-server_chatbot_settings.html#~updateSettings",
    "description": "<p>Update settings from frontend\nSettings are saved to per-user settings file using flat keys</p>",
    "parent": "module:server/chatbot/settings"
  },
  {
    "type": "method",
    "name": "initialize",
    "longname": "module:server/chatbot~ChatBot#initialize",
    "url": "module-server_chatbot-ChatBot.html#initialize",
    "description": "<p>Initialize the chat bot with settings</p>",
    "parent": "module:server/chatbot~ChatBot"
  },
  {
    "type": "method",
    "name": "processAllianceMessage",
    "longname": "module:server/chatbot~ChatBot#processAllianceMessage",
    "url": "module-server_chatbot-ChatBot.html#processAllianceMessage",
    "description": "<p>Process alliance chat message for commands\nDelegates to parser module</p>",
    "parent": "module:server/chatbot~ChatBot"
  },
  {
    "type": "method",
    "name": "processPrivateMessage",
    "longname": "module:server/chatbot~ChatBot#processPrivateMessage",
    "url": "module-server_chatbot-ChatBot.html#processPrivateMessage",
    "description": "<p>Process private message for auto-reply\nDelegates to parser module</p>",
    "parent": "module:server/chatbot~ChatBot"
  },
  {
    "type": "method",
    "name": "setupScheduledTasks",
    "longname": "module:server/chatbot~ChatBot#setupScheduledTasks",
    "url": "module-server_chatbot-ChatBot.html#setupScheduledTasks",
    "description": "<p>Setup scheduled tasks\nDelegates to scheduler module</p>",
    "parent": "module:server/chatbot~ChatBot"
  },
  {
    "type": "method",
    "name": "updateSettings",
    "longname": "module:server/chatbot~ChatBot#updateSettings",
    "url": "module-server_chatbot-ChatBot.html#updateSettings",
    "description": "<p>Update settings from frontend\nDelegates to settings manager and restarts scheduled tasks</p>",
    "parent": "module:server/chatbot~ChatBot"
  },
  {
    "type": "method",
    "name": "getAppBaseDir",
    "longname": "module:server/config~getAppBaseDir",
    "url": "module-server_config.html#~getAppBaseDir",
    "description": "<p>Get the full app base directory path (platform-specific).\nThis is the recommended function for getting paths to app data.</p>\n<ul>\n<li>Windows: AppData/Local/ShippingManagerCoPilot</li>\n<li>macOS: ~/Library/Application Support/ShippingManagerCoPilot</li>\n<li>Linux: ~/.ShippingManagerCoPilot</li>\n</ul>",
    "parent": "module:server/config"
  },
  {
    "type": "method",
    "name": "getAppDataDir",
    "longname": "module:server/config~getAppDataDir",
    "url": "module-server_config.html#~getAppDataDir",
    "description": "<p>Get platform-specific AppData directory without using environment variables.\nUsed for user settings, sessions, certificates (local data)</p>",
    "parent": "module:server/config"
  },
  {
    "type": "method",
    "name": "getAppPlatformCookie",
    "longname": "module:server/config~getAppPlatformCookie",
    "url": "module-server_config.html#~getAppPlatformCookie",
    "description": "<p>Get app_platform cookie</p>",
    "parent": "module:server/config"
  },
  {
    "type": "method",
    "name": "getAppVersionCookie",
    "longname": "module:server/config~getAppVersionCookie",
    "url": "module-server_config.html#~getAppVersionCookie",
    "description": "<p>Get app_version cookie</p>",
    "parent": "module:server/config"
  },
  {
    "type": "method",
    "name": "getInternalBaseUrl",
    "longname": "module:server/config~getInternalBaseUrl",
    "url": "module-server_config.html#~getInternalBaseUrl",
    "description": "<p>Get the internal base URL for server-to-server API calls.\nUses localhost if HOST is 0.0.0.0 (all interfaces) or 127.0.0.1,\notherwise uses the configured HOST.</p>",
    "parent": "module:server/config"
  },
  {
    "type": "method",
    "name": "getLocalAppDataDir",
    "longname": "module:server/config~getLocalAppDataDir",
    "url": "module-server_config.html#~getLocalAppDataDir",
    "description": "<p>Get platform-specific Local AppData directory (for machine-specific cache/data).\nUsed for forecast data, cache files, logs (non-roaming data)</p>",
    "parent": "module:server/config"
  },
  {
    "type": "method",
    "name": "getLogDir",
    "longname": "module:server/config~getLogDir",
    "url": "module-server_config.html#~getLogDir",
    "description": "<p>Get log directory path.\nWhen packaged: Platform-specific app data directory</p>\n<ul>\n<li>Windows: AppData/Local/ShippingManagerCoPilot/userdata/logs/</li>\n<li>macOS: ~/Library/Application Support/ShippingManagerCoPilot/userdata/logs/</li>\n<li>Linux: ~/.ShippingManagerCoPilot/userdata/logs/\nWhen running from source: ./userdata/logs/</li>\n</ul>",
    "parent": "module:server/config"
  },
  {
    "type": "method",
    "name": "getSessionCookie",
    "longname": "module:server/config~getSessionCookie",
    "url": "module-server_config.html#~getSessionCookie",
    "description": "<p>Get the current session cookie</p>",
    "parent": "module:server/config"
  },
  {
    "type": "method",
    "name": "getSettingsDir",
    "longname": "module:server/config~getSettingsDir",
    "url": "module-server_config.html#~getSettingsDir",
    "description": "<p>Get settings directory path based on execution mode.\nWhen packaged: Platform-specific app data directory</p>\n<ul>\n<li>Windows: AppData/Local/ShippingManagerCoPilot/userdata/settings/</li>\n<li>macOS: ~/Library/Application Support/ShippingManagerCoPilot/userdata/settings/</li>\n<li>Linux: ~/.ShippingManagerCoPilot/userdata/settings/\nWhen running from source: ./userdata/settings/</li>\n</ul>",
    "parent": "module:server/config"
  },
  {
    "type": "method",
    "name": "loadStartupSettings",
    "longname": "module:server/config~loadStartupSettings",
    "url": "module-server_config.html#~loadStartupSettings",
    "description": "<p>Load startup settings from systray configuration file.\nCreates settings.json with localhost-only defaults on first run.</p>",
    "parent": "module:server/config"
  },
  {
    "type": "method",
    "name": "setSessionCookie",
    "longname": "module:server/config~setSessionCookie",
    "url": "module-server_config.html#~setSessionCookie",
    "description": "<p>Set the session cookie for API authentication</p>",
    "parent": "module:server/config"
  },
  {
    "type": "method",
    "name": "fetchUserContribution",
    "longname": "module:server/gameapi/alliance~fetchUserContribution",
    "url": "module-server_gameapi_alliance.html#~fetchUserContribution",
    "description": "<p>Fetches the current user's alliance contribution points with retry and caching</p>\n<p>Returns the user's current season contribution score from the alliance members API.\nUsed for tracking contribution gains from vessel departures.</p>\n<p>Features:</p>\n<ul>\n<li>Retries once on failure</li>\n<li>Falls back to cached value if API fails (within 5 min)</li>\n<li>Returns null if user not in alliance OR if we can't get reliable data</li>\n<li>Returns number only when we have a reliable value (from API or fresh cache)</li>\n</ul>",
    "parent": "module:server/gameapi/alliance"
  },
  {
    "type": "method",
    "name": "fetchBunkerState",
    "longname": "module:server/gameapi/bunker~fetchBunkerState",
    "url": "module-server_gameapi_bunker.html#~fetchBunkerState",
    "description": "<p>Fetches current bunker state (fuel, CO2, cash, capacity).\nUsed by auto-rebuy to check if purchase is needed.</p>\n<p>CRITICAL API QUIRK:</p>\n<ul>\n<li>/bunker/get-prices does NOT return capacity fields (max_fuel, max_co2)</li>\n<li>Use /user/get-user-settings which includes settings.max_fuel/.max_co2</li>\n<li>This is much smaller than /game/index (no vessel/port data)</li>\n</ul>\n<p>Unit Conversions:</p>\n<ul>\n<li>API stores values in kilograms (kg)</li>\n<li>We convert to tons (t) for readability: 1t = 1000kg</li>\n<li>All internal logic uses tons, only API calls use kg</li>\n</ul>",
    "parent": "module:server/gameapi/bunker"
  },
  {
    "type": "method",
    "name": "fetchPrices",
    "longname": "module:server/gameapi/bunker~fetchPrices",
    "url": "module-server_gameapi_bunker.html#~fetchPrices",
    "description": "<p>Fetches current fuel and CO2 prices from the game API.\nUsed by scheduler to update prices every 30 minutes.</p>\n<p>UTC Time Slot Matching:</p>\n<ul>\n<li>Prices change every 30 minutes (00:00, 00:30, 01:00, etc.)</li>\n<li>Must match current UTC time to correct slot</li>\n<li>Falls back to event prices if available during events</li>\n</ul>\n<p>Event Handling:</p>\n<ul>\n<li>API returns event_fuel_discount/event_co2_discount during events</li>\n<li>Discounted prices in discounted_fuel/discounted_co2 fields</li>\n<li>Event data includes percentage discount and type</li>\n</ul>",
    "parent": "module:server/gameapi/bunker"
  },
  {
    "type": "method",
    "name": "purchaseCO2",
    "longname": "module:server/gameapi/bunker~purchaseCO2",
    "url": "module-server_gameapi_bunker.html#~purchaseCO2",
    "description": "<p>Purchases specified amount of CO2 certificates.\nUsed by auto-rebuy feature.</p>\n<p>API Quirks:</p>\n<ul>\n<li>Same quirks as purchaseFuel (see above)</li>\n<li>API field name is 'co2' OR 'co2_certificate' depending on endpoint</li>\n<li>Always check both fields: data.user.co2 || data.user.co2_certificate</li>\n</ul>",
    "parent": "module:server/gameapi/bunker"
  },
  {
    "type": "method",
    "name": "purchaseFuel",
    "longname": "module:server/gameapi/bunker~purchaseFuel",
    "url": "module-server_gameapi_bunker.html#~purchaseFuel",
    "description": "<p>Purchases specified amount of fuel.\nUsed by auto-rebuy feature.</p>\n<p>API Quirks:</p>\n<ul>\n<li>API expects amount in kilograms (kg), not tons</li>\n<li>This function accepts tons and converts to kg internally (amount * 1000)</li>\n<li>Response does NOT include updated capacity fields (max_fuel, max_co2)</li>\n<li>Response does NOT include purchase cost - we calculate it ourselves</li>\n<li>Purchase is INSTANT (no delay/cooldown in game API)</li>\n</ul>\n<p>Why Unit Conversion:</p>\n<ul>\n<li>Game UI displays tons (more readable: &quot;500t&quot; vs &quot;500000kg&quot;)</li>\n<li>API internally uses kg for precision</li>\n<li>Conversion factor: 1 ton = 1000 kg (always integer math)</li>\n</ul>",
    "parent": "module:server/gameapi/bunker"
  },
  {
    "type": "method",
    "name": "activateCampaign",
    "longname": "module:server/gameapi/campaign~activateCampaign",
    "url": "module-server_gameapi_campaign.html#~activateCampaign",
    "description": "<p>Activates a marketing campaign by ID.\nUsed by auto-campaign-renewal feature.</p>",
    "parent": "module:server/gameapi/campaign"
  },
  {
    "type": "method",
    "name": "fetchCampaigns",
    "longname": "module:server/gameapi/campaign~fetchCampaigns",
    "url": "module-server_gameapi_campaign.html#~fetchCampaigns",
    "description": "<p>Fetches available marketing campaigns and active campaign status.\nUses cache to avoid duplicate API calls (campaigns change rarely).\nUsed by auto-campaign-renewal feature.</p>",
    "parent": "module:server/gameapi/campaign"
  },
  {
    "type": "method",
    "name": "bulkRepairVessels",
    "longname": "module:server/gameapi/maintenance~bulkRepairVessels",
    "url": "module-server_gameapi_maintenance.html#~bulkRepairVessels",
    "description": "<p>Performs bulk wear maintenance on multiple vessels.\nUsed by auto-repair feature to repair all vessels at once.</p>\n<p>API Quirks:</p>\n<ul>\n<li>Same JSON string requirement as getMaintenanceCost (see above)</li>\n<li>Must send: vessel_ids: JSON.stringify([123,456,789])</li>\n<li>API DOES return total_cost field (unlike getMaintenanceCost)</li>\n<li>Repairs execute instantly (no animation/delay in game)</li>\n<li>All repairs succeed or all fail (atomic operation)</li>\n</ul>",
    "parent": "module:server/gameapi/maintenance"
  },
  {
    "type": "method",
    "name": "fetchRepairCount",
    "longname": "module:server/gameapi/maintenance~fetchRepairCount",
    "url": "module-server_gameapi_maintenance.html#~fetchRepairCount",
    "description": "<p>Fetches count of vessels needing repair.\nUses global cache (10s TTL) to reduce duplicate API calls.\nUsed by scheduler to update repair badge.</p>",
    "parent": "module:server/gameapi/maintenance"
  },
  {
    "type": "method",
    "name": "getMaintenanceCost",
    "longname": "module:server/gameapi/maintenance~getMaintenanceCost",
    "url": "module-server_gameapi_maintenance.html#~getMaintenanceCost",
    "description": "<p>Gets maintenance cost for specified vessels.\nUsed by auto-repair feature to calculate costs before repair.</p>\n<p>API Quirks:</p>\n<ul>\n<li>vessel_ids must be sent as JSON string: &quot;[123,456]&quot;</li>\n<li>API doesn't return total_cost field (must calculate from vessels array)</li>\n</ul>",
    "parent": "module:server/gameapi/maintenance"
  },
  {
    "type": "method",
    "name": "fetchAssignedPorts",
    "longname": "module:server/gameapi/port~fetchAssignedPorts",
    "url": "module-server_gameapi_port.html#~fetchAssignedPorts",
    "description": "<p>Fetches all assigned ports with demand and consumed data.\nUsed by intelligent auto-depart feature to calculate remaining port capacity.</p>",
    "parent": "module:server/gameapi/port"
  },
  {
    "type": "method",
    "name": "fetchAutoPrice",
    "longname": "module:server/gameapi/port~fetchAutoPrice",
    "url": "module-server_gameapi_port.html#~fetchAutoPrice",
    "description": "<p>Fetches auto-calculated price for a specific vessel on a route.\nUsed for intelligent pricing in auto-depart feature.</p>",
    "parent": "module:server/gameapi/port"
  },
  {
    "type": "method",
    "name": "getAssignedPorts",
    "longname": "module:server/gameapi/port~getAssignedPorts",
    "url": "module-server_gameapi_port.html#~getAssignedPorts",
    "description": "<p>Gets all assigned ports with their data.\nSimple wrapper for the API call.</p>",
    "parent": "module:server/gameapi/port"
  },
  {
    "type": "method",
    "name": "getRoutesByPorts",
    "longname": "module:server/gameapi/port~getRoutesByPorts",
    "url": "module-server_gameapi_port.html#~getRoutesByPorts",
    "description": "<p>Fetches route path between two ports.\nReturns the actual sea route with all waypoints.</p>",
    "parent": "module:server/gameapi/port"
  },
  {
    "type": "method",
    "name": "getVesselPorts",
    "longname": "module:server/gameapi/port~getVesselPorts",
    "url": "module-server_gameapi_port.html#~getVesselPorts",
    "description": "<p>Fetches reachable ports for a specific vessel.\nNote: Response includes empty demand arrays, must aggregate with game/index</p>",
    "parent": "module:server/gameapi/port"
  },
  {
    "type": "method",
    "name": "fetchEventData",
    "longname": "module:server/gameapi/util~fetchEventData",
    "url": "module-server_gameapi_util.html#~fetchEventData",
    "description": "<p>Fetches data about the current active event, if any.\nUses global cache (10s TTL) to reduce duplicate API calls.\nEvents affect pricing (discounts) and demand multipliers.\nUsed by fetchPrices() to apply event discounts automatically.</p>",
    "parent": "module:server/gameapi/util"
  },
  {
    "type": "method",
    "name": "fetchUnreadMessages",
    "longname": "module:server/gameapi/util~fetchUnreadMessages",
    "url": "module-server_gameapi_util.html#~fetchUnreadMessages",
    "description": "<p>Fetches the count of unread messages.\nUses cached messenger data from WebSocket to reduce API calls.\nIncludes system messages like hijack notifications.</p>",
    "parent": "module:server/gameapi/util"
  },
  {
    "type": "method",
    "name": "getGameIndex",
    "longname": "module:server/gameapi/util~getGameIndex",
    "url": "module-server_gameapi_util.html#~getGameIndex",
    "description": "<p>Fetches complete game state from /game/index.\nUses global cache (10s TTL) to reduce duplicate API calls.\nReturns all vessels, ports, and game data.</p>",
    "parent": "module:server/gameapi/util"
  },
  {
    "type": "method",
    "name": "departVessel",
    "longname": "module:server/gameapi/vessel~departVessel",
    "url": "module-server_gameapi_vessel.html#~departVessel",
    "description": "<p>Departs a single vessel on its assigned route.\nUsed by intelligent auto-depart feature.</p>\n<p>CRITICAL API BEHAVIORS:</p>\n<ul>\n<li>Vessel must have assigned route (route_id) and valid price-per-TEU (&gt; 0)</li>\n<li>API returns depart_income as NET income (after harbor fees already deducted)</li>\n<li>Harbor fee calculation bug exists at some ports (fee &gt; income, resulting in negative profit)</li>\n<li>API error &quot;Vessel not found or status invalid&quot; = vessel already departed (race condition)</li>\n</ul>\n<p>Error Handling Strategy:</p>\n<ul>\n<li>Always pass through ACTUAL error message from API (don't mask it)</li>\n<li>&quot;Vessel not found&quot; is OK during auto-depart (vessel departed between checks)</li>\n<li>Negative income triggers debug logging + saves raw API response to file</li>\n</ul>\n<p>Parameters:</p>\n<ul>\n<li>speed: Vessel's cruising speed in knots (from vessel specs)</li>\n<li>guards: 0 or 10 (game mechanic for piracy protection)</li>\n<li>history: Always 0 (don't add to history - undocumented API parameter)</li>\n</ul>",
    "parent": "module:server/gameapi/vessel"
  },
  {
    "type": "method",
    "name": "fetchVessels",
    "longname": "module:server/gameapi/vessel~fetchVessels",
    "url": "module-server_gameapi_vessel.html#~fetchVessels",
    "description": "<p>Fetches all user vessels from game index.\nUses global cache (10s TTL) to reduce duplicate API calls.\nReturns complete vessel list with status, cargo, and route info.</p>",
    "parent": "module:server/gameapi/vessel"
  },
  {
    "type": "method",
    "name": "getAllUserVessels",
    "longname": "module:server/gameapi/vessel~getAllUserVessels",
    "url": "module-server_gameapi_vessel.html#~getAllUserVessels",
    "description": "<p>Fetches all user vessels with complete data.</p>",
    "parent": "module:server/gameapi/vessel"
  },
  {
    "type": "method",
    "name": "getVesselHistory",
    "longname": "module:server/gameapi/vessel~getVesselHistory",
    "url": "module-server_gameapi_vessel.html#~getVesselHistory",
    "description": "<p>Fetches trip history for a specific vessel.</p>",
    "parent": "module:server/gameapi/vessel"
  },
  {
    "type": "method",
    "name": "setupMiddleware",
    "longname": "module:server/middleware/index~setupMiddleware",
    "url": "module-server_middleware_index.html#~setupMiddleware",
    "description": "<p>Configures and applies all application-wide middleware to the Express app.</p>\n<p>This function sets up the complete middleware stack in the correct order.\nOrder matters - security headers must be first, body parsing before routes, etc.</p>\n<p>Helmet Configuration:</p>\n<ul>\n<li>contentSecurityPolicy: false - Allows accessing server via network IPs (192.168.x.x)</li>\n<li>strictTransportSecurity: false - Self-signed certs require manual certificate warning bypass;\nHSTS would prevent users from accessing /ca-cert.pem to install the CA certificate,\ncreating a Catch-22 where users cannot bypass warnings to get the trusted cert</li>\n<li>CORS headers disabled - Enables access from other devices on LAN</li>\n<li>This is necessary for LAN accessibility but reduces some security protections</li>\n<li>Trade-off accepted for single-user LAN deployment model</li>\n</ul>\n<p>Body Parser Configuration:</p>\n<ul>\n<li>Limit: 50KB - Allows for hijacking negotiation history storage</li>\n<li>JSON only - No form data or multipart parsing needed</li>\n<li>Auto-rejects requests with Content-Type mismatch</li>\n</ul>\n<p>Static Files:</p>\n<ul>\n<li>Serves public/ directory for HTML, CSS, JS, images</li>\n<li>No directory listing enabled (Express default)</li>\n<li>Caching headers set automatically by Express</li>\n</ul>\n<p>Rate Limiting:</p>\n<ul>\n<li>Global: 1000 requests per 15 minutes (all endpoints)</li>\n<li>Message-specific: Applied separately in routes (30/min)</li>\n<li>Sliding window algorithm (default in express-rate-limit)</li>\n<li>Returns 429 Too Many Requests when exceeded</li>\n</ul>\n<p>Why This Order:</p>\n<ol>\n<li>Helmet first - Sets security headers before any processing</li>\n<li>Body parser - Needed by routes to read request bodies</li>\n<li>Static files - Serve static assets before route handlers</li>\n<li>Rate limiter - Applied after static files (no rate limit on CSS/JS)</li>\n</ol>\n<p>Side Effects:</p>\n<ul>\n<li>Modifies app instance with app.use() calls</li>\n<li>Registers middleware in Express middleware stack</li>\n<li>No return value (mutates app object)</li>\n</ul>",
    "parent": "module:server/middleware/index"
  },
  {
    "type": "method",
    "name": "GET /api/alliance-high-scores",
    "longname": "module:server/routes/alliance.GET /api/alliance-high-scores",
    "url": "module-server_routes_alliance.html#.GET/api/alliance-high-scores",
    "description": "<p>GET /api/alliance-high-scores - Retrieves alliance leaderboard rankings.</p>\n<p>This endpoint fetches the top alliances ranked by contribution score,\nshowing their benefit levels, member counts, and league positions.</p>\n<p>Query Parameters:</p>\n<ul>\n<li>page: Page number (default: 0)</li>\n<li>tab: &quot;current&quot; or &quot;previous&quot; season (default: &quot;current&quot;)</li>\n<li>language: &quot;global&quot; or specific language code (default: &quot;global&quot;)</li>\n<li>league_level: &quot;all&quot; or specific level number (default: &quot;all&quot;)</li>\n<li>score: Sorting metric, e.g., &quot;contribution&quot; (default: &quot;contribution&quot;)</li>\n</ul>",
    "parent": "module:server/routes/alliance"
  },
  {
    "type": "method",
    "name": "GET /api/alliance-info",
    "longname": "module:server/routes/alliance.GET /api/alliance-info",
    "url": "module-server_routes_alliance.html#.GET/api/alliance-info",
    "description": "<p>GET /api/alliance-info - Retrieves alliance details including stats and benefits.</p>\n<p>This endpoint fetches comprehensive alliance information from the game API,\nincluding alliance stats, benefit levels, league info, and coop status.</p>\n<p>Response includes:</p>\n<ul>\n<li>Alliance name, logo, description, language</li>\n<li>Member count, total share value</li>\n<li>Stats: departures, contribution score, coops (24h/season/total)</li>\n<li>Benefit levels and boosts (rep_boost, demand_boost, coop_boost)</li>\n<li>League level, group position, promotion status</li>\n<li>Coop status (used vs needed)</li>\n</ul>",
    "parent": "module:server/routes/alliance"
  },
  {
    "type": "method",
    "name": "GET /api/alliance-info/:id",
    "longname": "module:server/routes/alliance.GET /api/alliance-info/:id",
    "url": "module-server_routes_alliance.html#.GET/api/alliance-info/:id",
    "description": "<p>GET /api/alliance-info/:id - Retrieves specific alliance details by ID.</p>\n<p>This endpoint fetches comprehensive alliance information for ANY alliance,\nnot just the user's alliance. Used for viewing other alliances from highscores.</p>",
    "parent": "module:server/routes/alliance"
  },
  {
    "type": "method",
    "name": "GET /api/alliance-members",
    "longname": "module:server/routes/alliance.GET /api/alliance-members",
    "url": "module-server_routes_alliance.html#.GET/api/alliance-members",
    "description": "<p>GET /api/alliance-members - Retrieves list of all alliance members.</p>\n<p>This endpoint fetches the complete alliance member roster from the game API\nand returns it as a simplified array of user_id and company_name pairs.</p>\n<p>Why This Endpoint:</p>\n<ul>\n<li>Provides member list for UI features (member directory, mentions, etc.)</li>\n<li>Simplifies game API response (returns only needed fields)</li>\n<li>Gracefully handles users not in alliance</li>\n</ul>\n<p>No Alliance Handling:</p>\n<ul>\n<li>Returns empty array [] when user not in alliance</li>\n<li>Prevents 404 errors from game API</li>\n</ul>\n<p>Response Format:\n[\n{ user_id: 12345, company_name: &quot;ABC Shipping&quot; },\n{ user_id: 67890, company_name: &quot;XYZ Corp&quot; }\n]</p>\n<p>Side Effects:</p>\n<ul>\n<li>Makes API call to /alliance/get-alliance-members</li>\n</ul>",
    "parent": "module:server/routes/alliance"
  },
  {
    "type": "method",
    "name": "GET /api/alliance-members/:id",
    "longname": "module:server/routes/alliance.GET /api/alliance-members/:id",
    "url": "module-server_routes_alliance.html#.GET/api/alliance-members/:id",
    "description": "<p>GET /api/alliance-members/:id - Retrieves members of a specific alliance by ID.</p>\n<p>This endpoint fetches member information for ANY alliance,\nnot just the user's alliance. Used for viewing other alliances from highscores.</p>",
    "parent": "module:server/routes/alliance"
  },
  {
    "type": "method",
    "name": "GET /api/alliance-settings",
    "longname": "module:server/routes/alliance.GET /api/alliance-settings",
    "url": "module-server_routes_alliance.html#.GET/api/alliance-settings",
    "description": "<p>GET /api/alliance-settings - Retrieves user's alliance cooperation settings.</p>\n<p>This endpoint fetches the user's current alliance settings including\ncoop enabled status and any restrictions configured.</p>\n<p>Response includes:</p>\n<ul>\n<li>coop_enabled: boolean</li>\n<li>restrictions: { selected_vessel_capacity, time_restriction_arr, time_range_enabled }</li>\n</ul>",
    "parent": "module:server/routes/alliance"
  },
  {
    "type": "method",
    "name": "GET /api/chat",
    "longname": "module:server/routes/alliance.GET /api/chat",
    "url": "module-server_routes_alliance.html#.GET/api/chat",
    "description": "<p>GET /api/chat - Retrieves alliance chat feed with enriched message data and unread count.</p>\n<p>This endpoint fetches the alliance chat feed from the game API, transforms\nthe raw feed data into a client-friendly format with company names and\nformatted timestamps, and returns it as JSON along with unread count.</p>\n<p>Why This Transformation:</p>\n<ul>\n<li>API returns user_id, but frontend needs company name for display</li>\n<li>Timestamps converted from Unix epoch to UTC string for readability</li>\n<li>Separates 'chat' messages from 'feed' events for different UI rendering</li>\n<li>Company names cached to reduce API calls</li>\n<li>Backend tracks read status (prevents localStorage sync issues)</li>\n</ul>\n<p>Message Types:</p>\n<ol>\n<li>Chat Messages (type: 'chat')\n<ul>\n<li>Fetches company name via getCompanyName() (cached)</li>\n<li>Includes message text and user_id</li>\n</ul>\n</li>\n<li>Feed Events (type: 'feed')\n<ul>\n<li>Alliance joins, route completions, etc.</li>\n<li>Company name already in replacements object</li>\n</ul>\n</li>\n</ol>\n<p>Read Tracking:</p>\n<ul>\n<li>Backend stores per-user last read timestamp</li>\n<li>Unread count calculated by comparing message timestamps to lastRead</li>\n<li>Only chat messages counted as unread (not feed events)</li>\n<li>Syncs across all connected clients/devices</li>\n</ul>\n<p>No Alliance Response:</p>\n<ul>\n<li>Returns { no_alliance: true, messages: [], unreadCount: 0, lastReadTimestamp: 0 } when user not in alliance</li>\n<li>Frontend can detect this and hide alliance features</li>\n</ul>\n<p>Response Format:\n{\nmessages: [\n{\ntype: 'chat',\ncompany: 'ABC Shipping',\nmessage: 'Hello!',\ntimestamp: 'Mon, 23 Oct 2025 14:30:00 GMT',\nuser_id: 12345\n},\n{\ntype: 'feed',\nfeedType: 'alliance_member_joined',\ncompany: 'XYZ Corp',\ntimestamp: 'Mon, 23 Oct 2025 14:25:00 GMT'\n}\n],\nunreadCount: 3,\nlastReadTimestamp: 1699876543000\n}</p>\n<p>Side Effects:</p>\n<ul>\n<li>Makes API call to /alliance/get-chat-feed</li>\n<li>May make multiple API calls to /user/get-company for uncached names</li>\n<li>Reads user's last read timestamp from read-tracker</li>\n</ul>",
    "parent": "module:server/routes/alliance"
  },
  {
    "type": "method",
    "name": "GET /api/league-info",
    "longname": "module:server/routes/alliance.GET /api/league-info",
    "url": "module-server_routes_alliance.html#.GET/api/league-info",
    "description": "<p>GET /api/league-info - Retrieves user's league and group standings.</p>\n<p>This endpoint fetches the user's current league level, group position,\nand related league information from the game API.</p>",
    "parent": "module:server/routes/alliance"
  },
  {
    "type": "method",
    "name": "POST /api/alliance-accept-user",
    "longname": "module:server/routes/alliance.POST /api/alliance-accept-user",
    "url": "module-server_routes_alliance.html#.POST/api/alliance-accept-user",
    "description": "<p>POST /api/alliance-accept-user - Accepts a user's application to join the alliance.</p>\n<p>This endpoint allows alliance management to accept pending applications from users\nwho want to join the alliance. The user will be added as a member upon acceptance.</p>\n<p>Game API Endpoint: POST /alliance/accept-user-to-join-alliance\nRequired Parameters:</p>\n<ul>\n<li>user_id: The ID of the user applying to join</li>\n<li>alliance_id: The ID of the alliance (automatically provided)</li>\n</ul>",
    "parent": "module:server/routes/alliance"
  },
  {
    "type": "method",
    "name": "POST /api/alliance-decline-user",
    "longname": "module:server/routes/alliance.POST /api/alliance-decline-user",
    "url": "module-server_routes_alliance.html#.POST/api/alliance-decline-user",
    "description": "<p>POST /api/alliance-decline-user - Declines a user's application to join the alliance.</p>\n<p>This endpoint allows alliance management to decline pending applications from users\nwho want to join the alliance. The application will be removed from the queue.</p>\n<p>Game API Endpoint: POST /alliance/decline-user-direct-application\nRequired Parameters:</p>\n<ul>\n<li>user_id: The ID of the user whose application to decline</li>\n<li>alliance_id: The ID of the alliance (automatically provided)</li>\n</ul>",
    "parent": "module:server/routes/alliance"
  },
  {
    "type": "method",
    "name": "POST /api/alliance-leave",
    "longname": "module:server/routes/alliance.POST /api/alliance-leave",
    "url": "module-server_routes_alliance.html#.POST/api/alliance-leave",
    "description": "<p>POST /api/alliance-leave - Leave the current alliance.</p>",
    "parent": "module:server/routes/alliance"
  },
  {
    "type": "method",
    "name": "POST /api/alliance-queue-pool",
    "longname": "module:server/routes/alliance.POST /api/alliance-queue-pool",
    "url": "module-server_routes_alliance.html#.POST/api/alliance-queue-pool",
    "description": "<p>POST /api/alliance-queue-pool - Retrieves queue pool for alliance cooperation.</p>\n<p>This endpoint fetches the queue pool of available vessels/members for\nalliance cooperation with filtering and pagination support.</p>\n<p>Request Body:</p>\n<ul>\n<li>pool_type: &quot;direct&quot; or other pool types (default: &quot;direct&quot;)</li>\n<li>filter_share_value: &quot;any&quot;, &quot;low&quot;, &quot;medium&quot;, &quot;high&quot; (default: &quot;any&quot;)</li>\n<li>filter_fleet_size: &quot;any&quot;, &quot;small&quot;, &quot;medium&quot;, &quot;large&quot; (default: &quot;any&quot;)</li>\n<li>filter_experience: &quot;all&quot;, &quot;beginner&quot;, &quot;intermediate&quot;, &quot;expert&quot; (default: &quot;all&quot;)</li>\n<li>page: Page number (default: 1)</li>\n</ul>",
    "parent": "module:server/routes/alliance"
  },
  {
    "type": "method",
    "name": "POST /api/alliance-update-user-role",
    "longname": "module:server/routes/alliance.POST /api/alliance-update-user-role",
    "url": "module-server_routes_alliance.html#.POST/api/alliance-update-user-role",
    "description": "<p>POST /api/alliance-update-user-role - Updates a member's role in the alliance.</p>\n<p>This endpoint allows alliance admins/leaders to change member roles.\nRequires appropriate permissions in the alliance.</p>\n<p>Request Body:</p>\n<ul>\n<li>user_id: User ID of the member to update (required)</li>\n<li>role: New role for the member (required)</li>\n</ul>",
    "parent": "module:server/routes/alliance"
  },
  {
    "type": "method",
    "name": "POST /api/chat/mark-read",
    "longname": "module:server/routes/alliance.POST /api/chat/mark-read",
    "url": "module-server_routes_alliance.html#.POST/api/chat/mark-read",
    "description": "<p>POST /api/chat/mark-read - Marks alliance chat as read up to a specific timestamp.</p>\n<p>This endpoint updates the user's last read timestamp for alliance chat,\nwhich is used to calculate unread counts and prevent notification spam.</p>\n<p>Why This Endpoint:</p>\n<ul>\n<li>Provides backend-controlled read tracking (syncs across devices)</li>\n<li>Called when user opens alliance chat panel</li>\n<li>Prevents old messages from repeatedly showing as unread</li>\n<li>Stops duplicate notifications for messages user has already seen</li>\n</ul>\n<p>Request Body:</p>\n<ul>\n<li>timestamp: Unix timestamp in milliseconds (number)\n<ul>\n<li>Should be the timestamp of the latest message in the chat</li>\n<li>All messages with timestamp &lt;= this value are marked as read</li>\n</ul>\n</li>\n</ul>\n<p>Validation:</p>\n<ul>\n<li>Timestamp must be positive integer</li>\n<li>Returns 400 error for invalid timestamp</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Updates user's last read timestamp in read-tracker</li>\n<li>Persists to userdata/settings/read-tracking.json</li>\n<li>Future GET /api/chat calls will use this timestamp for unread count</li>\n</ul>",
    "parent": "module:server/routes/alliance"
  },
  {
    "type": "method",
    "name": "POST /api/company-name",
    "longname": "module:server/routes/alliance.POST /api/company-name",
    "url": "module-server_routes_alliance.html#.POST/api/company-name",
    "description": "<p>POST /api/company-name - Retrieves company name for a given user ID.</p>\n<p>This endpoint looks up a company name by user ID, leveraging the cached\ngetCompanyName() function to minimize API calls. Used by frontend for\ndisplaying company names in various UI contexts.</p>\n<p>Why This Endpoint:</p>\n<ul>\n<li>Centralizes company name lookups</li>\n<li>Leverages server-side cache (reduces API calls)</li>\n<li>Provides fallback for failed lookups</li>\n<li>Validates user_id to prevent invalid API calls</li>\n</ul>\n<p>Validation:</p>\n<ul>\n<li>user_id must be positive integer</li>\n<li>Returns 400 error for invalid user_id</li>\n</ul>\n<p>Caching:</p>\n<ul>\n<li>getCompanyName() uses Map-based cache</li>\n<li>Cache persists for server lifetime</li>\n<li>Significant performance improvement for repeated lookups</li>\n</ul>\n<p>Fallback:</p>\n<ul>\n<li>Returns &quot;User {userId}&quot; if lookup fails</li>\n<li>Never throws error to frontend</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>May make API call to /user/get-company on cache miss</li>\n<li>Stores result in userNameCache</li>\n</ul>",
    "parent": "module:server/routes/alliance"
  },
  {
    "type": "method",
    "name": "POST /api/send-message",
    "longname": "module:server/routes/alliance.POST /api/send-message",
    "url": "module-server_routes_alliance.html#.POST/api/send-message",
    "description": "<p>POST /api/send-message - Sends a message to alliance chat with validation and rate limiting.</p>\n<p>This endpoint receives a chat message from the frontend, validates and sanitizes it,\nthen forwards it to the game API. It's the primary workaround for the in-game chat bug\nthat causes page reloads with certain characters.</p>\n<p>Why This Endpoint:</p>\n<ul>\n<li>Bypasses in-game chat interface that has character bugs</li>\n<li>Provides input validation before hitting game API</li>\n<li>Blocks dangerous HTML/JavaScript patterns to prevent XSS attacks</li>\n<li>Rate limits to prevent spam (30 messages/minute)</li>\n</ul>\n<p>Validation Rules:</p>\n<ul>\n<li>Message must be string type</li>\n<li>Length: 1-1000 characters (game API limit)</li>\n<li>Trimmed of leading/trailing whitespace</li>\n<li>Dangerous patterns blocked: <script>, <iframe>, javascript:, onerror=, etc.</li>\n</ul>\n<p>Rate Limiting:</p>\n<ul>\n<li>Applied via messageLimiter middleware</li>\n<li>Limit: 30 requests per minute per IP</li>\n<li>Returns 429 Too Many Requests when exceeded</li>\n<li>Prevents spam and reduces ToS violation risk</li>\n</ul>\n<p>Security Strategy (Defense in Depth):</p>\n<ul>\n<li>Backend: Pattern blocking (blocks dangerous HTML/JS)</li>\n<li>Frontend: HTML escaping on render (escapes all HTML entities)</li>\n<li>This prevents XSS while avoiding double-escaping issues</li>\n<li>Prevents empty messages after trimming</li>\n</ul>\n<p>No Alliance Handling:</p>\n<ul>\n<li>Returns 400 error if user not in alliance</li>\n<li>Prevents API call to /alliance/post-chat with null alliance_id</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Makes API call to /alliance/post-chat</li>\n<li>Message appears in alliance chat feed immediately</li>\n<li>WebSocket broadcast will include this message in next refresh cycle</li>\n</ul>",
    "parent": "module:server/routes/alliance"
  },
  {
    "type": "method",
    "name": "ensureDirectory",
    "longname": "module:server/routes/broadcast~ensureDirectory",
    "url": "module-server_routes_broadcast.html#~ensureDirectory",
    "description": "<p>Ensures broadcast templates directory exists</p>",
    "parent": "module:server/routes/broadcast"
  },
  {
    "type": "method",
    "name": "getTemplatesFilePath",
    "longname": "module:server/routes/broadcast~getTemplatesFilePath",
    "url": "module-server_routes_broadcast.html#~getTemplatesFilePath",
    "description": "<p>Gets the templates file path for a user</p>",
    "parent": "module:server/routes/broadcast"
  },
  {
    "type": "method",
    "name": "loadTemplates",
    "longname": "module:server/routes/broadcast~loadTemplates",
    "url": "module-server_routes_broadcast.html#~loadTemplates",
    "description": "<p>Loads templates for a user</p>",
    "parent": "module:server/routes/broadcast"
  },
  {
    "type": "method",
    "name": "saveTemplates",
    "longname": "module:server/routes/broadcast~saveTemplates",
    "url": "module-server_routes_broadcast.html#~saveTemplates",
    "description": "<p>Saves templates for a user</p>",
    "parent": "module:server/routes/broadcast"
  },
  {
    "type": "method",
    "name": "GET /api/coop/data",
    "longname": "module:server/routes/coop.GET /api/coop/data",
    "url": "module-server_routes_coop.html#.GET/api/coop/data",
    "description": "<p>GET /api/coop/data - Retrieves alliance cooperation data</p>\n<p>Fetches coop statistics including:</p>\n<ul>\n<li>Available coop slots (how many more vessels can be sent)</li>\n<li>Cap (maximum coop vessels per season)</li>\n<li>Sent/received this season</li>\n<li>Historical sent/received totals</li>\n<li>Member coop data (enabled status, fuel, vessels, etc.)</li>\n</ul>\n<p>Response Structure:\n{\ndata: {\ncoop: {\navailable: number,           // Coop slots remaining\ncap: number,                 // Maximum coop vessels per season\nsent_this_season: number,    // Vessels sent this season\nreceived_this_season: number,// Vessels received this season\nsent_historical: number,     // Total vessels sent historically\nreceived_historical: number  // Total vessels received historically\n},\nmembers_coop: [{\nuser_id: number,\ncompany_name: string,        // Added from alliance contacts\nenabled: boolean,            // Whether coop is enabled for this member\nsent_this_season: number,\nsent_last_season: number,\nreceived_this_season: number,\nsent_historical: number,\nreceived_historical: number,\ntotal_vessels: number,\nfuel: number,\ndonations_this_season: number,\ndonations_historical: number,\nhas_real_purchase: boolean\n}]\n}\n}</p>",
    "parent": "module:server/routes/coop"
  },
  {
    "type": "method",
    "name": "POST /api/coop/send-max",
    "longname": "module:server/routes/coop.POST /api/coop/send-max",
    "url": "module-server_routes_coop.html#.POST/api/coop/send-max",
    "description": "<p>POST /api/coop/send-max - Sends maximum available coop vessels to a user</p>",
    "parent": "module:server/routes/coop"
  },
  {
    "type": "method",
    "name": "convertCESTToTimezone",
    "longname": "module:server/routes/forecast~convertCESTToTimezone",
    "url": "module-server_routes_forecast.html#~convertCESTToTimezone",
    "description": "<p>Convert CEST (UTC+2) forecast data to target timezone</p>",
    "parent": "module:server/routes/forecast"
  },
  {
    "type": "method",
    "name": "generateChatbotText",
    "longname": "module:server/routes/forecast~generateChatbotText",
    "url": "module-server_routes_forecast.html#~generateChatbotText",
    "description": "<p>Generate formatted text output for chatbot</p>",
    "parent": "module:server/routes/forecast"
  },
  {
    "type": "method",
    "name": "generateMetadata",
    "longname": "module:server/routes/forecast~generateMetadata",
    "url": "module-server_routes_forecast.html#~generateMetadata",
    "description": "<p>Generate metadata for API response</p>",
    "parent": "module:server/routes/forecast"
  },
  {
    "type": "method",
    "name": "getDaysInMonth",
    "longname": "module:server/routes/forecast~getDaysInMonth",
    "url": "module-server_routes_forecast.html#~getDaysInMonth",
    "description": "<p>Get days in a specific month</p>",
    "parent": "module:server/routes/forecast"
  },
  {
    "type": "method",
    "name": "getForecastDataPath",
    "longname": "module:server/routes/forecast~getForecastDataPath",
    "url": "module-server_routes_forecast.html#~getForecastDataPath",
    "description": "<p>Get forecast data file path based on execution mode</p>",
    "parent": "module:server/routes/forecast"
  },
  {
    "type": "method",
    "name": "getMonthForDay",
    "longname": "module:server/routes/forecast~getMonthForDay",
    "url": "module-server_routes_forecast.html#~getMonthForDay",
    "description": "<p>Determine which month a day belongs to based on current date\nDays &lt;= current day are current month, days &gt; current day are previous month</p>",
    "parent": "module:server/routes/forecast"
  },
  {
    "type": "method",
    "name": "getNextDayData",
    "longname": "module:server/routes/forecast~getNextDayData",
    "url": "module-server_routes_forecast.html#~getNextDayData",
    "description": "<p>Get data for next day, handling month boundaries</p>",
    "parent": "module:server/routes/forecast"
  },
  {
    "type": "method",
    "name": "getPreviousDayData",
    "longname": "module:server/routes/forecast~getPreviousDayData",
    "url": "module-server_routes_forecast.html#~getPreviousDayData",
    "description": "<p>Get data for previous day, handling month boundaries</p>",
    "parent": "module:server/routes/forecast"
  },
  {
    "type": "method",
    "name": "getServerLocalTimezone",
    "longname": "module:server/routes/forecast~getServerLocalTimezone",
    "url": "module-server_routes_forecast.html#~getServerLocalTimezone",
    "description": "<p>Detect server's local timezone</p>",
    "parent": "module:server/routes/forecast"
  },
  {
    "type": "method",
    "name": "getTimezoneOffsetHours",
    "longname": "module:server/routes/forecast~getTimezoneOffsetHours",
    "url": "module-server_routes_forecast.html#~getTimezoneOffsetHours",
    "description": "<p>Get UTC offset for timezone abbreviations or numeric offsets</p>",
    "parent": "module:server/routes/forecast"
  },
  {
    "type": "method",
    "name": "getValidTimezones",
    "longname": "module:server/routes/forecast~getValidTimezones",
    "url": "module-server_routes_forecast.html#~getValidTimezones",
    "description": "<p>Get all valid timezone abbreviations and formats</p>",
    "parent": "module:server/routes/forecast"
  },
  {
    "type": "method",
    "name": "parseNumericOffset",
    "longname": "module:server/routes/forecast~parseNumericOffset",
    "url": "module-server_routes_forecast.html#~parseNumericOffset",
    "description": "<p>Parse numeric UTC offset from string formats\nSupports: &quot;UTC-6&quot;, &quot;GMT-6&quot;, &quot;UTC+2&quot;, &quot;-06:00&quot;, &quot;+02:00&quot;, &quot;-6&quot;, &quot;+2&quot;</p>",
    "parent": "module:server/routes/forecast"
  },
  {
    "type": "method",
    "name": "compareVersions",
    "longname": "module:server/routes/game/user~compareVersions",
    "url": "module-server_routes_game_user.html#~compareVersions",
    "description": "<p>Compare two semantic version strings</p>",
    "parent": "module:server/routes/game/user"
  },
  {
    "type": "method",
    "name": "refreshAndBroadcastHeader",
    "longname": "module:server/routes/game/vessel~refreshAndBroadcastHeader",
    "url": "module-server_routes_game_vessel.html#~refreshAndBroadcastHeader",
    "description": "<p>Fetch current user data from API, update cache and broadcast</p>",
    "parent": "module:server/routes/game/vessel"
  },
  {
    "type": "method",
    "name": "validateImageData",
    "longname": "module:server/routes/game/vessel~validateImageData",
    "url": "module-server_routes_game_vessel.html#~validateImageData",
    "description": "<p>Validate that uploaded data is actually an image\nChecks magic bytes to prevent malicious file uploads</p>",
    "parent": "module:server/routes/game/vessel"
  },
  {
    "type": "method",
    "name": "escapeCSVFormula",
    "longname": "module:server/routes/harbor-map~escapeCSVFormula",
    "url": "module-server_routes_harbor-map.html#~escapeCSVFormula",
    "description": "<p>Escape CSV formula injection (=, +, @, - at start of cell)\nPrefixes dangerous characters with single quote to force text mode in Excel</p>",
    "parent": "module:server/routes/harbor-map"
  },
  {
    "type": "method",
    "name": "formatHistoryAsTXT",
    "longname": "module:server/routes/harbor-map~formatHistoryAsTXT",
    "url": "module-server_routes_harbor-map.html#~formatHistoryAsTXT",
    "description": "<p>Formats vessel history as TXT (human-readable)</p>",
    "parent": "module:server/routes/harbor-map"
  },
  {
    "type": "method",
    "name": "getGameIndexCached",
    "longname": "module:server/routes/harbor-map~getGameIndexCached",
    "url": "module-server_routes_harbor-map.html#~getGameIndexCached",
    "description": "<p>Fetches game/index data with caching\nUses 30-second TTL to keep vessel positions fresh</p>",
    "parent": "module:server/routes/harbor-map"
  },
  {
    "type": "method",
    "name": "GET /api/contact/get-contacts",
    "longname": "module:server/routes/messenger.GET /api/contact/get-contacts",
    "url": "module-server_routes_messenger.html#.GET/api/contact/get-contacts",
    "description": "<p>GET /api/contact/get-contacts - Retrieves user's contact list and alliance contacts.</p>\n<p>This endpoint fetches both personal contacts and alliance member contacts from the game API,\nsorts them alphabetically by company name, and returns them with user context information.</p>\n<p>Why Sorting:</p>\n<ul>\n<li>Alphabetical sorting improves UX (easier to find contacts)</li>\n<li>Game API doesn't guarantee order</li>\n<li>Sorted on server to avoid redundant client-side sorting</li>\n</ul>\n<p>Response Structure:\n{\ncontacts: [...],              // Personal contacts\nalliance_contacts: [...],     // Alliance member contacts\nown_user_id: 12345,          // Current user's ID\nown_company_name: &quot;ABC Corp&quot; // Current user's company name\n}</p>\n<p>User Context:</p>\n<ul>\n<li>own_user_id: Used to filter out self from contact lists</li>\n<li>own_company_name: Used for UI display</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Makes API call to /contact/get-contacts</li>\n</ul>",
    "parent": "module:server/routes/messenger"
  },
  {
    "type": "method",
    "name": "GET /api/hijacking/get-cases",
    "longname": "module:server/routes/messenger.GET /api/hijacking/get-cases",
    "url": "module-server_routes_messenger.html#.GET/api/hijacking/get-cases",
    "description": "<p>GET /api/hijacking/get-cases - Get all hijacking cases with details.</p>\n<p>This endpoint aggregates all hijacking cases from the messenger inbox,\nfetches full details for each case, and returns them with open/closed status.</p>\n<p>Why This Endpoint:</p>\n<ul>\n<li>Separates hijacking inbox from regular messenger inbox</li>\n<li>Provides dedicated list of all hijacking cases (open + closed)</li>\n<li>Adds isOpen field for UI rendering (OPEN vs CLOSED status)</li>\n<li>Used by &quot;Blackbeard's Phone Booth&quot; overlay</li>\n</ul>\n<p>Response Structure:\n{\ncases: [{\nid: number,                    // System message ID\nvalues: {\ncase_id: number,             // Hijacking case ID\nvessel_name: string,         // Hijacked vessel name\n...\n},\ncaseDetails: {                 // Full case data from /hijacking/get-case\nrequested_amount: number,\npaid_amount: number|null,\nuser_proposal: number|null,\nstatus: string,\n...\n},\nisOpen: boolean,               // true if case is still open\ntime_last_message: number      // Unix timestamp\n}, ...],\nown_user_id: number\n}</p>\n<p>Case Status Logic:</p>\n<ul>\n<li>OPEN: paid_amount === null &amp;&amp; status !== 'solved'</li>\n<li>CLOSED: paid_amount !== null || status === 'solved'</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Makes API call to /messenger/get-chats</li>\n<li>Makes multiple API calls to /hijacking/get-case (one per case)</li>\n</ul>",
    "parent": "module:server/routes/messenger"
  },
  {
    "type": "method",
    "name": "GET /api/messenger/get-chats",
    "longname": "module:server/routes/messenger.GET /api/messenger/get-chats",
    "url": "module-server_routes_messenger.html#.GET/api/messenger/get-chats",
    "description": "<p>GET /api/messenger/get-chats - Retrieves list of all active conversation threads.</p>\n<p>This endpoint fetches all messenger conversations (DM threads) for the current user.\nEach chat represents a conversation with another user, including unread status and\nlast message preview.</p>\n<p>Why Graceful Error Handling:</p>\n<ul>\n<li>Returns empty chats array instead of error on API failure</li>\n<li>Prevents messenger UI from breaking</li>\n<li>Still includes user context for UI initialization</li>\n<li>Logs error for debugging but doesn't crash frontend</li>\n</ul>\n<p>Response Structure:\n{\nchats: [...],                 // Array of conversation objects\nown_user_id: 12345,          // Current user's ID\nown_company_name: &quot;ABC Corp&quot; // Current user's company name\n}</p>\n<p>User Context:</p>\n<ul>\n<li>own_user_id: Used to determine message sender/recipient in UI</li>\n<li>own_company_name: Used for UI display</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Makes API call to /messenger/get-chats</li>\n</ul>",
    "parent": "module:server/routes/messenger"
  },
  {
    "type": "method",
    "name": "POST /api/messenger/delete-chat",
    "longname": "module:server/routes/messenger.POST /api/messenger/delete-chat",
    "url": "module-server_routes_messenger.html#.POST/api/messenger/delete-chat",
    "description": "<p>POST /api/messenger/delete-chat - Deletes a conversation thread.</p>\n<p>This endpoint handles deletion of messenger conversations. Requires both chat_ids\n(conversation IDs) and system_message_ids (system message IDs) as the game API\nneeds both to properly clean up all related data.</p>\n<p>Why Both ID Arrays Required:</p>\n<ul>\n<li>Game API separates chat messages from system messages</li>\n<li>Both must be deleted to fully remove conversation</li>\n<li>Prevents orphaned data in game database</li>\n</ul>\n<p>Request Body:\n{\nchat_ids: number[],           // Array of chat/conversation IDs to delete\nsystem_message_ids: number[]  // Array of related system message IDs\n}</p>\n<p>Validation:</p>\n<ul>\n<li>Both chat_ids and system_message_ids required (400 error if missing)</li>\n<li>Arrays can be empty but must be present</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Makes API call to /messenger/delete-chat</li>\n<li>Permanently removes conversation from messenger</li>\n<li>Cannot be undone (deletion is permanent)</li>\n</ul>",
    "parent": "module:server/routes/messenger"
  },
  {
    "type": "method",
    "name": "POST /api/messenger/get-messages",
    "longname": "module:server/routes/messenger.POST /api/messenger/get-messages",
    "url": "module-server_routes_messenger.html#.POST/api/messenger/get-messages",
    "description": "<p>POST /api/messenger/get-messages - Retrieves message history for a specific conversation.</p>\n<p>This endpoint fetches all messages within a specific chat thread, identified by chat_id.\nReturns the complete message history with timestamps, sender information, and message content.</p>\n<p>Why Flexible Data Structure Handling:</p>\n<ul>\n<li>Game API response structure varies</li>\n<li>data.chat.messages or data.messages depending on endpoint version</li>\n<li>Optional chaining (?.) prevents errors from undefined paths</li>\n</ul>\n<p>Request Body:\n{\nchat_id: number  // Required: ID of the conversation\n}</p>\n<p>Response Structure:\n{\nmessages: [...],    // Array of message objects\nuser_id: 12345     // Current user's ID\n}</p>\n<p>User Context:</p>\n<ul>\n<li>user_id: Used to determine message direction (sent vs received)</li>\n</ul>\n<p>Validation:</p>\n<ul>\n<li>chat_id is required (400 error if missing)</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Makes API call to /messenger/get-chat</li>\n</ul>",
    "parent": "module:server/routes/messenger"
  },
  {
    "type": "method",
    "name": "POST /api/messenger/send-private",
    "longname": "module:server/routes/messenger.POST /api/messenger/send-private",
    "url": "module-server_routes_messenger.html#.POST/api/messenger/send-private",
    "description": "<p>POST /api/messenger/send-private - Sends a private message to another user.</p>\n<p>This endpoint handles sending private messages (DMs) between users. It validates\nthe message content, subject line, and recipient, then forwards the message to\nthe game API. Rate limited to prevent spam.</p>\n<p>Why This Endpoint:</p>\n<ul>\n<li>Bypasses in-game messenger interface (may have bugs/limitations)</li>\n<li>Provides input validation before hitting game API</li>\n<li>Blocks dangerous HTML/JavaScript patterns to prevent XSS attacks</li>\n<li>Rate limits to prevent spam (30 messages/minute)</li>\n</ul>\n<p>Validation Rules:</p>\n<ul>\n<li>message: String, 1-1000 characters</li>\n<li>subject: String, non-empty (required)</li>\n<li>target_user_id: Positive integer (required)</li>\n<li>Dangerous patterns blocked: <script>, <iframe>, javascript:, onerror=, etc.</li>\n</ul>\n<p>Security Strategy (Defense in Depth):</p>\n<ul>\n<li>Backend: Pattern blocking (blocks dangerous HTML/JS in message AND subject)</li>\n<li>Frontend: HTML escaping on render (escapes all HTML entities)</li>\n<li>This prevents XSS while avoiding double-escaping issues</li>\n</ul>\n<p>Rate Limiting:</p>\n<ul>\n<li>Applied via messageLimiter middleware</li>\n<li>Limit: 30 requests per minute per IP</li>\n<li>Returns 429 Too Many Requests when exceeded</li>\n</ul>\n<p>Request Body:\n{\nmessage: string,         // Message content (1-1000 chars)\nsubject: string,         // Subject line (required)\ntarget_user_id: number   // Recipient's user ID\n}</p>\n<p>Side Effects:</p>\n<ul>\n<li>Makes API call to /messenger/send-message</li>\n<li>Creates new conversation or adds to existing thread</li>\n<li>Recipient receives notification (handled by game)</li>\n</ul>",
    "parent": "module:server/routes/messenger"
  },
  {
    "type": "method",
    "name": "POST /api/user/search",
    "longname": "module:server/routes/messenger.POST /api/user/search",
    "url": "module-server_routes_messenger.html#.POST/api/user/search",
    "description": "<p>POST /api/user/search - Search for users by name.</p>\n<p>This endpoint searches for users matching a given name pattern.\nReturns array of matching users with their IDs and company names.</p>\n<p>Why This Endpoint:</p>\n<ul>\n<li>Resolves company names to user IDs for users not in contacts</li>\n<li>Enables messaging users who sent DMs but aren't in contact list</li>\n<li>Provides fallback when contact list lookup fails</li>\n</ul>\n<p>Request Body:\n{\nname: string  // Search term (partial match supported)\n}</p>\n<p>Validation Rules:</p>\n<ul>\n<li>Query must be string type</li>\n<li>Length: 2-100 characters</li>\n<li>Only alphanumeric characters, spaces, hyphens, underscores, and dots allowed</li>\n<li>HTML characters are escaped to prevent XSS</li>\n</ul>\n<p>Response Structure:\n{\ndata: {\ncompanies: [{id, company_name, ...}, ...]\n},\nuser: {...}  // Current user data\n}</p>\n<p>Side Effects:</p>\n<ul>\n<li>Makes API call to /user/search</li>\n</ul>",
    "parent": "module:server/routes/messenger"
  },
  {
    "type": "method",
    "name": "ensureHijackHistoryDir",
    "longname": "module:server/routes/messenger~ensureHijackHistoryDir",
    "url": "module-server_routes_messenger.html#~ensureHijackHistoryDir",
    "description": "<p>Ensures hijack history directory exists.\nCreates the directory if it doesn't exist.</p>",
    "parent": "module:server/routes/messenger"
  },
  {
    "type": "method",
    "name": "ensureCacheDir",
    "longname": "module:server/routes/poi~ensureCacheDir",
    "url": "module-server_routes_poi.html#~ensureCacheDir",
    "description": "<p>Ensures cache directory exists</p>",
    "parent": "module:server/routes/poi"
  },
  {
    "type": "method",
    "name": "fetchAllMuseumsFromAPI",
    "longname": "module:server/routes/poi~fetchAllMuseumsFromAPI",
    "url": "module-server_routes_poi.html#~fetchAllMuseumsFromAPI",
    "description": "<p>Fetches ALL museums globally from Overpass API</p>",
    "parent": "module:server/routes/poi"
  },
  {
    "type": "method",
    "name": "fetchAllWrecksFromAPI",
    "longname": "module:server/routes/poi~fetchAllWrecksFromAPI",
    "url": "module-server_routes_poi.html#~fetchAllWrecksFromAPI",
    "description": "<p>Fetches ALL shipwrecks globally from Overpass API</p>",
    "parent": "module:server/routes/poi"
  },
  {
    "type": "method",
    "name": "filterPOIsByBbox",
    "longname": "module:server/routes/poi~filterPOIsByBbox",
    "url": "module-server_routes_poi.html#~filterPOIsByBbox",
    "description": "<p>Filters POIs by bounding box</p>",
    "parent": "module:server/routes/poi"
  },
  {
    "type": "method",
    "name": "initializePOICache",
    "longname": "module:server/routes/poi~initializePOICache",
    "url": "module-server_routes_poi.html#~initializePOICache",
    "description": "<p>Initializes POI cache on server startup\nLoads museums and wrecks if cache is empty or expired</p>",
    "parent": "module:server/routes/poi"
  },
  {
    "type": "method",
    "name": "isCacheValid",
    "longname": "module:server/routes/poi~isCacheValid",
    "url": "module-server_routes_poi.html#~isCacheValid",
    "description": "<p>Checks if cache file is valid (exists and not expired)</p>",
    "parent": "module:server/routes/poi"
  },
  {
    "type": "method",
    "name": "loadFromCache",
    "longname": "module:server/routes/poi~loadFromCache",
    "url": "module-server_routes_poi.html#~loadFromCache",
    "description": "<p>Loads POI data from cache file</p>",
    "parent": "module:server/routes/poi"
  },
  {
    "type": "method",
    "name": "reduceWreckData",
    "longname": "module:server/routes/poi~reduceWreckData",
    "url": "module-server_routes_poi.html#~reduceWreckData",
    "description": "<p>Reduces wreck data to only essential fields for client</p>",
    "parent": "module:server/routes/poi"
  },
  {
    "type": "method",
    "name": "saveToCache",
    "longname": "module:server/routes/poi~saveToCache",
    "url": "module-server_routes_poi.html#~saveToCache",
    "description": "<p>Saves POI data to cache file</p>",
    "parent": "module:server/routes/poi"
  },
  {
    "type": "method",
    "name": "startAutomaticCacheRefresh",
    "longname": "module:server/routes/poi~startAutomaticCacheRefresh",
    "url": "module-server_routes_poi.html#~startAutomaticCacheRefresh",
    "description": "<p>Starts automatic cache refresh every 4 hours</p>",
    "parent": "module:server/routes/poi"
  },
  {
    "type": "method",
    "name": "getDirectoryStats",
    "longname": "module:server/routes/server-config~getDirectoryStats",
    "url": "module-server_routes_server-config.html#~getDirectoryStats",
    "description": "<p>Helper function to get directory statistics</p>",
    "parent": "module:server/routes/server-config"
  },
  {
    "type": "method",
    "name": "GET /api/settings",
    "longname": "module:server/routes/settings.GET /api/settings",
    "url": "module-server_routes_settings.html#.GET/api/settings",
    "description": "<p>GET /api/settings - Retrieves current application settings from persistent storage.</p>\n<p>This endpoint reads the settings.json file and returns the current configuration.\nIf the file doesn't exist or is corrupted (invalid JSON), it returns default settings\nwithout creating the file (lazy initialization - file created on first POST).</p>\n<p>Why Graceful Fallback:</p>\n<ul>\n<li>First run: settings.json doesn't exist yet</li>\n<li>Corruption: Manual edits or disk errors may invalidate JSON</li>\n<li>Migration: Upgrading from older versions without settings file</li>\n<li>Never breaks UI: Always returns valid settings object</li>\n</ul>\n<p>Default Settings Philosophy:</p>\n<ul>\n<li>Conservative price thresholds ($400 fuel, $7 CO2)</li>\n<li>All automation disabled (requires explicit user opt-in)</li>\n<li>Safe defaults prevent accidental spending or API abuse</li>\n</ul>\n<p>Response Structure:\n{\n// Alert thresholds\nfuelThreshold: 400,           // $/ton fuel price alert\nco2Threshold: 7,              // $/ton CO2 price alert\nmaintenanceThreshold: 10,     // % vessel condition alert</p>\n<p>// Auto-rebuy fuel settings\nautoRebuyFuel: false,         // Enable auto fuel purchasing\nautoRebuyFuelUseAlert: true,  // Use alert threshold (vs custom)\nautoRebuyFuelThreshold: 400,  // Custom threshold if not using alert</p>\n<p>// Auto-rebuy CO2 settings\nautoRebuyCO2: false,          // Enable auto CO2 purchasing\nautoRebuyCO2UseAlert: true,   // Use alert threshold (vs custom)\nautoRebuyCO2Threshold: 7,     // Custom threshold if not using alert</p>\n<p>// Automation features\nautoDepartAll: false,         // Auto-depart all vessels\nautoBulkRepair: false,        // Auto-repair vessels below threshold\nautoCampaignRenewal: false,   // Auto-renew marketing campaigns\nautoPilotNotifications: false,// Browser notifications for automation</p>\n<p>// Intelligent auto-depart settings\nautoDepartUseRouteDefaults: true, // Use route defaults vs custom\nminVesselUtilization: 45,     // Minimum % capacity utilization\nautoVesselSpeed: 50           // % of max_speed (fuel optimization)\n}</p>\n<p>Side Effects:</p>\n<ul>\n<li>Reads settings.json from disk</li>\n<li>Logs error to console if file missing/corrupted (doesn't throw)</li>\n</ul>",
    "parent": "module:server/routes/settings"
  },
  {
    "type": "method",
    "name": "POST /api/settings",
    "longname": "module:server/routes/settings.POST /api/settings",
    "url": "module-server_routes_settings.html#.POST/api/settings",
    "description": "<p>POST /api/settings - Updates application settings and persists to disk.</p>\n<p>This endpoint receives settings from the frontend, validates and sanitizes the input,\nwrites the validated settings to settings.json, and broadcasts the update to all\nconnected WebSocket clients for real-time synchronization.</p>\n<p>Why Input Validation:</p>\n<ul>\n<li>Frontend can send malformed data (type errors, missing fields)</li>\n<li>Manual API calls may have incorrect types</li>\n<li>Ensures settings.json always contains valid data structure</li>\n<li>Prevents automation bugs from invalid threshold values</li>\n</ul>\n<p>Validation Strategy:</p>\n<ul>\n<li>Numeric thresholds: parseInt() with fallback defaults</li>\n<li>Boolean toggles: Double-negation coercion (!!)</li>\n<li>Optional booleans: undefined check before coercion</li>\n<li>All fields validated individually (no blind trust)</li>\n</ul>\n<p>Default Fallbacks:</p>\n<ul>\n<li>Invalid numbers default to conservative thresholds ($400 fuel, $7 CO2, 10% maint)</li>\n<li>autoRebuyFuelUseAlert defaults to true if undefined</li>\n<li>autoRebuyCO2UseAlert defaults to true if undefined</li>\n<li>Boolean toggles default to false if falsy</li>\n</ul>\n<p>Real-Time Synchronization:</p>\n<ul>\n<li>WebSocket broadcast: 'settings_update' message type</li>\n<li>All connected clients receive updated settings</li>\n<li>Frontend updates UI state immediately</li>\n<li>Multi-tab synchronization (change in one tab updates all tabs)</li>\n</ul>\n<p>Request Body:\n{\nfuelThreshold: number,\nco2Threshold: number,\nmaintenanceThreshold: number,\nautoRebuyFuel: boolean,\nautoRebuyFuelUseAlert: boolean,\nautoRebuyFuelThreshold: number,\nautoRebuyCO2: boolean,\nautoRebuyCO2UseAlert: boolean,\nautoRebuyCO2Threshold: number,\nautoDepartAll: boolean,\nautoBulkRepair: boolean,\nautoCampaignRenewal: boolean,\nautoPilotNotifications: boolean,\nautoDepartUseRouteDefaults: boolean,\nminVesselUtilization: number,\nautoVesselSpeed: number\n}</p>\n<p>Response Format:\n{\nsuccess: true,\nsettings: { ...validatedSettings }\n}</p>\n<p>Side Effects:</p>\n<ul>\n<li>Writes settings.json to project root (overwrites existing file)</li>\n<li>Broadcasts settings_update to all WebSocket clients</li>\n<li>Triggers frontend settings update in all connected tabs</li>\n</ul>",
    "parent": "module:server/routes/settings"
  },
  {
    "type": "method",
    "name": "GET /api/stock/check-company-age",
    "longname": "module:server/routes/stock.GET /api/stock/check-company-age",
    "url": "module-server_routes_stock.html#.GET/api/stock/check-company-age",
    "description": "<p>GET /api/stock/check-company-age - Check age of a single company</p>",
    "parent": "module:server/routes/stock"
  },
  {
    "type": "method",
    "name": "GET /api/stock/finance-overview",
    "longname": "module:server/routes/stock.GET /api/stock/finance-overview",
    "url": "module-server_routes_stock.html#.GET/api/stock/finance-overview",
    "description": "<p>GET /api/stock/finance-overview - Retrieves stock finance overview for a user</p>\n<p>Fetches complete stock data including:</p>\n<ul>\n<li>Stock info with historical price data</li>\n<li>Investors (who invested in this company)</li>\n<li>Investments (companies this user invested in)</li>\n</ul>",
    "parent": "module:server/routes/stock"
  },
  {
    "type": "method",
    "name": "GET /api/stock/market",
    "longname": "module:server/routes/stock.GET /api/stock/market",
    "url": "module-server_routes_stock.html#.GET/api/stock/market",
    "description": "<p>GET /api/stock/market - Retrieves stock market listings</p>\n<p>Fetches paginated market data with filter options:</p>\n<ul>\n<li>top: Highest stock values</li>\n<li>low: Lowest stock values</li>\n<li>activity: Most active trading</li>\n<li>recent-ipo: Recently listed companies</li>\n</ul>",
    "parent": "module:server/routes/stock"
  },
  {
    "type": "method",
    "name": "GET /api/stock/purchase-times",
    "longname": "module:server/routes/stock.GET /api/stock/purchase-times",
    "url": "module-server_routes_stock.html#.GET/api/stock/purchase-times",
    "description": "<p>GET /api/stock/purchase-times - Get stock purchase timestamps from logbook and game transactions</p>\n<p>Returns the most recent purchase timestamp for each company the user invested in.\nUsed to calculate 48h lock period for selling.</p>\n<p>First checks logbook, then falls back to game transaction history (matching by amount).</p>",
    "parent": "module:server/routes/stock"
  },
  {
    "type": "method",
    "name": "GET /api/stock/recent-ipos",
    "longname": "module:server/routes/stock.GET /api/stock/recent-ipos",
    "url": "module-server_routes_stock.html#.GET/api/stock/recent-ipos",
    "description": "<p>GET /api/stock/recent-ipos - Get all recent IPOs for the IPO Alert tab</p>\n<p>Returns fresh IPOs from the WebSocket cache (already filtered by max age).\nFalls back to fetching from API if cache is empty.</p>",
    "parent": "module:server/routes/stock"
  },
  {
    "type": "method",
    "name": "POST /api/stock/increase-stock-for-sale",
    "longname": "module:server/routes/stock.POST /api/stock/increase-stock-for-sale",
    "url": "module-server_routes_stock.html#.POST/api/stock/increase-stock-for-sale",
    "description": "<p>POST /api/stock/increase-stock-for-sale - Issue new shares to the market</p>\n<p>Only available for users who have completed IPO.\nEach purchase issues 25,000 shares.\nPrice doubles with each tier based on shares in circulation:</p>\n<ul>\n<li>0-25k: 6.5M</li>\n<li>25k-50k: 12.5M</li>\n<li>50k-75k: 25M</li>\n<li>75k-100k: 50M</li>\n<li>etc. (doubles each tier)</li>\n</ul>",
    "parent": "module:server/routes/stock"
  },
  {
    "type": "method",
    "name": "POST /api/stock/purchase",
    "longname": "module:server/routes/stock.POST /api/stock/purchase",
    "url": "module-server_routes_stock.html#.POST/api/stock/purchase",
    "description": "<p>POST /api/stock/purchase - Purchase stocks from a company</p>\n<p>Requires IPO=1 on the calling user's account.\nReturns error &quot;user_has_not_done_ipo&quot; if user has not completed IPO.</p>",
    "parent": "module:server/routes/stock"
  },
  {
    "type": "method",
    "name": "POST /api/stock/sell",
    "longname": "module:server/routes/stock.POST /api/stock/sell",
    "url": "module-server_routes_stock.html#.POST/api/stock/sell",
    "description": "<p>POST /api/stock/sell - Sell stocks from a company</p>",
    "parent": "module:server/routes/stock"
  },
  {
    "type": "method",
    "name": "initScheduler",
    "longname": "module:server/scheduler~initScheduler",
    "url": "module-server_scheduler.html#~initScheduler",
    "description": "<p>Initializes all schedulers.\nCalled once during server startup.</p>",
    "parent": "module:server/scheduler"
  },
  {
    "type": "method",
    "name": "isServerReady",
    "longname": "module:server/scheduler~isServerReady",
    "url": "module-server_scheduler.html#~isServerReady",
    "description": "<p>Check if server has completed initial data load</p>",
    "parent": "module:server/scheduler"
  },
  {
    "type": "method",
    "name": "fetchAllAlliances",
    "longname": "module:server/services/alliance-indexer~AllianceIndexer#fetchAllAlliances",
    "url": "module-server_services_alliance-indexer-AllianceIndexer.html#fetchAllAlliances",
    "description": "<p>Fetch all alliances from API\nFetches across all supported languages to get complete alliance list</p>",
    "parent": "module:server/services/alliance-indexer~AllianceIndexer"
  },
  {
    "type": "method",
    "name": "getAvailableLanguages",
    "longname": "module:server/services/alliance-indexer~AllianceIndexer#getAvailableLanguages",
    "url": "module-server_services_alliance-indexer-AllianceIndexer.html#getAvailableLanguages",
    "description": "<p>Get available languages from indexed alliances</p>",
    "parent": "module:server/services/alliance-indexer~AllianceIndexer"
  },
  {
    "type": "method",
    "name": "getById",
    "longname": "module:server/services/alliance-indexer~AllianceIndexer#getById",
    "url": "module-server_services_alliance-indexer-AllianceIndexer.html#getById",
    "description": "<p>Get alliance by ID from cache</p>",
    "parent": "module:server/services/alliance-indexer~AllianceIndexer"
  },
  {
    "type": "method",
    "name": "getStatus",
    "longname": "module:server/services/alliance-indexer~AllianceIndexer#getStatus",
    "url": "module-server_services_alliance-indexer-AllianceIndexer.html#getStatus",
    "description": "<p>Get indexer status</p>",
    "parent": "module:server/services/alliance-indexer~AllianceIndexer"
  },
  {
    "type": "method",
    "name": "initialIndex",
    "longname": "module:server/services/alliance-indexer~AllianceIndexer#initialIndex",
    "url": "module-server_services_alliance-indexer-AllianceIndexer.html#initialIndex",
    "description": "<p>Initial indexing with auto-retry</p>",
    "parent": "module:server/services/alliance-indexer~AllianceIndexer"
  },
  {
    "type": "method",
    "name": "loadFromCache",
    "longname": "module:server/services/alliance-indexer~AllianceIndexer#loadFromCache",
    "url": "module-server_services_alliance-indexer-AllianceIndexer.html#loadFromCache",
    "description": "<p>Load alliances from cache file</p>",
    "parent": "module:server/services/alliance-indexer~AllianceIndexer"
  },
  {
    "type": "method",
    "name": "saveToCache",
    "longname": "module:server/services/alliance-indexer~AllianceIndexer#saveToCache",
    "url": "module-server_services_alliance-indexer-AllianceIndexer.html#saveToCache",
    "description": "<p>Save alliances to cache file</p>",
    "parent": "module:server/services/alliance-indexer~AllianceIndexer"
  },
  {
    "type": "method",
    "name": "search",
    "longname": "module:server/services/alliance-indexer~AllianceIndexer#search",
    "url": "module-server_services_alliance-indexer-AllianceIndexer.html#search",
    "description": "<p>Search alliances with filters</p>",
    "parent": "module:server/services/alliance-indexer~AllianceIndexer"
  },
  {
    "type": "method",
    "name": "start",
    "longname": "module:server/services/alliance-indexer~AllianceIndexer#start",
    "url": "module-server_services_alliance-indexer-AllianceIndexer.html#start",
    "description": "<p>Start indexer (called from app.js)</p>",
    "parent": "module:server/services/alliance-indexer~AllianceIndexer"
  },
  {
    "type": "method",
    "name": "startBackgroundRefresh",
    "longname": "module:server/services/alliance-indexer~AllianceIndexer#startBackgroundRefresh",
    "url": "module-server_services_alliance-indexer-AllianceIndexer.html#startBackgroundRefresh",
    "description": "<p>Start background refresh cycle\nRefreshes all alliances over 1 hour (distributed evenly)</p>",
    "parent": "module:server/services/alliance-indexer~AllianceIndexer"
  },
  {
    "type": "method",
    "name": "stop",
    "longname": "module:server/services/alliance-indexer~AllianceIndexer#stop",
    "url": "module-server_services_alliance-indexer-AllianceIndexer.html#stop",
    "description": "<p>Stop indexer</p>",
    "parent": "module:server/services/alliance-indexer~AllianceIndexer"
  },
  {
    "type": "method",
    "name": "getDefault",
    "longname": "module:server/settings-schema~getDefault",
    "url": "module-server_settings-schema.html#~getDefault",
    "description": "<p>Get default value for a setting key.</p>",
    "parent": "module:server/settings-schema"
  },
  {
    "type": "method",
    "name": "getDefaults",
    "longname": "module:server/settings-schema~getDefaults",
    "url": "module-server_settings-schema.html#~getDefaults",
    "description": "<p>Get complete default settings object.</p>",
    "parent": "module:server/settings-schema"
  },
  {
    "type": "method",
    "name": "getRequiredKeys",
    "longname": "module:server/settings-schema~getRequiredKeys",
    "url": "module-server_settings-schema.html#~getRequiredKeys",
    "description": "<p>Get list of all required setting keys.</p>",
    "parent": "module:server/settings-schema"
  },
  {
    "type": "method",
    "name": "getSettingsFilePath",
    "longname": "module:server/settings-schema~getSettingsFilePath",
    "url": "module-server_settings-schema.html#~getSettingsFilePath",
    "description": "<p>Get settings file path for a specific user.</p>",
    "parent": "module:server/settings-schema"
  },
  {
    "type": "method",
    "name": "initializeSettings",
    "longname": "module:server/settings-schema~initializeSettings",
    "url": "module-server_settings-schema.html#~initializeSettings",
    "description": "<p>Initialize settings system.</p>\n<ul>\n<li>If settings.json doesn't exist: Create with defaults</li>\n<li>If settings.json exists: Validate and fill missing keys</li>\n<li>If settings.json is unreadable: CRASH</li>\n</ul>",
    "parent": "module:server/settings-schema"
  },
  {
    "type": "method",
    "name": "saveSettings",
    "longname": "module:server/settings-schema~saveSettings",
    "url": "module-server_settings-schema.html#~saveSettings",
    "description": "<p>Save settings to file for a specific user.</p>",
    "parent": "module:server/settings-schema"
  },
  {
    "type": "method",
    "name": "validateSettings",
    "longname": "module:server/settings-schema~validateSettings",
    "url": "module-server_settings-schema.html#~validateSettings",
    "description": "<p>Validate complete settings object.\nEnsures ALL required keys exist and have valid values.</p>",
    "parent": "module:server/settings-schema"
  },
  {
    "type": "method",
    "name": "validateValue",
    "longname": "module:server/settings-schema~validateValue",
    "url": "module-server_settings-schema.html#~validateValue",
    "description": "<p>Validate a single setting value and coerce to correct type.</p>",
    "parent": "module:server/settings-schema"
  },
  {
    "type": "method",
    "name": "getAllLocks",
    "longname": "module:server/state~getAllLocks",
    "url": "module-server_state.html#~getAllLocks",
    "description": "<p>Gets all lock statuses for a user.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "getAutopilotState",
    "longname": "module:server/state~getAutopilotState",
    "url": "module-server_state.html#~getAutopilotState",
    "description": "<p>Gets autopilot monitoring state for change detection.\nUsed to track previous values and detect changes.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "getBunkerState",
    "longname": "module:server/state~getBunkerState",
    "url": "module-server_state.html#~getBunkerState",
    "description": "<p>Gets current bunker state.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "getCampaignStatus",
    "longname": "module:server/state~getCampaignStatus",
    "url": "module-server_state.html#~getCampaignStatus",
    "description": "<p>Gets campaign status.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "getCoopData",
    "longname": "module:server/state~getCoopData",
    "url": "module-server_state.html#~getCoopData",
    "description": "<p>Gets COOP data.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "getDrydockCount",
    "longname": "module:server/state~getDrydockCount",
    "url": "module-server_state.html#~getDrydockCount",
    "description": "<p>Gets drydock count.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "getEventData",
    "longname": "module:server/state~getEventData",
    "url": "module-server_state.html#~getEventData",
    "description": "<p>Gets event data.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "getHeaderData",
    "longname": "module:server/state~getHeaderData",
    "url": "module-server_state.html#~getHeaderData",
    "description": "<p>Gets header data.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "getLastCO2Alert",
    "longname": "module:server/state~getLastCO2Alert",
    "url": "module-server_state.html#~getLastCO2Alert",
    "description": "<p>Gets last CO2 alert price.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "getLastFuelAlert",
    "longname": "module:server/state~getLastFuelAlert",
    "url": "module-server_state.html#~getLastFuelAlert",
    "description": "<p>Gets last fuel alert price.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "getLockStatus",
    "longname": "module:server/state~getLockStatus",
    "url": "module-server_state.html#~getLockStatus",
    "description": "<p>Gets lock status for a specific operation.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "getPrices",
    "longname": "module:server/state~getPrices",
    "url": "module-server_state.html#~getPrices",
    "description": "<p>Gets current market prices.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "getRepairCount",
    "longname": "module:server/state~getRepairCount",
    "url": "module-server_state.html#~getRepairCount",
    "description": "<p>Gets repair count.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "getSettings",
    "longname": "module:server/state~getSettings",
    "url": "module-server_state.html#~getSettings",
    "description": "<p>Gets autopilot settings.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "getStaffData",
    "longname": "module:server/state~getStaffData",
    "url": "module-server_state.html#~getStaffData",
    "description": "<p>Gets current staff data.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "getUserState",
    "longname": "module:server/state~getUserState",
    "url": "module-server_state.html#~getUserState",
    "description": "<p>Gets user state for specific userId, creating default state if not initialized.\nEach user has isolated state in the Map.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "getVesselCounts",
    "longname": "module:server/state~getVesselCounts",
    "url": "module-server_state.html#~getVesselCounts",
    "description": "<p>Gets vessel counts.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "isAutopilotPaused",
    "longname": "module:server/state~isAutopilotPaused",
    "url": "module-server_state.html#~isAutopilotPaused",
    "description": "<p>Checks if autopilot is currently paused.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "setAutopilotPaused",
    "longname": "module:server/state~setAutopilotPaused",
    "url": "module-server_state.html#~setAutopilotPaused",
    "description": "<p>Sets autopilot paused state.\nWhen paused, the autopilot monitor still runs but skips all actions.\nHeader updates continue to run normally.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "setAutopilotState",
    "longname": "module:server/state~setAutopilotState",
    "url": "module-server_state.html#~setAutopilotState",
    "description": "<p>Sets autopilot monitoring state for change detection.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "setLastCO2Alert",
    "longname": "module:server/state~setLastCO2Alert",
    "url": "module-server_state.html#~setLastCO2Alert",
    "description": "<p>Sets last CO2 alert price (prevents duplicate alerts).</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "setLastFuelAlert",
    "longname": "module:server/state~setLastFuelAlert",
    "url": "module-server_state.html#~setLastFuelAlert",
    "description": "<p>Sets last fuel alert price (prevents duplicate alerts).</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "setLockStatus",
    "longname": "module:server/state~setLockStatus",
    "url": "module-server_state.html#~setLockStatus",
    "description": "<p>Sets lock status for a specific operation.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "updateBunkerState",
    "longname": "module:server/state~updateBunkerState",
    "url": "module-server_state.html#~updateBunkerState",
    "description": "<p>Updates bunker state.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "updateCampaignStatus",
    "longname": "module:server/state~updateCampaignStatus",
    "url": "module-server_state.html#~updateCampaignStatus",
    "description": "<p>Updates campaign status.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "updateCoopData",
    "longname": "module:server/state~updateCoopData",
    "url": "module-server_state.html#~updateCoopData",
    "description": "<p>Updates COOP data.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "updateDrydockCount",
    "longname": "module:server/state~updateDrydockCount",
    "url": "module-server_state.html#~updateDrydockCount",
    "description": "<p>Updates drydock count.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "updateEventData",
    "longname": "module:server/state~updateEventData",
    "url": "module-server_state.html#~updateEventData",
    "description": "<p>Updates event data.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "updateHeaderData",
    "longname": "module:server/state~updateHeaderData",
    "url": "module-server_state.html#~updateHeaderData",
    "description": "<p>Updates header data.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "updatePrices",
    "longname": "module:server/state~updatePrices",
    "url": "module-server_state.html#~updatePrices",
    "description": "<p>Updates market prices.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "updateRepairCount",
    "longname": "module:server/state~updateRepairCount",
    "url": "module-server_state.html#~updateRepairCount",
    "description": "<p>Updates repair count.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "updateSettings",
    "longname": "module:server/state~updateSettings",
    "url": "module-server_state.html#~updateSettings",
    "description": "<p>Updates autopilot settings.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "updateStaffData",
    "longname": "module:server/state~updateStaffData",
    "url": "module-server_state.html#~updateStaffData",
    "description": "<p>Updates staff data.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "updateVesselCounts",
    "longname": "module:server/state~updateVesselCounts",
    "url": "module-server_state.html#~updateVesselCounts",
    "description": "<p>Updates vessel counts.</p>",
    "parent": "module:server/state"
  },
  {
    "type": "method",
    "name": "apiCall",
    "longname": "module:server/utils/api~apiCall",
    "url": "module-server_utils_api.html#~apiCall",
    "description": "<p>Makes authenticated HTTP API calls to the Shipping Manager game server.</p>\n<p>This is the core function for all API communication. It handles authentication\nvia session cookie, sets appropriate headers to mimic browser requests, and\nuses connection pooling for performance.</p>\n<p>Why This Design:</p>\n<ul>\n<li>Centralizes authentication logic (session cookie from environment)</li>\n<li>Mimics browser requests (headers, user agent, origin)</li>\n<li>Uses Keep-Alive agent for connection reuse</li>\n<li>Consistent error handling across all API calls</li>\n<li>Configurable timeout (default 30s, extended for slow endpoints like messenger)</li>\n</ul>\n<p>Authentication:</p>\n<ul>\n<li>Session cookie injected via config.SESSION_COOKIE</li>\n<li>Cookie extracted from Steam client by start.py and stored in encrypted session storage</li>\n<li>Provides full account access (same as logged-in browser session)</li>\n<li>Cookie stored encrypted in session-manager (AES-256-GCM)</li>\n</ul>\n<p>Headers:</p>\n<ul>\n<li>User-Agent: Mozilla/5.0 (looks like browser, not bot)</li>\n<li>Origin: https://shippingmanager.cc (required for CORS)</li>\n<li>Content-Type: application/json (API expects JSON)</li>\n<li>Accept: application/json (indicates we want JSON response)</li>\n<li>Cookie: Session authentication</li>\n</ul>\n<p>Error Handling:</p>\n<ul>\n<li>HTTP errors: Extracts status code from response</li>\n<li>Network errors: Returns error message</li>\n<li>Logs errors to console for debugging</li>\n<li>Throws error for caller to handle</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Makes HTTPS request to shippingmanager.cc</li>\n<li>Reuses existing TCP connections via Keep-Alive agent</li>\n<li>Logs errors to console</li>\n</ul>",
    "parent": "module:server/utils/api"
  },
  {
    "type": "method",
    "name": "apiCallWithRetry",
    "longname": "module:server/utils/api~apiCallWithRetry",
    "url": "module-server_utils_api.html#~apiCallWithRetry",
    "description": "<p>Makes API call with automatic retry on network errors.</p>\n<p>This wrapper around apiCall() handles transient network failures by automatically\nretrying failed requests. Common network errors include:</p>\n<ul>\n<li>&quot;socket hang up&quot; (ECONNRESET) - Connection closed unexpectedly</li>\n<li>&quot;ETIMEDOUT&quot; - Request timeout</li>\n<li>&quot;ENOTFOUND&quot; - DNS lookup failed</li>\n</ul>\n<p>Retry Strategy:</p>\n<ul>\n<li>3 attempts maximum (initial + 2 retries)</li>\n<li>Exponential backoff: 1s, 2s between attempts</li>\n<li>Only retries on network errors (not HTTP 4xx/5xx errors)</li>\n<li>Logs retry attempts to console</li>\n</ul>\n<p>Why This Is Needed:</p>\n<ul>\n<li>Game API sometimes has socket errors under load</li>\n<li>Temporary network glitches should not fail operations</li>\n<li>Automatic retry is user-friendly (no manual refresh needed)</li>\n<li>Exponential backoff prevents overwhelming struggling API</li>\n</ul>",
    "parent": "module:server/utils/api"
  },
  {
    "type": "method",
    "name": "checkAndUpdateAllianceId",
    "longname": "module:server/utils/api~checkAndUpdateAllianceId",
    "url": "module-server_utils_api.html#~checkAndUpdateAllianceId",
    "description": "<p>Checks current alliance membership and updates cached ID if changed.\nBroadcasts alliance_changed event to all clients when change detected.</p>\n<p>Call this periodically (e.g., in main event loop) to detect alliance switches.</p>",
    "parent": "module:server/utils/api"
  },
  {
    "type": "method",
    "name": "getAllianceId",
    "longname": "module:server/utils/api~getAllianceId",
    "url": "module-server_utils_api.html#~getAllianceId",
    "description": "<p>Returns the current user's alliance ID.</p>\n<p>This getter provides read-only access to the alliance ID state variable.\nUsed by routes and WebSocket module to check alliance membership.</p>",
    "parent": "module:server/utils/api"
  },
  {
    "type": "method",
    "name": "getAllianceName",
    "longname": "module:server/utils/api~getAllianceName",
    "url": "module-server_utils_api.html#~getAllianceName",
    "description": "<p>Returns the current user's alliance name</p>",
    "parent": "module:server/utils/api"
  },
  {
    "type": "method",
    "name": "getChatFeed",
    "longname": "module:server/utils/api~getChatFeed",
    "url": "module-server_utils_api.html#~getChatFeed",
    "description": "<p>Fetches the alliance chat feed from the game API.</p>\n<p>This function retrieves all recent messages and feed events for the user's alliance.\nIt's used by WebSocket auto-refresh (every 25 seconds) and manual chat refresh requests.</p>\n<p>Why This Function:</p>\n<ul>\n<li>Centralizes chat feed retrieval logic</li>\n<li>Handles &quot;no alliance&quot; case gracefully (returns empty array)</li>\n<li>Error handling prevents crashes during network issues</li>\n<li>Used by both WebSocket auto-refresh and manual refresh endpoints</li>\n</ul>\n<p>Feed Contents:</p>\n<ul>\n<li>Chat messages: User messages with message text, user_id, timestamp</li>\n<li>Feed events: Alliance joins, route completions, system announcements</li>\n<li>Typically last 50-100 items (game API decides)</li>\n<li>Ordered by time_created (most recent last)</li>\n</ul>\n<p>No Alliance Handling:</p>\n<ul>\n<li>Returns empty array immediately if ALLIANCE_ID is null</li>\n<li>Prevents 404 errors from /alliance/get-chat-feed endpoint</li>\n<li>Allows app to work for users not in alliance</li>\n</ul>\n<p>Error Handling:</p>\n<ul>\n<li>API errors caught and logged</li>\n<li>Returns empty array on error (prevents crash)</li>\n<li>Silent failures (doesn't throw, doesn't stop auto-refresh)</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Makes API call to /alliance/get-chat-feed</li>\n<li>Logs errors to console</li>\n</ul>",
    "parent": "module:server/utils/api"
  },
  {
    "type": "method",
    "name": "getCompanyName",
    "longname": "module:server/utils/api~getCompanyName",
    "url": "module-server_utils_api.html#~getCompanyName",
    "description": "<p>Retrieves a user's company name with intelligent caching to reduce API calls.</p>\n<p>This function implements a memory cache for company names, significantly reducing\nAPI calls during chat feed processing. The cache persists for the lifetime of the\nserver process.</p>\n<p>Why Caching Matters:</p>\n<ul>\n<li>Chat feeds can contain 50+ messages from same users</li>\n<li>Without cache: 50 API calls per chat refresh (25s interval)</li>\n<li>With cache: ~2-3 API calls per refresh (only new users)</li>\n<li>Reduces rate limit risk by 95%+</li>\n<li>Faster response times (cache lookup vs network roundtrip)</li>\n</ul>\n<p>Cache Strategy:</p>\n<ul>\n<li>Map-based cache: O(1) lookup time</li>\n<li>Persistent: Cache never cleared (safe assumption: usernames don't change often)</li>\n<li>Grows linearly with unique users seen (minimal memory impact)</li>\n<li>Thread-safe: Node.js single-threaded, no race conditions</li>\n</ul>\n<p>Fallback Behavior:</p>\n<ul>\n<li>If API call fails (user deleted, API error), returns &quot;User {userId}&quot;</li>\n<li>Prevents cascade failures from missing user data</li>\n<li>Silent error handling (no throw, no log spam)</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Makes API call to /user/get-company on cache miss</li>\n<li>Stores result in userNameCache Map</li>\n<li>Logs errors silently (doesn't log to console)</li>\n</ul>",
    "parent": "module:server/utils/api"
  },
  {
    "type": "method",
    "name": "getUserCompanyName",
    "longname": "module:server/utils/api~getUserCompanyName",
    "url": "module-server_utils_api.html#~getUserCompanyName",
    "description": "<p>Returns the current user's company name.</p>\n<p>This getter provides read-only access to the company name state variable.\nUsed for logging, debugging, and UI display.</p>",
    "parent": "module:server/utils/api"
  },
  {
    "type": "method",
    "name": "getUserId",
    "longname": "module:server/utils/api~getUserId",
    "url": "module-server_utils_api.html#~getUserId",
    "description": "<p>Returns the current user's unique identifier.</p>\n<p>This getter provides read-only access to the user ID state variable.\nUsed by routes to filter messages, identify ownership, etc.</p>",
    "parent": "module:server/utils/api"
  },
  {
    "type": "method",
    "name": "initializeAlliance",
    "longname": "module:server/utils/api~initializeAlliance",
    "url": "module-server_utils_api.html#~initializeAlliance",
    "description": "<p>Initializes user and alliance state on server startup.</p>\n<p>This critical initialization function loads user identity and alliance membership\nfrom the game API. It must complete successfully before the server can function,\nas many endpoints depend on USER_ID and ALLIANCE_ID state.</p>\n<p>Why This Runs at Startup:</p>\n<ul>\n<li>USER_ID needed for filtering own messages in chat</li>\n<li>ALLIANCE_ID required for all alliance-specific endpoints</li>\n<li>Company name used for logging and debugging</li>\n<li>Early failure prevents server from running with invalid state</li>\n<li>Session cookie validation (fails if cookie invalid/expired)</li>\n</ul>\n<p>Initialization Sequence:</p>\n<ol>\n<li>Load user settings (USER_ID, USER_COMPANY_NAME)\n<ul>\n<li>Endpoint: /user/get-user-settings</li>\n<li>Always required - exits if fails</li>\n</ul>\n</li>\n<li>Attempt to load alliance membership\n<ul>\n<li>Endpoint: /alliance/get-user-alliance</li>\n<li>Optional - sets ALLIANCE_ID to null if not in alliance</li>\n</ul>\n</li>\n</ol>\n<p>Graceful Degradation:</p>\n<ul>\n<li>User not in alliance: ALLIANCE_ID = null, continues running</li>\n<li>Alliance endpoints will return empty arrays</li>\n<li>Chat auto-refresh skips when ALLIANCE_ID is null</li>\n<li>Other features (vessels, bunker, etc.) still work</li>\n</ul>\n<p>Failure Modes:</p>\n<ul>\n<li>User settings fail: process.exit(1) - Critical failure</li>\n<li>Alliance API error: Treats as &quot;not in alliance&quot; - Non-critical</li>\n<li>Invalid session cookie: User settings fail ‚Üí exit</li>\n<li>Network error: User settings fail ‚Üí exit</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Sets module-level variables: USER_ID, USER_COMPANY_NAME, ALLIANCE_ID</li>\n<li>Makes 1-2 API calls on startup</li>\n<li>Logs initialization status to console</li>\n<li>Exits process (process.exit(1)) if user settings fail</li>\n</ul>",
    "parent": "module:server/utils/api"
  },
  {
    "type": "method",
    "name": "setAllianceId",
    "longname": "module:server/utils/api~setAllianceId",
    "url": "module-server_utils_api.html#~setAllianceId",
    "description": "<p>Updates the cached alliance ID and name</p>",
    "parent": "module:server/utils/api"
  },
  {
    "type": "method",
    "name": "sleep",
    "longname": "module:server/utils/api~sleep",
    "url": "module-server_utils_api.html#~sleep",
    "description": "<p>Sleep helper for retry delays</p>",
    "parent": "module:server/utils/api"
  },
  {
    "type": "method",
    "name": "auditLog",
    "longname": "module:server/utils/audit-logger~auditLog",
    "url": "module-server_utils_audit-logger.html#~auditLog",
    "description": "<p>Audit log entry</p>",
    "parent": "module:server/utils/audit-logger"
  },
  {
    "type": "method",
    "name": "formatCurrency",
    "longname": "module:server/utils/audit-logger~formatCurrency",
    "url": "module-server_utils_audit-logger.html#~formatCurrency",
    "description": "<p>Format currency</p>",
    "parent": "module:server/utils/audit-logger"
  },
  {
    "type": "method",
    "name": "formatNumber",
    "longname": "module:server/utils/audit-logger~formatNumber",
    "url": "module-server_utils_audit-logger.html#~formatNumber",
    "description": "<p>Format number with commas</p>",
    "parent": "module:server/utils/audit-logger"
  },
  {
    "type": "method",
    "name": "decryptData",
    "longname": "module:server/utils/encryption~decryptData",
    "url": "module-server_utils_encryption.html#~decryptData",
    "description": "<p>Decrypt data that was encrypted with encryptData()</p>\n<p>Handles two storage formats:</p>\n<ol>\n<li>OS keyring (KEYRING:account_name) - Uses Windows DPAPI/macOS Keychain/Linux libsecret</li>\n<li>Plaintext (legacy) - For migration from older versions</li>\n</ol>\n<p>IMPORTANT: This function includes a workaround for Python/Node.js keyring incompatibility.\nPython's keyring library stores credentials as UTF-16 on Windows, which creates null bytes (0x00)\nbetween each character when read by Node.js's keytar library (which expects UTF-8).\nExample: &quot;eyJpdiI6...&quot; becomes &quot;e\\0y\\0J\\0p\\0d\\0i\\0...&quot; (680 chars instead of 340)</p>\n<p>The workaround:</p>\n<ul>\n<li>Uses findCredentials() instead of getPassword() (which returns null for UTF-16 entries)</li>\n<li>Detects UTF-16 encoding by checking for null bytes at every 2nd position</li>\n<li>Removes null bytes by filtering to even-indexed characters only</li>\n</ul>\n<p>This affects browser sessions saved by Python but not Steam sessions (saved differently).</p>",
    "parent": "module:server/utils/encryption"
  },
  {
    "type": "method",
    "name": "deleteEncryptedData",
    "longname": "module:server/utils/encryption~deleteEncryptedData",
    "url": "module-server_utils_encryption.html#~deleteEncryptedData",
    "description": "<p>Delete encrypted data from OS keyring\nOnly works for keyring-stored data</p>",
    "parent": "module:server/utils/encryption"
  },
  {
    "type": "method",
    "name": "encryptData",
    "longname": "module:server/utils/encryption~encryptData",
    "url": "module-server_utils_encryption.html#~encryptData",
    "description": "<p>Encrypt sensitive data using OS-native credential storage</p>",
    "parent": "module:server/utils/encryption"
  },
  {
    "type": "method",
    "name": "getEncryptionInfo",
    "longname": "module:server/utils/encryption~getEncryptionInfo",
    "url": "module-server_utils_encryption.html#~getEncryptionInfo",
    "description": "<p>Get information about the encryption system</p>",
    "parent": "module:server/utils/encryption"
  },
  {
    "type": "method",
    "name": "isEncrypted",
    "longname": "module:server/utils/encryption~isEncrypted",
    "url": "module-server_utils_encryption.html#~isEncrypted",
    "description": "<p>Check if data is encrypted</p>",
    "parent": "module:server/utils/encryption"
  },
  {
    "type": "method",
    "name": "calculateFuelConsumption",
    "longname": "module:server/utils/fuel-calculator~calculateFuelConsumption",
    "url": "module-server_utils_fuel-calculator.html#~calculateFuelConsumption",
    "description": "<p>Calculate fuel consumption for a vessel at a specific speed</p>",
    "parent": "module:server/utils/fuel-calculator"
  },
  {
    "type": "method",
    "name": "calculateFuelFromFormula",
    "longname": "module:server/utils/fuel-calculator~calculateFuelFromFormula",
    "url": "module-server_utils_fuel-calculator.html#~calculateFuelFromFormula",
    "description": "<p>Calculate fuel consumption using the game formula\nFormula: fuel_kg_per_nm = capacity * Math.sqrt(speed) * fuel_factor / 40</p>",
    "parent": "module:server/utils/fuel-calculator"
  },
  {
    "type": "method",
    "name": "getFuelConsumptionDisplay",
    "longname": "module:server/utils/fuel-calculator~getFuelConsumptionDisplay",
    "url": "module-server_utils_fuel-calculator.html#~getFuelConsumptionDisplay",
    "description": "<p>Get formatted fuel consumption display string for UI</p>",
    "parent": "module:server/utils/fuel-calculator"
  },
  {
    "type": "method",
    "name": "getVesselFuelData",
    "longname": "module:server/utils/fuel-calculator~getVesselFuelData",
    "url": "module-server_utils_fuel-calculator.html#~getVesselFuelData",
    "description": "<p>Get fuel consumption data for a vessel using game formula</p>",
    "parent": "module:server/utils/fuel-calculator"
  },
  {
    "type": "method",
    "name": "ensureIpoTrackingFile",
    "longname": "module:server/utils/ipo-tracker~ensureIpoTrackingFile",
    "url": "module-server_utils_ipo-tracker.html#~ensureIpoTrackingFile",
    "description": "<p>Ensures the IPO tracking file exists and loads it into memory cache.\nCreates file with default values if it doesn't exist.</p>",
    "parent": "module:server/utils/ipo-tracker"
  },
  {
    "type": "method",
    "name": "getHighestSeenUserId",
    "longname": "module:server/utils/ipo-tracker~getHighestSeenUserId",
    "url": "module-server_utils_ipo-tracker.html#~getHighestSeenUserId",
    "description": "<p>Gets the highest seen user ID.</p>",
    "parent": "module:server/utils/ipo-tracker"
  },
  {
    "type": "method",
    "name": "getSeenIpoUserIds",
    "longname": "module:server/utils/ipo-tracker~getSeenIpoUserIds",
    "url": "module-server_utils_ipo-tracker.html#~getSeenIpoUserIds",
    "description": "<p>Gets the set of seen IPO user IDs.</p>",
    "parent": "module:server/utils/ipo-tracker"
  },
  {
    "type": "method",
    "name": "hasSeenIpo",
    "longname": "module:server/utils/ipo-tracker~hasSeenIpo",
    "url": "module-server_utils_ipo-tracker.html#~hasSeenIpo",
    "description": "<p>Checks if a user ID has been seen before.</p>",
    "parent": "module:server/utils/ipo-tracker"
  },
  {
    "type": "method",
    "name": "initializeWithIpos",
    "longname": "module:server/utils/ipo-tracker~initializeWithIpos",
    "url": "module-server_utils_ipo-tracker.html#~initializeWithIpos",
    "description": "<p>Initializes tracking with a list of IPOs (used on first check).\nMarks all provided IPOs as seen and sets highest user ID.</p>",
    "parent": "module:server/utils/ipo-tracker"
  },
  {
    "type": "method",
    "name": "isFirstCheck",
    "longname": "module:server/utils/ipo-tracker~isFirstCheck",
    "url": "module-server_utils_ipo-tracker.html#~isFirstCheck",
    "description": "<p>Checks if this is the first time checking IPOs (no data yet).</p>",
    "parent": "module:server/utils/ipo-tracker"
  },
  {
    "type": "method",
    "name": "markIpoAsSeen",
    "longname": "module:server/utils/ipo-tracker~markIpoAsSeen",
    "url": "module-server_utils_ipo-tracker.html#~markIpoAsSeen",
    "description": "<p>Adds a user ID to the seen list and updates highest if needed.</p>",
    "parent": "module:server/utils/ipo-tracker"
  },
  {
    "type": "method",
    "name": "saveIpoTrackingFile",
    "longname": "module:server/utils/ipo-tracker~saveIpoTrackingFile",
    "url": "module-server_utils_ipo-tracker.html#~saveIpoTrackingFile",
    "description": "<p>Saves IPO tracking data to disk.</p>",
    "parent": "module:server/utils/ipo-tracker"
  },
  {
    "type": "method",
    "name": "debug",
    "longname": "module:server/utils/logger~debug",
    "url": "module-server_utils_logger.html#~debug",
    "description": "<p>Log debug message with timestamp</p>",
    "parent": "module:server/utils/logger"
  },
  {
    "type": "method",
    "name": "error",
    "longname": "module:server/utils/logger~error",
    "url": "module-server_utils_logger.html#~error",
    "description": "<p>Log error message with timestamp</p>",
    "parent": "module:server/utils/logger"
  },
  {
    "type": "method",
    "name": "info",
    "longname": "module:server/utils/logger~info",
    "url": "module-server_utils_logger.html#~info",
    "description": "<p>Log info message with timestamp</p>",
    "parent": "module:server/utils/logger"
  },
  {
    "type": "method",
    "name": "isDebugMode",
    "longname": "module:server/utils/logger~isDebugMode",
    "url": "module-server_utils_logger.html#~isDebugMode",
    "description": "<p>Check if debug mode is enabled from environment variable.\nSet by start.py based on systray Debug Mode toggle.</p>",
    "parent": "module:server/utils/logger"
  },
  {
    "type": "method",
    "name": "loadLogLevel",
    "longname": "module:server/utils/logger~loadLogLevel",
    "url": "module-server_utils_logger.html#~loadLogLevel",
    "description": "<p>Load log level from startup settings and debug mode.\nMust be done inline to avoid circular dependency with config.js.</p>\n<p>Priority:</p>\n<ol>\n<li>If DEBUG_MODE env var is set (from systray toggle), use 'debug'</li>\n<li>Otherwise use settings.logLevel (from settings.json)</li>\n</ol>",
    "parent": "module:server/utils/logger"
  },
  {
    "type": "method",
    "name": "warn",
    "longname": "module:server/utils/logger~warn",
    "url": "module-server_utils_logger.html#~warn",
    "description": "<p>Log warning message with timestamp</p>",
    "parent": "module:server/utils/logger"
  },
  {
    "type": "method",
    "name": "migrateAllHarborFees",
    "longname": "module:server/utils/migrate-harbor-fees~migrateAllHarborFees",
    "url": "module-server_utils_migrate-harbor-fees.html#~migrateAllHarborFees",
    "description": "<p>Migrates harbor fees for all users</p>",
    "parent": "module:server/utils/migrate-harbor-fees"
  },
  {
    "type": "method",
    "name": "migrateHarborFeesForUser",
    "longname": "module:server/utils/migrate-harbor-fees~migrateHarborFeesForUser",
    "url": "module-server_utils_migrate-harbor-fees.html#~migrateHarborFeesForUser",
    "description": "<p>Migrates harbor fees from audit log to harbor fee storage</p>",
    "parent": "module:server/utils/migrate-harbor-fees"
  },
  {
    "type": "method",
    "name": "resolveVesselNameToId",
    "longname": "module:server/utils/migrate-harbor-fees~resolveVesselNameToId",
    "url": "module-server_utils_migrate-harbor-fees.html#~resolveVesselNameToId",
    "description": "<p>Resolves vessel name to vessel ID with smart matching</p>\n<p>Naming logic:</p>\n<ul>\n<li>&quot;Barzan&quot; = first/only vessel with this name (no suffix)</li>\n<li>&quot;Barzan_5836&quot; = additional vessel purchased later (with suffix)</li>\n</ul>\n<p>Matching rules:</p>\n<ol>\n<li>Try exact match first (highest priority)</li>\n<li>If logbook has &quot;Barzan&quot;, try to match current &quot;Barzan&quot; without suffix</li>\n<li>If logbook has &quot;Barzan_5836&quot;, only match exact &quot;Barzan_5836&quot;</li>\n<li>Skip if ambiguous (vessel sold/renamed)</li>\n</ol>",
    "parent": "module:server/utils/migrate-harbor-fees"
  },
  {
    "type": "method",
    "name": "timestampToMySQLDatetime",
    "longname": "module:server/utils/migrate-harbor-fees~timestampToMySQLDatetime",
    "url": "module-server_utils_migrate-harbor-fees.html#~timestampToMySQLDatetime",
    "description": "<p>Converts logbook timestamp (milliseconds) to MySQL datetime format</p>",
    "parent": "module:server/utils/migrate-harbor-fees"
  },
  {
    "type": "method",
    "name": "ensureReadTrackingFile",
    "longname": "module:server/utils/read-tracker~ensureReadTrackingFile",
    "url": "module-server_utils_read-tracker.html#~ensureReadTrackingFile",
    "description": "<p>Ensures the read tracking file exists and loads it into memory cache.\nCreates file with empty object {} if it doesn't exist.</p>\n<p>Why This Function:</p>\n<ul>\n<li>Prevents crashes from missing file</li>\n<li>Initializes cache on first access</li>\n<li>Creates directory structure if needed</li>\n<li>Single source of truth for file operations</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Creates userdata/settings/ directory if missing</li>\n<li>Creates read-tracking.json file if missing</li>\n<li>Loads data into readTrackingCache</li>\n</ul>",
    "parent": "module:server/utils/read-tracker"
  },
  {
    "type": "method",
    "name": "getLastReadTimestamp",
    "longname": "module:server/utils/read-tracker~getLastReadTimestamp",
    "url": "module-server_utils_read-tracker.html#~getLastReadTimestamp",
    "description": "<p>Gets the last read timestamp for a user's alliance chat.</p>\n<p>Why This Function:</p>\n<ul>\n<li>Used by GET /api/chat to calculate unread count</li>\n<li>Returns current time for new users (treats existing messages as already read)</li>\n<li>Cached lookups are fast (no file I/O after initial load)</li>\n</ul>\n<p>New User Behavior:</p>\n<ul>\n<li>First time a user is seen, auto-initializes timestamp to NOW</li>\n<li>This prevents showing hundreds of old messages as &quot;unread&quot; after fresh install</li>\n<li>Only NEW messages (after first access) will show as unread</li>\n</ul>",
    "parent": "module:server/utils/read-tracker"
  },
  {
    "type": "method",
    "name": "saveReadTrackingFile",
    "longname": "module:server/utils/read-tracker~saveReadTrackingFile",
    "url": "module-server_utils_read-tracker.html#~saveReadTrackingFile",
    "description": "<p>Saves read tracking data to disk.</p>\n<p>Why This Function:</p>\n<ul>\n<li>Persists in-memory cache to disk</li>\n<li>Ensures data survives server restarts</li>\n<li>Atomic write via writeFileSync (no partial writes)</li>\n<li>Pretty-printed JSON for debugging</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Writes to read-tracking.json file</li>\n<li>Logs errors if write fails</li>\n</ul>",
    "parent": "module:server/utils/read-tracker"
  },
  {
    "type": "method",
    "name": "updateLastReadTimestamp",
    "longname": "module:server/utils/read-tracker~updateLastReadTimestamp",
    "url": "module-server_utils_read-tracker.html#~updateLastReadTimestamp",
    "description": "<p>Updates the last read timestamp for a user's alliance chat.</p>\n<p>Why This Function:</p>\n<ul>\n<li>Called by POST /api/chat/mark-read when user opens chat</li>\n<li>Persists timestamp to disk for reliability</li>\n<li>Updates in-memory cache for performance</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Updates readTrackingCache</li>\n<li>Writes to read-tracking.json file</li>\n</ul>",
    "parent": "module:server/utils/read-tracker"
  },
  {
    "type": "method",
    "name": "deleteSession",
    "longname": "module:server/utils/session-manager~deleteSession",
    "url": "module-server_utils_session-manager.html#~deleteSession",
    "description": "<p>Delete session for a user</p>",
    "parent": "module:server/utils/session-manager"
  },
  {
    "type": "method",
    "name": "getAllUserIds",
    "longname": "module:server/utils/session-manager~getAllUserIds",
    "url": "module-server_utils_session-manager.html#~getAllUserIds",
    "description": "<p>Get all user IDs that have sessions</p>",
    "parent": "module:server/utils/session-manager"
  },
  {
    "type": "method",
    "name": "getAvailableSessions",
    "longname": "module:server/utils/session-manager~getAvailableSessions",
    "url": "module-server_utils_session-manager.html#~getAvailableSessions",
    "description": "<p>Get all available sessions with decrypted cookies</p>",
    "parent": "module:server/utils/session-manager"
  },
  {
    "type": "method",
    "name": "getSession",
    "longname": "module:server/utils/session-manager~getSession",
    "url": "module-server_utils_session-manager.html#~getSession",
    "description": "<p>Get session for a specific user</p>",
    "parent": "module:server/utils/session-manager"
  },
  {
    "type": "method",
    "name": "getSessionsPath",
    "longname": "module:server/utils/session-manager~getSessionsPath",
    "url": "module-server_utils_session-manager.html#~getSessionsPath",
    "description": "<p>Get sessions file path based on execution mode</p>",
    "parent": "module:server/utils/session-manager"
  },
  {
    "type": "method",
    "name": "hasSession",
    "longname": "module:server/utils/session-manager~hasSession",
    "url": "module-server_utils_session-manager.html#~hasSession",
    "description": "<p>Check if a session exists for a user</p>",
    "parent": "module:server/utils/session-manager"
  },
  {
    "type": "method",
    "name": "loadAllSessions",
    "longname": "module:server/utils/session-manager~loadAllSessions",
    "url": "module-server_utils_session-manager.html#~loadAllSessions",
    "description": "<p>Load all available sessions (Python and Node.js now use same file)</p>",
    "parent": "module:server/utils/session-manager"
  },
  {
    "type": "method",
    "name": "loadSessions",
    "longname": "module:server/utils/session-manager~loadSessions",
    "url": "module-server_utils_session-manager.html#~loadSessions",
    "description": "<p>Load all sessions from file</p>",
    "parent": "module:server/utils/session-manager"
  },
  {
    "type": "method",
    "name": "migrateToEncrypted",
    "longname": "module:server/utils/session-manager~migrateToEncrypted",
    "url": "module-server_utils_session-manager.html#~migrateToEncrypted",
    "description": "<p>Migrate plaintext sessions to encrypted format\nThis should be called once during upgrade</p>",
    "parent": "module:server/utils/session-manager"
  },
  {
    "type": "method",
    "name": "saveSession",
    "longname": "module:server/utils/session-manager~saveSession",
    "url": "module-server_utils_session-manager.html#~saveSession",
    "description": "<p>Save or update session for a user</p>",
    "parent": "module:server/utils/session-manager"
  },
  {
    "type": "method",
    "name": "saveSessions",
    "longname": "module:server/utils/session-manager~saveSessions",
    "url": "module-server_utils_session-manager.html#~saveSessions",
    "description": "<p>Save sessions to file</p>",
    "parent": "module:server/utils/session-manager"
  },
  {
    "type": "method",
    "name": "checkGreenPrices",
    "longname": "module:server/utils/telegram~checkGreenPrices",
    "url": "module-server_utils_telegram.html#~checkGreenPrices",
    "description": "<p>Check if price is in &quot;green&quot; zone using user-configured thresholds</p>",
    "parent": "module:server/utils/telegram"
  },
  {
    "type": "method",
    "name": "sendPriceAlert",
    "longname": "module:server/utils/telegram~sendPriceAlert",
    "url": "module-server_utils_telegram.html#~sendPriceAlert",
    "description": "<p>Send price alert if prices are green and cooldown has passed</p>",
    "parent": "module:server/utils/telegram"
  },
  {
    "type": "method",
    "name": "sendTelegramMessage",
    "longname": "module:server/utils/telegram~sendTelegramMessage",
    "url": "module-server_utils_telegram.html#~sendTelegramMessage",
    "description": "<p>Send a message via Telegram Bot API</p>",
    "parent": "module:server/utils/telegram"
  },
  {
    "type": "method",
    "name": "testTelegramConnection",
    "longname": "module:server/utils/telegram~testTelegramConnection",
    "url": "module-server_utils_telegram.html#~testTelegramConnection",
    "description": "<p>Test Telegram connection by sending a test message</p>",
    "parent": "module:server/utils/telegram"
  },
  {
    "type": "method",
    "name": "enrichHistoryWithTripData",
    "longname": "module:server/utils/trip-data-store~enrichHistoryWithTripData",
    "url": "module-server_utils_trip-data-store.html#~enrichHistoryWithTripData",
    "description": "<p>Enriches vessel history entries with all stored trip data</p>\n<p>Uses fuzzy timestamp matching (up to 60 seconds tolerance) because\ntimestamps can differ between our store and the game API.</p>\n<p>Falls back to lookup-store (POD4) for historical data when trip-data-store\ndoesn't have the entry (e.g., older trips before tracking was implemented).</p>",
    "parent": "module:server/utils/trip-data-store"
  },
  {
    "type": "method",
    "name": "ensureDirectory",
    "longname": "module:server/utils/trip-data-store~ensureDirectory",
    "url": "module-server_utils_trip-data-store.html#~ensureDirectory",
    "description": "<p>Ensures trip data directory exists</p>",
    "parent": "module:server/utils/trip-data-store"
  },
  {
    "type": "method",
    "name": "findLookupDataFuzzy",
    "longname": "module:server/utils/trip-data-store~findLookupDataFuzzy",
    "url": "module-server_utils_trip-data-store.html#~findLookupDataFuzzy",
    "description": "<p>Find matching lookup entry from POD4 by vessel ID and timestamp</p>",
    "parent": "module:server/utils/trip-data-store"
  },
  {
    "type": "method",
    "name": "findTripDataFuzzy",
    "longname": "module:server/utils/trip-data-store~findTripDataFuzzy",
    "url": "module-server_utils_trip-data-store.html#~findTripDataFuzzy",
    "description": "<p>Finds trip data with fuzzy timestamp matching</p>",
    "parent": "module:server/utils/trip-data-store"
  },
  {
    "type": "method",
    "name": "getFilePath",
    "longname": "module:server/utils/trip-data-store~getFilePath",
    "url": "module-server_utils_trip-data-store.html#~getFilePath",
    "description": "<p>Gets file path for user's trip data</p>",
    "parent": "module:server/utils/trip-data-store"
  },
  {
    "type": "method",
    "name": "getTripData",
    "longname": "module:server/utils/trip-data-store~getTripData",
    "url": "module-server_utils_trip-data-store.html#~getTripData",
    "description": "<p>Gets trip data for a specific trip</p>",
    "parent": "module:server/utils/trip-data-store"
  },
  {
    "type": "method",
    "name": "isMigrationCompleted",
    "longname": "module:server/utils/trip-data-store~isMigrationCompleted",
    "url": "module-server_utils_trip-data-store.html#~isMigrationCompleted",
    "description": "<p>Checks if migration has already been completed</p>",
    "parent": "module:server/utils/trip-data-store"
  },
  {
    "type": "method",
    "name": "loadTripData",
    "longname": "module:server/utils/trip-data-store~loadTripData",
    "url": "module-server_utils_trip-data-store.html#~loadTripData",
    "description": "<p>Loads trip data from disk</p>",
    "parent": "module:server/utils/trip-data-store"
  },
  {
    "type": "method",
    "name": "markMigrationCompleted",
    "longname": "module:server/utils/trip-data-store~markMigrationCompleted",
    "url": "module-server_utils_trip-data-store.html#~markMigrationCompleted",
    "description": "<p>Marks migration as completed</p>",
    "parent": "module:server/utils/trip-data-store"
  },
  {
    "type": "method",
    "name": "migrateFromOldStores",
    "longname": "module:server/utils/trip-data-store~migrateFromOldStores",
    "url": "module-server_utils_trip-data-store.html#~migrateFromOldStores",
    "description": "<p>Migrates data from old separate stores to unified store</p>",
    "parent": "module:server/utils/trip-data-store"
  },
  {
    "type": "method",
    "name": "saveHarborFee",
    "longname": "module:server/utils/trip-data-store~saveHarborFee",
    "url": "module-server_utils_trip-data-store.html#~saveHarborFee",
    "description": "<p>Saves harbor fee only (compatibility wrapper for migrate-harbor-fees.js)</p>",
    "parent": "module:server/utils/trip-data-store"
  },
  {
    "type": "method",
    "name": "saveTripData",
    "longname": "module:server/utils/trip-data-store~saveTripData",
    "url": "module-server_utils_trip-data-store.html#~saveTripData",
    "description": "<p>Saves all trip data for a vessel departure</p>",
    "parent": "module:server/utils/trip-data-store"
  },
  {
    "type": "method",
    "name": "saveTripDataToDisk",
    "longname": "module:server/utils/trip-data-store~saveTripDataToDisk",
    "url": "module-server_utils_trip-data-store.html#~saveTripDataToDisk",
    "description": "<p>Saves trip data to disk</p>",
    "parent": "module:server/utils/trip-data-store"
  },
  {
    "type": "method",
    "name": "broadcast",
    "longname": "module:server/websocket/broadcaster~broadcast",
    "url": "module-server_websocket_broadcaster.html#~broadcast",
    "description": "<p>Broadcasts a message to all connected WebSocket clients.</p>\n<p>This function sends data to every client currently connected to the WebSocket server.\nIt only sends to clients in OPEN state (connected and ready), skipping clients that\nare CONNECTING, CLOSING, or CLOSED.</p>\n<p>Why This Pattern:</p>\n<ul>\n<li>Centralized broadcast logic used by multiple features (chat updates, system notifications)</li>\n<li>Automatically skips clients in transitional states to prevent errors</li>\n<li>Type-based routing allows frontend to handle different message types appropriately</li>\n<li>JSON serialization ensures structured data transmission</li>\n</ul>\n<p>Message Format:\n{\ntype: 'chat_update' | 'system_notification' | ...,\ndata: <any>\n}</p>\n<p>Safety Features:</p>\n<ul>\n<li>Early return if WebSocket server not initialized</li>\n<li>readyState check prevents sending to disconnecting clients</li>\n<li>JSON.stringify errors won't crash server (client.send handles errors)</li>\n</ul>\n<p>Use Cases:</p>\n<ul>\n<li>Chat feed updates every 25 seconds</li>\n<li>New message notifications</li>\n<li>System status updates</li>\n<li>Real-time game state changes</li>\n</ul>",
    "parent": "module:server/websocket/broadcaster"
  },
  {
    "type": "method",
    "name": "broadcastBunkerUpdate",
    "longname": "module:server/websocket/broadcaster~broadcastBunkerUpdate",
    "url": "module-server_websocket_broadcaster.html#~broadcastBunkerUpdate",
    "description": "<p>Helper function to broadcast bunker updates with current prices.\nALWAYS includes prices to prevent race condition where prices get overwritten with undefined.</p>",
    "parent": "module:server/websocket/broadcaster"
  },
  {
    "type": "method",
    "name": "broadcastHarborMapRefresh",
    "longname": "module:server/websocket/broadcaster~broadcastHarborMapRefresh",
    "url": "module-server_websocket_broadcaster.html#~broadcastHarborMapRefresh",
    "description": "<p>Broadcasts a Harbor Map refresh event with rate limiting.\nOnly broadcasts if &gt; 30 seconds since last broadcast.</p>",
    "parent": "module:server/websocket/broadcaster"
  },
  {
    "type": "method",
    "name": "broadcastToUser",
    "longname": "module:server/websocket/broadcaster~broadcastToUser",
    "url": "module-server_websocket_broadcaster.html#~broadcastToUser",
    "description": "<p>Broadcasts a message to all WebSocket clients belonging to a specific user.</p>\n<p>In this single-user application, all connected clients belong to the same user,\nso this function simply wraps broadcast(). The userId parameter is accepted for\nfuture scalability (multi-user support).</p>\n<p>Used by autopilot features to send events to user's connected clients:</p>\n<ul>\n<li>price_update: Price changes (fuel/CO2)</li>\n<li>price_alert: Price threshold alerts</li>\n<li>fuel_purchased: Auto-rebuy fuel success</li>\n<li>co2_purchased: Auto-rebuy CO2 success</li>\n<li>vessels_departed: Auto-depart success</li>\n<li>vessels_failed: Auto-depart failures</li>\n<li>vessels_repaired: Auto-repair success</li>\n<li>campaigns_renewed: Auto-campaign renewal success</li>\n</ul>",
    "parent": "module:server/websocket/broadcaster"
  },
  {
    "type": "method",
    "name": "getWebSocketServer",
    "longname": "module:server/websocket/broadcaster~getWebSocketServer",
    "url": "module-server_websocket_broadcaster.html#~getWebSocketServer",
    "description": "<p>Gets the WebSocket server instance.</p>",
    "parent": "module:server/websocket/broadcaster"
  },
  {
    "type": "method",
    "name": "setWebSocketServer",
    "longname": "module:server/websocket/broadcaster~setWebSocketServer",
    "url": "module-server_websocket_broadcaster.html#~setWebSocketServer",
    "description": "<p>Sets the WebSocket server instance for broadcasting.\nMust be called after WebSocket server initialization.</p>",
    "parent": "module:server/websocket/broadcaster"
  },
  {
    "type": "method",
    "name": "performChatRefresh",
    "longname": "module:server/websocket/chat-refresh~performChatRefresh",
    "url": "module-server_websocket_chat-refresh.html#~performChatRefresh",
    "description": "<p>Performs a single chat refresh cycle.\nFetches latest chat messages, broadcasts to clients, and processes with ChatBot.\nUses module-level isChatRefreshing flag to prevent overlapping requests.</p>",
    "parent": "module:server/websocket/chat-refresh"
  },
  {
    "type": "method",
    "name": "setMessengerRefreshFn",
    "longname": "module:server/websocket/chat-refresh~setMessengerRefreshFn",
    "url": "module-server_websocket_chat-refresh.html#~setMessengerRefreshFn",
    "description": "<p>Sets the messenger refresh function reference.\nCalled by main websocket.js to avoid circular dependency.</p>",
    "parent": "module:server/websocket/chat-refresh"
  },
  {
    "type": "method",
    "name": "startChatAutoRefresh",
    "longname": "module:server/websocket/chat-refresh~startChatAutoRefresh",
    "url": "module-server_websocket_chat-refresh.html#~startChatAutoRefresh",
    "description": "<p>Starts automatic chat refresh polling at configured interval (default: 20 seconds).\nCalls performChatRefresh() on each cycle.\nChat and messenger polls run simultaneously in the same interval to reduce API load.</p>",
    "parent": "module:server/websocket/chat-refresh"
  },
  {
    "type": "method",
    "name": "stopChatAutoRefresh",
    "longname": "module:server/websocket/chat-refresh~stopChatAutoRefresh",
    "url": "module-server_websocket_chat-refresh.html#~stopChatAutoRefresh",
    "description": "<p>Stops the automatic chat feed polling and clears the interval timer.</p>\n<p>This function provides a clean shutdown mechanism for the chat auto-refresh feature.\nIt's primarily used during server shutdown or when temporarily disabling automatic updates.</p>\n<p>Why This Matters:</p>\n<ul>\n<li>Prevents interval from continuing after server shutdown</li>\n<li>Cleans up resources properly to avoid memory leaks</li>\n<li>Allows pausing auto-refresh without restarting server</li>\n<li>Sets interval reference to null for garbage collection</li>\n</ul>\n<p>Use Cases:</p>\n<ul>\n<li>Server graceful shutdown (SIGTERM/SIGINT handlers)</li>\n<li>Temporarily disabling auto-refresh for maintenance</li>\n<li>Reconfiguring refresh interval (stop, then restart with new interval)</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Clears the setInterval timer</li>\n<li>Sets chatRefreshInterval to null</li>\n<li>No more automatic broadcasts until startChatAutoRefresh() called again</li>\n</ul>",
    "parent": "module:server/websocket/chat-refresh"
  },
  {
    "type": "method",
    "name": "triggerImmediateChatRefresh",
    "longname": "module:server/websocket/chat-refresh~triggerImmediateChatRefresh",
    "url": "module-server_websocket_chat-refresh.html#~triggerImmediateChatRefresh",
    "description": "<p>Triggers an immediate chat refresh after a short delay.\nUsed by ChatBot to immediately broadcast bot responses without waiting for next polling cycle.</p>\n<p>The 3-second delay ensures the Game API has time to persist the message before we fetch it.\nThis prevents race conditions where we fetch before the message is saved.</p>\n<p>Safe to call multiple times - the isChatRefreshing flag prevents overlapping requests.</p>",
    "parent": "module:server/websocket/chat-refresh"
  },
  {
    "type": "method",
    "name": "getCachedHijackingCase",
    "longname": "module:server/websocket/hijacking-cache~getCachedHijackingCase",
    "url": "module-server_websocket_hijacking-cache.html#~getCachedHijackingCase",
    "description": "<p>Gets hijacking case details - checks LOCAL FILE first, then memory, then API.</p>\n<p>Priority:</p>\n<ol>\n<li>Local file with resolved:true -&gt; Use it, ZERO API calls</li>\n<li>Memory cache (for open cases during session)</li>\n<li>API call (only for new/unknown cases) -&gt; Then save locally</li>\n</ol>",
    "parent": "module:server/websocket/hijacking-cache"
  },
  {
    "type": "method",
    "name": "invalidateHijackingCase",
    "longname": "module:server/websocket/hijacking-cache~invalidateHijackingCase",
    "url": "module-server_websocket_hijacking-cache.html#~invalidateHijackingCase",
    "description": "<p>Invalidates the cache for a specific hijacking case.</p>",
    "parent": "module:server/websocket/hijacking-cache"
  },
  {
    "type": "method",
    "name": "readLocalCaseFile",
    "longname": "module:server/websocket/hijacking-cache~readLocalCaseFile",
    "url": "module-server_websocket_hijacking-cache.html#~readLocalCaseFile",
    "description": "<p>Reads local history file for a hijacking case.\nFile format: {userId}-{caseId}.json</p>",
    "parent": "module:server/websocket/hijacking-cache"
  },
  {
    "type": "method",
    "name": "saveLocalCaseFile",
    "longname": "module:server/websocket/hijacking-cache~saveLocalCaseFile",
    "url": "module-server_websocket_hijacking-cache.html#~saveLocalCaseFile",
    "description": "<p>Saves case details to local file for persistent caching.</p>",
    "parent": "module:server/websocket/hijacking-cache"
  },
  {
    "type": "method",
    "name": "performHijackingRefresh",
    "longname": "module:server/websocket/hijacking-refresh~performHijackingRefresh",
    "url": "module-server_websocket_hijacking-refresh.html#~performHijackingRefresh",
    "description": "<p>Performs a single hijacking refresh cycle.\nFetches hijacking cases and broadcasts badge/header counts to all clients.\nUses module-level isHijackingRefreshing flag to prevent overlapping requests.</p>\n<p>What This Does:</p>\n<ul>\n<li>Fetches all hijacking cases via /api/hijacking/get-cases</li>\n<li>Counts OPEN cases (paid_amount === null &amp;&amp; status !== 'solved')</li>\n<li>Counts total cases (open + closed)</li>\n<li>Counts hijacked vessels (vessels with status 'in_progress')</li>\n<li>Broadcasts to all clients for badge and header updates</li>\n</ul>\n<p>Why This Exists:</p>\n<ul>\n<li>Keeps hijacking inbox badge count up-to-date</li>\n<li>Updates header pirate emoji count (hijacked vessels)</li>\n<li>Separates hijacking from messenger badge logic</li>\n<li>Enables real-time tracking of hijacking status changes</li>\n</ul>\n<p>Broadcast Data:\n{\nopenCases: number,      // Open hijacking cases (for badge)\ntotalCases: number,     // Total cases (open + closed)\nhijackedCount: number   // Currently hijacked vessels (for header emoji)\n}</p>",
    "parent": "module:server/websocket/hijacking-refresh"
  },
  {
    "type": "method",
    "name": "startHijackingAutoRefresh",
    "longname": "module:server/websocket/hijacking-refresh~startHijackingAutoRefresh",
    "url": "module-server_websocket_hijacking-refresh.html#~startHijackingAutoRefresh",
    "description": "<p>Starts automatic hijacking refresh polling at 5-minute interval.\nCalls performHijackingRefresh() on each cycle.</p>\n<p>Why 5 Minutes:</p>\n<ul>\n<li>Hijacking status changes very infrequently (only during active negotiations)</li>\n<li>Closed cases never change - no need to refetch</li>\n<li>Matches the cache TTL for open cases (5 minutes)</li>\n<li>Drastically reduces API calls when all cases are closed</li>\n<li>Active negotiations use direct API calls anyway (pilot_captain_blackbeard)</li>\n</ul>",
    "parent": "module:server/websocket/hijacking-refresh"
  },
  {
    "type": "method",
    "name": "stopHijackingAutoRefresh",
    "longname": "module:server/websocket/hijacking-refresh~stopHijackingAutoRefresh",
    "url": "module-server_websocket_hijacking-refresh.html#~stopHijackingAutoRefresh",
    "description": "<p>Stops the automatic hijacking polling and clears the interval timer.</p>",
    "parent": "module:server/websocket/hijacking-refresh"
  },
  {
    "type": "method",
    "name": "triggerImmediateHijackingRefresh",
    "longname": "module:server/websocket/hijacking-refresh~triggerImmediateHijackingRefresh",
    "url": "module-server_websocket_hijacking-refresh.html#~triggerImmediateHijackingRefresh",
    "description": "<p>Triggers an immediate hijacking refresh after a short delay.\nUsed after auto-negotiate completes or when case status changes.</p>",
    "parent": "module:server/websocket/hijacking-refresh"
  },
  {
    "type": "method",
    "name": "getFreshIpos",
    "longname": "module:server/websocket/ipo-refresh~getFreshIpos",
    "url": "module-server_websocket_ipo-refresh.html#~getFreshIpos",
    "description": "<p>Gets the current fresh IPOs from cache</p>",
    "parent": "module:server/websocket/ipo-refresh"
  },
  {
    "type": "method",
    "name": "performIpoRefresh",
    "longname": "module:server/websocket/ipo-refresh~performIpoRefresh",
    "url": "module-server_websocket_ipo-refresh.html#~performIpoRefresh",
    "description": "<p>Performs a single IPO refresh cycle.\nFetches recent IPOs, filters by age, and broadcasts changes to all clients.</p>\n<p>What This Does:</p>\n<ul>\n<li>Fetches recent IPOs from game API</li>\n<li>Checks account age for top IPOs</li>\n<li>Filters by maxAgeDays setting</li>\n<li>Detects new fresh IPOs and ones that aged out</li>\n<li>Broadcasts changes to all clients</li>\n</ul>\n<p>Broadcast Data:\n{\nfreshIpos: Array,     // All currently fresh IPOs\nnewIpos: Array,       // Newly detected fresh IPOs (for notifications)\nremovedIds: Array,    // IDs of IPOs that aged out\nmaxAgeDays: number    // Current max age setting\n}</p>",
    "parent": "module:server/websocket/ipo-refresh"
  },
  {
    "type": "method",
    "name": "resetIpoCache",
    "longname": "module:server/websocket/ipo-refresh~resetIpoCache",
    "url": "module-server_websocket_ipo-refresh.html#~resetIpoCache",
    "description": "<p>Resets the IPO cache (used when max age setting changes)</p>",
    "parent": "module:server/websocket/ipo-refresh"
  },
  {
    "type": "method",
    "name": "sendToAllianceChat",
    "longname": "module:server/websocket/ipo-refresh~sendToAllianceChat",
    "url": "module-server_websocket_ipo-refresh.html#~sendToAllianceChat",
    "description": "<p>Sends IPO alert to alliance chat</p>",
    "parent": "module:server/websocket/ipo-refresh"
  },
  {
    "type": "method",
    "name": "startIpoAutoRefresh",
    "longname": "module:server/websocket/ipo-refresh~startIpoAutoRefresh",
    "url": "module-server_websocket_ipo-refresh.html#~startIpoAutoRefresh",
    "description": "<p>Starts automatic IPO refresh polling at 5-minute interval.\nGame updates stock market every 15 minutes, so 5 minutes gives reasonable freshness.</p>",
    "parent": "module:server/websocket/ipo-refresh"
  },
  {
    "type": "method",
    "name": "stopIpoAutoRefresh",
    "longname": "module:server/websocket/ipo-refresh~stopIpoAutoRefresh",
    "url": "module-server_websocket_ipo-refresh.html#~stopIpoAutoRefresh",
    "description": "<p>Stops the automatic IPO polling and clears the interval timer.</p>",
    "parent": "module:server/websocket/ipo-refresh"
  },
  {
    "type": "method",
    "name": "triggerImmediateIpoRefresh",
    "longname": "module:server/websocket/ipo-refresh~triggerImmediateIpoRefresh",
    "url": "module-server_websocket_ipo-refresh.html#~triggerImmediateIpoRefresh",
    "description": "<p>Triggers an immediate IPO refresh.\nUsed when settings change or user requests refresh.</p>",
    "parent": "module:server/websocket/ipo-refresh"
  },
  {
    "type": "method",
    "name": "getProcessedMessageIds",
    "longname": "module:server/websocket/message-cache~getProcessedMessageIds",
    "url": "module-server_websocket_message-cache.html#~getProcessedMessageIds",
    "description": "<p>Get processed message IDs set for a specific user</p>",
    "parent": "module:server/websocket/message-cache"
  },
  {
    "type": "method",
    "name": "getProcessedMessagesCachePath",
    "longname": "module:server/websocket/message-cache~getProcessedMessagesCachePath",
    "url": "module-server_websocket_message-cache.html#~getProcessedMessagesCachePath",
    "description": "<p>Get cache file path for processed DM message IDs for a specific user</p>",
    "parent": "module:server/websocket/message-cache"
  },
  {
    "type": "method",
    "name": "loadProcessedMessageCache",
    "longname": "module:server/websocket/message-cache~loadProcessedMessageCache",
    "url": "module-server_websocket_message-cache.html#~loadProcessedMessageCache",
    "description": "<p>Load processed message IDs from cache file for a specific user</p>",
    "parent": "module:server/websocket/message-cache"
  },
  {
    "type": "method",
    "name": "saveProcessedMessageCache",
    "longname": "module:server/websocket/message-cache~saveProcessedMessageCache",
    "url": "module-server_websocket_message-cache.html#~saveProcessedMessageCache",
    "description": "<p>Save processed message IDs to cache file for a specific user</p>",
    "parent": "module:server/websocket/message-cache"
  },
  {
    "type": "method",
    "name": "getCachedMessengerChats",
    "longname": "module:server/websocket/messenger-cache~getCachedMessengerChats",
    "url": "module-server_websocket_messenger-cache.html#~getCachedMessengerChats",
    "description": "<p>Fetches messenger chats with shared caching to reduce duplicate API calls.</p>\n<p>Multiple systems need chat data (messenger refresh, hijacking refresh, badge updates).\nWithout caching, each would make separate API calls to /messenger/get-chats.\nThis function implements a 15-second cache that all systems share.</p>\n<p>Cache Logic:</p>\n<ul>\n<li>If cache is fresh (&lt; 15 seconds old), return cached data immediately</li>\n<li>If cache is stale (&gt;= 15 seconds old), fetch fresh data and update cache</li>\n<li>Cache is shared across all callers (messenger, hijacking, badges)</li>\n</ul>\n<p>Impact:</p>\n<ul>\n<li>Reduces ~3 duplicate API calls per 15-second window to just 1 call</li>\n<li>Saves ~12 API calls/minute during typical usage</li>\n<li>All callers get synchronized data from same fetch</li>\n</ul>",
    "parent": "module:server/websocket/messenger-cache"
  },
  {
    "type": "method",
    "name": "deleteChatFromCache",
    "longname": "module:server/websocket/messenger-content-cache~deleteChatFromCache",
    "url": "module-server_websocket_messenger-content-cache.html#~deleteChatFromCache",
    "description": "<p>Delete a chat from cache</p>",
    "parent": "module:server/websocket/messenger-content-cache"
  },
  {
    "type": "method",
    "name": "ensureCacheDir",
    "longname": "module:server/websocket/messenger-content-cache~ensureCacheDir",
    "url": "module-server_websocket_messenger-content-cache.html#~ensureCacheDir",
    "description": "<p>Ensure messenger cache directory exists</p>",
    "parent": "module:server/websocket/messenger-content-cache"
  },
  {
    "type": "method",
    "name": "flushCache",
    "longname": "module:server/websocket/messenger-content-cache~flushCache",
    "url": "module-server_websocket_messenger-content-cache.html#~flushCache",
    "description": "<p>Force save any pending changes (call on shutdown)</p>",
    "parent": "module:server/websocket/messenger-content-cache"
  },
  {
    "type": "method",
    "name": "getCacheStats",
    "longname": "module:server/websocket/messenger-content-cache~getCacheStats",
    "url": "module-server_websocket_messenger-content-cache.html#~getCacheStats",
    "description": "<p>Get cache statistics</p>",
    "parent": "module:server/websocket/messenger-content-cache"
  },
  {
    "type": "method",
    "name": "getCachedChatList",
    "longname": "module:server/websocket/messenger-content-cache~getCachedChatList",
    "url": "module-server_websocket_messenger-content-cache.html#~getCachedChatList",
    "description": "<p>Get cached chat list</p>",
    "parent": "module:server/websocket/messenger-content-cache"
  },
  {
    "type": "method",
    "name": "getCachedChatMessages",
    "longname": "module:server/websocket/messenger-content-cache~getCachedChatMessages",
    "url": "module-server_websocket_messenger-content-cache.html#~getCachedChatMessages",
    "description": "<p>Get cached messages for a specific chat</p>",
    "parent": "module:server/websocket/messenger-content-cache"
  },
  {
    "type": "method",
    "name": "getMessengerCachePath",
    "longname": "module:server/websocket/messenger-content-cache~getMessengerCachePath",
    "url": "module-server_websocket_messenger-content-cache.html#~getMessengerCachePath",
    "description": "<p>Get cache file path for messenger content</p>",
    "parent": "module:server/websocket/messenger-content-cache"
  },
  {
    "type": "method",
    "name": "hasNewMessages",
    "longname": "module:server/websocket/messenger-content-cache~hasNewMessages",
    "url": "module-server_websocket_messenger-content-cache.html#~hasNewMessages",
    "description": "<p>Check if a chat has new messages compared to cache</p>",
    "parent": "module:server/websocket/messenger-content-cache"
  },
  {
    "type": "method",
    "name": "loadMessengerCache",
    "longname": "module:server/websocket/messenger-content-cache~loadMessengerCache",
    "url": "module-server_websocket_messenger-content-cache.html#~loadMessengerCache",
    "description": "<p>Load messenger cache from disk into memory</p>",
    "parent": "module:server/websocket/messenger-content-cache"
  },
  {
    "type": "method",
    "name": "markChatAsReadInCache",
    "longname": "module:server/websocket/messenger-content-cache~markChatAsReadInCache",
    "url": "module-server_websocket_messenger-content-cache.html#~markChatAsReadInCache",
    "description": "<p>Mark a chat as read in cache (update metadata)</p>",
    "parent": "module:server/websocket/messenger-content-cache"
  },
  {
    "type": "method",
    "name": "saveMessengerCache",
    "longname": "module:server/websocket/messenger-content-cache~saveMessengerCache",
    "url": "module-server_websocket_messenger-content-cache.html#~saveMessengerCache",
    "description": "<p>Save messenger cache to disk (debounced)</p>",
    "parent": "module:server/websocket/messenger-content-cache"
  },
  {
    "type": "method",
    "name": "updateChatList",
    "longname": "module:server/websocket/messenger-content-cache~updateChatList",
    "url": "module-server_websocket_messenger-content-cache.html#~updateChatList",
    "description": "<p>Update cached chat list (from /messenger/get-chats)</p>",
    "parent": "module:server/websocket/messenger-content-cache"
  },
  {
    "type": "method",
    "name": "updateChatMessages",
    "longname": "module:server/websocket/messenger-content-cache~updateChatMessages",
    "url": "module-server_websocket_messenger-content-cache.html#~updateChatMessages",
    "description": "<p>Update cached messages for a specific chat</p>",
    "parent": "module:server/websocket/messenger-content-cache"
  },
  {
    "type": "method",
    "name": "performMessengerRefresh",
    "longname": "module:server/websocket/messenger-refresh~performMessengerRefresh",
    "url": "module-server_websocket_messenger-refresh.html#~performMessengerRefresh",
    "description": "<p>Performs a single messenger refresh cycle.\nFetches unread messages, broadcasts to clients, and processes DM commands with ChatBot.\nUses module-level isMessengerRefreshing flag to prevent overlapping requests.</p>",
    "parent": "module:server/websocket/messenger-refresh"
  },
  {
    "type": "method",
    "name": "startMessengerAutoRefresh",
    "longname": "module:server/websocket/messenger-refresh~startMessengerAutoRefresh",
    "url": "module-server_websocket_messenger-refresh.html#~startMessengerAutoRefresh",
    "description": "<p>Messenger polling is now handled by startChatAutoRefresh() to run simultaneously.\nThis function is kept for backwards compatibility but does nothing.\nBoth chat and messenger refresh happen together in the same 20-second interval.</p>",
    "parent": "module:server/websocket/messenger-refresh"
  },
  {
    "type": "method",
    "name": "stopMessengerAutoRefresh",
    "longname": "module:server/websocket/messenger-refresh~stopMessengerAutoRefresh",
    "url": "module-server_websocket_messenger-refresh.html#~stopMessengerAutoRefresh",
    "description": "<p>Stops the automatic messenger polling and clears the interval timer.</p>",
    "parent": "module:server/websocket/messenger-refresh"
  },
  {
    "type": "method",
    "name": "triggerImmediateMessengerRefresh",
    "longname": "module:server/websocket/messenger-refresh~triggerImmediateMessengerRefresh",
    "url": "module-server_websocket_messenger-refresh.html#~triggerImmediateMessengerRefresh",
    "description": "<p>Triggers an immediate messenger refresh after a short delay.\nUsed by ChatBot to immediately broadcast DM responses without waiting for next polling cycle.</p>\n<p>The 3-second delay ensures the Game API has time to persist the message before we fetch it.\nThis prevents race conditions where we fetch before the message is saved.</p>\n<p>Safe to call multiple times - the isMessengerRefreshing flag prevents overlapping requests.</p>",
    "parent": "module:server/websocket/messenger-refresh"
  },
  {
    "type": "method",
    "name": "performStaffRefresh",
    "longname": "module:server/websocket/staff-refresh~performStaffRefresh",
    "url": "module-server_websocket_staff-refresh.html#~performStaffRefresh",
    "description": "<p>Performs a single staff refresh cycle.\nFetches staff data from game API and broadcasts to all clients.</p>\n<p>What This Does:</p>\n<ul>\n<li>Fetches staff morale data from /staff/get-user-staff</li>\n<li>Stores in state for autopilot access</li>\n<li>Broadcasts to frontend for UI updates</li>\n</ul>\n<p>Broadcast Data:\n{\ncrew: { group, label, percentage },\nmanagement: { group, label, percentage },\nstaff: [array of staff with morale, salary, training]\n}</p>",
    "parent": "module:server/websocket/staff-refresh"
  },
  {
    "type": "method",
    "name": "startStaffAutoRefresh",
    "longname": "module:server/websocket/staff-refresh~startStaffAutoRefresh",
    "url": "module-server_websocket_staff-refresh.html#~startStaffAutoRefresh",
    "description": "<p>Starts automatic staff refresh polling.\nRuns every 5 minutes.</p>",
    "parent": "module:server/websocket/staff-refresh"
  },
  {
    "type": "method",
    "name": "stopStaffAutoRefresh",
    "longname": "module:server/websocket/staff-refresh~stopStaffAutoRefresh",
    "url": "module-server_websocket_staff-refresh.html#~stopStaffAutoRefresh",
    "description": "<p>Stops automatic staff refresh polling.</p>",
    "parent": "module:server/websocket/staff-refresh"
  },
  {
    "type": "method",
    "name": "triggerImmediateStaffRefresh",
    "longname": "module:server/websocket/staff-refresh~triggerImmediateStaffRefresh",
    "url": "module-server_websocket_staff-refresh.html#~triggerImmediateStaffRefresh",
    "description": "<p>Triggers an immediate staff refresh (bypasses the interval).</p>",
    "parent": "module:server/websocket/staff-refresh"
  },
  {
    "type": "method",
    "name": "initWebSocket",
    "longname": "module:server/websocket~initWebSocket",
    "url": "module-server_websocket.html#~initWebSocket",
    "description": "<p>Initializes the WebSocket server and sets up connection event handlers.</p>\n<p>This function creates a WebSocket server that operates in &quot;noServer&quot; mode, meaning\nit shares the HTTPS server's port rather than opening a separate port. The upgrade\nfrom HTTP to WebSocket happens via the HTTP server's 'upgrade' event (handled in app.js).</p>\n<p>Why noServer Mode:</p>\n<ul>\n<li>Shares HTTPS port 12345 instead of requiring separate WebSocket port</li>\n<li>Simplifies firewall configuration (one port instead of two)</li>\n<li>Works seamlessly with HTTPS and self-signed certificates</li>\n<li>Standard pattern for integrating WebSocket with Express</li>\n</ul>\n<p>Connection Lifecycle:</p>\n<ol>\n<li>Client sends HTTP Upgrade request to wss://localhost:12345</li>\n<li>Server upgrades connection to WebSocket protocol</li>\n<li>'connection' event fires, logging &quot;Client connected&quot;</li>\n<li>Client remains connected until page close or network interruption</li>\n<li>'close' event fires, logging &quot;Client disconnected&quot;</li>\n</ol>\n<p>Error Handling:</p>\n<ul>\n<li>Errors logged to console but don't crash server</li>\n<li>Clients can reconnect automatically after errors</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Sets module-level <code>wss</code> variable for use in broadcast()</li>\n<li>Logs connection/disconnection events to console</li>\n</ul>",
    "parent": "module:server/websocket"
  },
  {
    "type": "method",
    "name": "calculatePriceStats",
    "longname": "module:stock-manager.calculatePriceStats",
    "url": "module-stock-manager.html#.calculatePriceStats",
    "description": "<p>Calculate price statistics from history data</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "closeStockManager",
    "longname": "module:stock-manager.closeStockManager",
    "url": "module-stock-manager.html#.closeStockManager",
    "description": "<p>Close the stock manager overlay</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "initStockManager",
    "longname": "module:stock-manager.initStockManager",
    "url": "module-stock-manager.html#.initStockManager",
    "description": "<p>Initialize the stock manager module</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "initializeChart",
    "longname": "module:stock-manager.initializeChart",
    "url": "module-stock-manager.html#.initializeChart",
    "description": "<p>Initialize chart with toolbar handlers</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "openCompanyDetail",
    "longname": "module:stock-manager.openCompanyDetail",
    "url": "module-stock-manager.html#.openCompanyDetail",
    "description": "<p>Open company detail overlay</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "renderChartSection",
    "longname": "module:stock-manager.renderChartSection",
    "url": "module-stock-manager.html#.renderChartSection",
    "description": "<p>Render the chart section with toolbar and stats</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "showBuyDialog",
    "longname": "module:stock-manager.showBuyDialog",
    "url": "module-stock-manager.html#.showBuyDialog",
    "description": "<p>Show buy dialog and return amount to buy</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "showSellDialog",
    "longname": "module:stock-manager.showSellDialog",
    "url": "module-stock-manager.html#.showSellDialog",
    "description": "<p>Show sell dialog and return amount to sell</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "showStockManager",
    "longname": "module:stock-manager.showStockManager",
    "url": "module-stock-manager.html#.showStockManager",
    "description": "<p>Show the stock manager overlay</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "showStockManagerIpoAlerts",
    "longname": "module:stock-manager.showStockManagerIpoAlerts",
    "url": "module-stock-manager.html#.showStockManagerIpoAlerts",
    "description": "<p>Open stock manager and switch to IPO Alerts tab</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "calculateMA",
    "longname": "module:stock-manager~calculateMA",
    "url": "module-stock-manager.html#~calculateMA",
    "description": "<p>Calculate Moving Average</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "calculateSharePriceTier",
    "longname": "module:stock-manager~calculateSharePriceTier",
    "url": "module-stock-manager.html#~calculateSharePriceTier",
    "description": "<p>Calculate the price tier for stock increase based on total shares issued\nIPO starts with 25k shares, so first purchase is 25k-&gt;50k\nPrice doubles with each 25k tranche:</p>\n<ul>\n<li>25k-50k: 6.25M</li>\n<li>50k-75k: 12.5M</li>\n<li>75k-100k: 25M</li>\n<li>100k-125k: 50M</li>\n<li>125k-150k: 100M</li>\n<li>etc. (doubles each tier, no upper limit)</li>\n</ul>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "closeCompanyDetail",
    "longname": "module:stock-manager~closeCompanyDetail",
    "url": "module-stock-manager.html#~closeCompanyDetail",
    "description": "<p>Close company detail overlay</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "createEnhancedChart",
    "longname": "module:stock-manager~createEnhancedChart",
    "url": "module-stock-manager.html#~createEnhancedChart",
    "description": "<p>Create enhanced chart with all features</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "createMASeries",
    "longname": "module:stock-manager~createMASeries",
    "url": "module-stock-manager.html#~createMASeries",
    "description": "<p>Create a Moving Average series</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "createMarketRow",
    "longname": "module:stock-manager~createMarketRow",
    "url": "module-stock-manager.html#~createMarketRow",
    "description": "<p>Create a table row element for a company</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "createTierRow",
    "longname": "module:stock-manager~createTierRow",
    "url": "module-stock-manager.html#~createTierRow",
    "description": "<p>Create a tier row element for the modal</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "destroyChart",
    "longname": "module:stock-manager~destroyChart",
    "url": "module-stock-manager.html#~destroyChart",
    "description": "<p>Destroy current chart instance</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "escapeHtml",
    "longname": "module:stock-manager~escapeHtml",
    "url": "module-stock-manager.html#~escapeHtml",
    "description": "<p>Escape HTML to prevent XSS</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "estimatePurchaseDateFromPrice",
    "longname": "module:stock-manager~estimatePurchaseDateFromPrice",
    "url": "module-stock-manager.html#~estimatePurchaseDateFromPrice",
    "description": "<p>Estimate purchase date by finding when stock price matched bought_at price</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "filterDataByTimeframe",
    "longname": "module:stock-manager~filterDataByTimeframe",
    "url": "module-stock-manager.html#~filterDataByTimeframe",
    "description": "<p>Filter data by selected timeframe</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "formatPurchaseDate",
    "longname": "module:stock-manager~formatPurchaseDate",
    "url": "module-stock-manager.html#~formatPurchaseDate",
    "description": "<p>Format a Unix timestamp as a short date (e.g., &quot;Jan 15&quot; or &quot;Jan 15 '24&quot;)</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "generateMarketRowHtml",
    "longname": "module:stock-manager~generateMarketRowHtml",
    "url": "module-stock-manager.html#~generateMarketRowHtml",
    "description": "<p>Generate table row HTML for a company</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "handleIncreaseSharesClick",
    "longname": "module:stock-manager~handleIncreaseSharesClick",
    "url": "module-stock-manager.html#~handleIncreaseSharesClick",
    "description": "<p>Handle click on increase shares for sale button\nOpens modal dialog with price tier info</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "initTooltipSystem",
    "longname": "module:stock-manager~initTooltipSystem",
    "url": "module-stock-manager.html#~initTooltipSystem",
    "description": "<p>Initialize global tooltip system</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "loadInvestments",
    "longname": "module:stock-manager~loadInvestments",
    "url": "module-stock-manager.html#~loadInvestments",
    "description": "<p>Load investments tab content</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "loadInvestors",
    "longname": "module:stock-manager~loadInvestors",
    "url": "module-stock-manager.html#~loadInvestors",
    "description": "<p>Load investors tab content</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "loadIpoAlerts",
    "longname": "module:stock-manager~loadIpoAlerts",
    "url": "module-stock-manager.html#~loadIpoAlerts",
    "description": "<p>Load IPO Alerts tab content</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "loadMarket",
    "longname": "module:stock-manager~loadMarket",
    "url": "module-stock-manager.html#~loadMarket",
    "description": "<p>Load market tab content</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "loadMarketList",
    "longname": "module:stock-manager~loadMarketList",
    "url": "module-stock-manager.html#~loadMarketList",
    "description": "<p>Load market list with filter and lazy loading</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "loadMoreMarketItems",
    "longname": "module:stock-manager~loadMoreMarketItems",
    "url": "module-stock-manager.html#~loadMoreMarketItems",
    "description": "<p>Load more market items (next page)</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "loadPortfolio",
    "longname": "module:stock-manager~loadPortfolio",
    "url": "module-stock-manager.html#~loadPortfolio",
    "description": "<p>Load portfolio tab content</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "refreshIpoAlertTab",
    "longname": "module:stock-manager~refreshIpoAlertTab",
    "url": "module-stock-manager.html#~refreshIpoAlertTab",
    "description": "<p>Refresh IPO Alert tab with new data from WebSocket</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "renderIpoAlertsTable",
    "longname": "module:stock-manager~renderIpoAlertsTable",
    "url": "module-stock-manager.html#~renderIpoAlertsTable",
    "description": "<p>Render IPO alerts table with given data\nBackend provides fully filtered data - frontend just displays it</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "resetMarketState",
    "longname": "module:stock-manager~resetMarketState",
    "url": "module-stock-manager.html#~resetMarketState",
    "description": "<p>Reset market state for new filter/search</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "setupChartToolbar",
    "longname": "module:stock-manager~setupChartToolbar",
    "url": "module-stock-manager.html#~setupChartToolbar",
    "description": "<p>Setup chart toolbar event handlers</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "setupCompanyNameClickHandlers",
    "longname": "module:stock-manager~setupCompanyNameClickHandlers",
    "url": "module-stock-manager.html#~setupCompanyNameClickHandlers",
    "description": "<p>Setup click handlers for clickable table rows</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "setupInvestmentSellButtons",
    "longname": "module:stock-manager~setupInvestmentSellButtons",
    "url": "module-stock-manager.html#~setupInvestmentSellButtons",
    "description": "<p>Setup sell button handlers for investments tab</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "setupMarketRowClickHandlers",
    "longname": "module:stock-manager~setupMarketRowClickHandlers",
    "url": "module-stock-manager.html#~setupMarketRowClickHandlers",
    "description": "<p>Setup click handlers for market table rows</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "setupMarketScrollHandler",
    "longname": "module:stock-manager~setupMarketScrollHandler",
    "url": "module-stock-manager.html#~setupMarketScrollHandler",
    "description": "<p>Setup scroll handler for infinite scroll</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "setupTooltips",
    "longname": "module:stock-manager~setupTooltips",
    "url": "module-stock-manager.html#~setupTooltips",
    "description": "<p>Setup tooltip handlers for elements with data-tooltip</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "showIncreaseSharesModal",
    "longname": "module:stock-manager~showIncreaseSharesModal",
    "url": "module-stock-manager.html#~showIncreaseSharesModal",
    "description": "<p>Show the increase shares modal with price tier information</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "switchTab",
    "longname": "module:stock-manager~switchTab",
    "url": "module-stock-manager.html#~switchTab",
    "description": "<p>Switch between tabs</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "updateChart",
    "longname": "module:stock-manager~updateChart",
    "url": "module-stock-manager.html#~updateChart",
    "description": "<p>Update chart with new data/settings</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "updateMovingAverages",
    "longname": "module:stock-manager~updateMovingAverages",
    "url": "module-stock-manager.html#~updateMovingAverages",
    "description": "<p>Update Moving Averages visibility</p>",
    "parent": "module:stock-manager"
  },
  {
    "type": "method",
    "name": "buyCampaign",
    "longname": "module:ui-dialogs.buyCampaign",
    "url": "module-ui-dialogs.html#.buyCampaign",
    "description": "<p>Initiates marketing campaign purchase with confirmation dialog.\nShows cost breakdown and activates campaign upon confirmation.</p>",
    "parent": "module:ui-dialogs"
  },
  {
    "type": "method",
    "name": "closeCampaignsOverlay",
    "longname": "module:ui-dialogs.closeCampaignsOverlay",
    "url": "module-ui-dialogs.html#.closeCampaignsOverlay",
    "description": "<p>Closes the campaigns overlay.</p>",
    "parent": "module:ui-dialogs"
  },
  {
    "type": "method",
    "name": "closeSettings",
    "longname": "module:ui-dialogs.closeSettings",
    "url": "module-ui-dialogs.html#.closeSettings",
    "description": "<p>Closes the settings overlay.</p>",
    "parent": "module:ui-dialogs"
  },
  {
    "type": "method",
    "name": "showCampaignsOverlay",
    "longname": "module:ui-dialogs.showCampaignsOverlay",
    "url": "module-ui-dialogs.html#.showCampaignsOverlay",
    "description": "<p>Displays marketing campaigns overlay with active campaigns and purchase options.\nShows company reputation stars and allows activating campaigns for reputation, awareness, and green.</p>\n<p>Campaign Display:</p>\n<ul>\n<li>Active campaigns shown with time remaining</li>\n<li>Inactive campaigns grouped by type with purchase buttons</li>\n<li>Reputation score displayed as star rating</li>\n<li>Duration and efficiency shown for each option</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Fetches campaign data from API</li>\n<li>Shows campaigns overlay</li>\n<li>Renders HTML with inline event handlers for purchase buttons</li>\n</ul>",
    "parent": "module:ui-dialogs"
  },
  {
    "type": "method",
    "name": "showConfirmDialog",
    "longname": "module:ui-dialogs.showConfirmDialog",
    "url": "module-ui-dialogs.html#.showConfirmDialog",
    "description": "<p>Shows a customizable confirmation dialog with optional details table and checkboxes.\nReturns a promise that resolves to true/false or an object with checkbox states.</p>\n<p>Features:</p>\n<ul>\n<li>Custom title and message</li>\n<li>Optional details table with label/value pairs</li>\n<li>Optional checkboxes with info tooltips and price adjustments</li>\n<li>Affordability check (highlights Total Cost vs Available Cash)</li>\n<li>Customizable button text</li>\n<li>Click-outside-to-close functionality</li>\n</ul>\n<p>Affordability Logic:</p>\n<ul>\n<li>If second-to-last row is &quot;Total Cost&quot; and last row is &quot;Available Cash&quot;</li>\n<li>Compares values numerically</li>\n<li>Adds 'affordable' (green) or 'too-expensive' (red) CSS class</li>\n</ul>",
    "parent": "module:ui-dialogs"
  },
  {
    "type": "method",
    "name": "showContactList",
    "longname": "module:ui-dialogs.showContactList",
    "url": "module-ui-dialogs.html#.showContactList",
    "description": "<p>Displays contact list overlay with contacts and alliance members.\nAllows clicking send button to start new private conversation.</p>\n<p>Contact Categories:</p>\n<ul>\n<li>Personal Contacts: User's saved contacts</li>\n<li>Alliance Contacts: Current alliance members</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Fetches contacts from API</li>\n<li>Shows contact list overlay</li>\n<li>Registers click handlers to open messenger</li>\n</ul>",
    "parent": "module:ui-dialogs"
  },
  {
    "type": "method",
    "name": "showPurchaseDialog",
    "longname": "module:ui-dialogs.showPurchaseDialog",
    "url": "module-ui-dialogs.html#.showPurchaseDialog",
    "description": "<p>Shows a purchase dialog with an amount slider for adjusting the purchase quantity.\nUsed for fuel and CO2 purchases where users can reduce the amount before confirming.</p>\n<p>Features:</p>\n<ul>\n<li>Range slider from 1 to max amount</li>\n<li>Dynamic update of Total Cost and Cash After as slider changes</li>\n<li>Affordability indication (green/red)</li>\n<li>Customizable title, icon, and button text</li>\n</ul>",
    "parent": "module:ui-dialogs"
  },
  {
    "type": "method",
    "name": "showSettings",
    "longname": "module:ui-dialogs.showSettings",
    "url": "module-ui-dialogs.html#.showSettings",
    "description": "<p>Displays the settings overlay with current settings populated in form fields.\nManages price thresholds and AutoPilot configuration interface.</p>\n<p>Settings Categories:</p>\n<ul>\n<li>Price Thresholds: Fuel, CO2, Maintenance alerts</li>\n<li>Auto-Rebuy: Automated fuel/CO2 purchasing with customizable triggers</li>\n<li>AutoPilot Features: Auto-depart, auto-repair, auto-campaigns</li>\n<li>Notifications: AutoPilot action notifications</li>\n</ul>\n<p>Dynamic UI Behavior:</p>\n<ul>\n<li>Auto-rebuy sections expand/collapse based on toggle state</li>\n<li>Threshold inputs lock when &quot;Use Alert Price&quot; is enabled</li>\n<li>Notifications checkbox only visible when AutoPilot features active</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Shows settings overlay</li>\n<li>Populates form fields from settings object</li>\n<li>Sets up conditional UI visibility</li>\n</ul>",
    "parent": "module:ui-dialogs"
  },
  {
    "type": "method",
    "name": "escapeHtml",
    "longname": "module:utils.escapeHtml",
    "url": "module-utils.html#.escapeHtml",
    "description": "<p>Escapes HTML special characters to prevent XSS attacks.\nConverts &amp;, &lt;, &gt;, &quot;, and ' to their HTML entity equivalents.</p>\n<p>This is critical for security when displaying user-generated content like\nchat messages, company names, or any data from the API.</p>",
    "parent": "module:utils"
  },
  {
    "type": "method",
    "name": "formatCompactNumber",
    "longname": "module:utils.formatCompactNumber",
    "url": "module-utils.html#.formatCompactNumber",
    "description": "<p>Formats numbers in compact notation (e.g., 3.5k, 16k, 1.2M).\nUseful for displaying large numbers in limited space.</p>",
    "parent": "module:utils"
  },
  {
    "type": "method",
    "name": "formatNumber",
    "longname": "module:utils.formatNumber",
    "url": "module-utils.html#.formatNumber",
    "description": "<p>Formats numbers with thousands separators and optional decimal places.\nUses US locale formatting (comma as thousands separator, period as decimal).</p>",
    "parent": "module:utils"
  },
  {
    "type": "method",
    "name": "getCO2PriceClass",
    "longname": "module:utils.getCO2PriceClass",
    "url": "module-utils.html#.getCO2PriceClass",
    "description": "<p>Determines the color class for CO2 prices based on thresholds.\nCentral function to ensure consistency across all components.</p>",
    "parent": "module:utils"
  },
  {
    "type": "method",
    "name": "getFuelPriceClass",
    "longname": "module:utils.getFuelPriceClass",
    "url": "module-utils.html#.getFuelPriceClass",
    "description": "<p>Determines the color class for fuel prices based on thresholds.\nCentral function to ensure consistency across all components.</p>",
    "parent": "module:utils"
  },
  {
    "type": "method",
    "name": "isMobileDevice",
    "longname": "module:utils.isMobileDevice",
    "url": "module-utils.html#.isMobileDevice",
    "description": "<p>Detects if the current device is a mobile device based on screen width and user agent.\nUses a combination of viewport width check and user agent parsing for reliability.</p>",
    "parent": "module:utils"
  },
  {
    "type": "method",
    "name": "loadBackupInfo",
    "longname": "module:utils.loadBackupInfo",
    "url": "module-utils.html#.loadBackupInfo",
    "description": "<p>Load backup information from backend</p>",
    "parent": "module:utils"
  },
  {
    "type": "method",
    "name": "loadServerConfig",
    "longname": "module:utils.loadServerConfig",
    "url": "module-utils.html#.loadServerConfig",
    "description": "<p>Load server configuration (IP/Port) from backend</p>",
    "parent": "module:utils"
  },
  {
    "type": "method",
    "name": "registerServiceWorker",
    "longname": "module:utils.registerServiceWorker",
    "url": "module-utils.html#.registerServiceWorker",
    "description": "<p>Registers service worker for notification support and offline capabilities.\nHandles installation, waiting, and activation states for proper service worker lifecycle.</p>\n<p>Service Worker Purpose:</p>\n<ul>\n<li>Enables notifications in browsers that don't support direct Notification API</li>\n<li>Provides fallback for notification display</li>\n<li>Required for showing notifications when page is not focused</li>\n</ul>\n<p>Lifecycle Handling:</p>\n<ul>\n<li>Waits for installing worker to activate</li>\n<li>Skips waiting for waiting worker</li>\n<li>Logs status of already-active worker</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Registers /sw.js service worker</li>\n<li>Updates module-level swRegistration variable</li>\n<li>Logs registration status to console</li>\n</ul>",
    "parent": "module:utils"
  },
  {
    "type": "method",
    "name": "renderStars",
    "longname": "module:utils.renderStars",
    "url": "module-utils.html#.renderStars",
    "description": "<p>Renders a reputation score as star rating with partial stars.\nConverts percentage (0-100) to 5-star display with gradient for partial stars.</p>\n<p>Star Calculation:</p>\n<ul>\n<li>Full stars: floor(percentage / 20)</li>\n<li>Partial star: remainder as percentage gradient</li>\n<li>Empty stars: remaining to reach 5 total</li>\n</ul>\n<p>Colors:</p>\n<ul>\n<li>Filled: Gold (#fbbf24)</li>\n<li>Empty: Gray transparent (rgba(156, 163, 175, 0.2))</li>\n</ul>",
    "parent": "module:utils"
  },
  {
    "type": "method",
    "name": "requestNotificationPermission",
    "longname": "module:utils.requestNotificationPermission",
    "url": "module-utils.html#.requestNotificationPermission",
    "description": "<p>Requests browser notification permission from the user.\nChecks current permission status and prompts if not yet decided.</p>\n<p>Permission States:</p>\n<ul>\n<li>'granted': Already have permission, returns true</li>\n<li>'denied': User denied, returns false (cannot re-request)</li>\n<li>'default': Not yet asked, prompts user</li>\n</ul>",
    "parent": "module:utils"
  },
  {
    "type": "method",
    "name": "showNotification",
    "longname": "module:utils.showNotification",
    "url": "module-utils.html#.showNotification",
    "description": "<p>Shows a browser/desktop notification with fallback strategies.\nAttempts direct Notification API first, falls back to service worker if needed.</p>\n<p>Notification Strategy:</p>\n<ol>\n<li>Try creating notification directly (works in most browsers)</li>\n<li>If direct fails, use service worker showNotification (background support)</li>\n<li>If both fail, show error price alert</li>\n</ol>\n<p>Default Enhancements:</p>\n<ul>\n<li>Vibration pattern: [200ms, 100ms pause, 200ms]</li>\n<li>Badge: Anchor emoji</li>\n<li>Click handler: Focus window and close notification</li>\n<li>Auto-close after 5 seconds (unless autoClose: false)</li>\n</ul>",
    "parent": "module:utils"
  },
  {
    "type": "method",
    "name": "showSideNotification",
    "longname": "module:utils.showSideNotification",
    "url": "module-utils.html#.showSideNotification",
    "description": "<p>Shows a side notification (slides in from right, auto-dismisses after duration)</p>",
    "parent": "module:utils"
  },
  {
    "type": "method",
    "name": "formatFileSize",
    "longname": "module:utils~formatFileSize",
    "url": "module-utils.html#~formatFileSize",
    "description": "<p>Format file size in human-readable format</p>",
    "parent": "module:utils"
  },
  {
    "type": "method",
    "name": "createBackup",
    "longname": "module:utils~window.createBackup",
    "url": "module-utils-window.html#.createBackup",
    "description": "<p>Create backup (download ZIP file)</p>",
    "parent": "module:utils~window"
  },
  {
    "type": "method",
    "name": "handleBackupFileSelected",
    "longname": "module:utils~window.handleBackupFileSelected",
    "url": "module-utils-window.html#.handleBackupFileSelected",
    "description": "<p>Handle backup file selection</p>",
    "parent": "module:utils~window"
  },
  {
    "type": "method",
    "name": "restoreBackup",
    "longname": "module:utils~window.restoreBackup",
    "url": "module-utils-window.html#.restoreBackup",
    "description": "<p>Restore backup from uploaded ZIP file</p>",
    "parent": "module:utils~window"
  },
  {
    "type": "method",
    "name": "saveServerConfig",
    "longname": "module:utils~window.saveServerConfig",
    "url": "module-utils-window.html#.saveServerConfig",
    "description": "<p>Save server configuration (IP/Port) to backend</p>",
    "parent": "module:utils~window"
  },
  {
    "type": "method",
    "name": "getVesselImageOnerror",
    "longname": "module:vessel-appearance-editor.getVesselImageOnerror",
    "url": "module-vessel-appearance-editor.html#.getVesselImageOnerror",
    "description": "<p>Create an onerror handler string for inline use</p>",
    "parent": "module:vessel-appearance-editor"
  },
  {
    "type": "method",
    "name": "handleVesselImageError",
    "longname": "module:vessel-appearance-editor.handleVesselImageError",
    "url": "module-vessel-appearance-editor.html#.handleVesselImageError",
    "description": "<p>Handle image load error - show edit fallback for custom vessels</p>",
    "parent": "module:vessel-appearance-editor"
  },
  {
    "type": "method",
    "name": "initVesselAppearanceEditor",
    "longname": "module:vessel-appearance-editor.initVesselAppearanceEditor",
    "url": "module-vessel-appearance-editor.html#.initVesselAppearanceEditor",
    "description": "<p>Initialize the vessel appearance editor</p>",
    "parent": "module:vessel-appearance-editor"
  },
  {
    "type": "method",
    "name": "openAppearanceEditor",
    "longname": "module:vessel-appearance-editor.openAppearanceEditor",
    "url": "module-vessel-appearance-editor.html#.openAppearanceEditor",
    "description": "<p>Open the appearance editor for a specific vessel</p>",
    "parent": "module:vessel-appearance-editor"
  },
  {
    "type": "method",
    "name": "buildSvgUrl",
    "longname": "module:vessel-appearance-editor~buildSvgUrl",
    "url": "module-vessel-appearance-editor.html#~buildSvgUrl",
    "description": "<p>Build SVG URL with query params from vessel data</p>",
    "parent": "module:vessel-appearance-editor"
  },
  {
    "type": "method",
    "name": "closeAppearanceEditor",
    "longname": "module:vessel-appearance-editor~closeAppearanceEditor",
    "url": "module-vessel-appearance-editor.html#~closeAppearanceEditor",
    "description": "<p>Close the appearance editor</p>",
    "parent": "module:vessel-appearance-editor"
  },
  {
    "type": "method",
    "name": "getFormData",
    "longname": "module:vessel-appearance-editor~getFormData",
    "url": "module-vessel-appearance-editor.html#~getFormData",
    "description": "<p>Gather form data</p>",
    "parent": "module:vessel-appearance-editor"
  },
  {
    "type": "method",
    "name": "handleImageSelection",
    "longname": "module:vessel-appearance-editor~handleImageSelection",
    "url": "module-vessel-appearance-editor.html#~handleImageSelection",
    "description": "<p>Handle image file selection</p>",
    "parent": "module:vessel-appearance-editor"
  },
  {
    "type": "method",
    "name": "handleRemoveCustomImage",
    "longname": "module:vessel-appearance-editor~handleRemoveCustomImage",
    "url": "module-vessel-appearance-editor.html#~handleRemoveCustomImage",
    "description": "<p>Handle removing custom image - switch back to SVG</p>",
    "parent": "module:vessel-appearance-editor"
  },
  {
    "type": "method",
    "name": "resetColorValues",
    "longname": "module:vessel-appearance-editor~resetColorValues",
    "url": "module-vessel-appearance-editor.html#~resetColorValues",
    "description": "<p>Reset color values to defaults</p>",
    "parent": "module:vessel-appearance-editor"
  },
  {
    "type": "method",
    "name": "resizeImage",
    "longname": "module:vessel-appearance-editor~resizeImage",
    "url": "module-vessel-appearance-editor.html#~resizeImage",
    "description": "<p>Resize image maintaining aspect ratio</p>",
    "parent": "module:vessel-appearance-editor"
  },
  {
    "type": "method",
    "name": "saveAppearance",
    "longname": "module:vessel-appearance-editor~saveAppearance",
    "url": "module-vessel-appearance-editor.html#~saveAppearance",
    "description": "<p>Save appearance data to server</p>",
    "parent": "module:vessel-appearance-editor"
  },
  {
    "type": "method",
    "name": "updateSvgPreview",
    "longname": "module:vessel-appearance-editor~updateSvgPreview",
    "url": "module-vessel-appearance-editor.html#~updateSvgPreview",
    "description": "<p>Update SVG preview with current color values\nCalled when any color picker changes</p>",
    "parent": "module:vessel-appearance-editor"
  },
  {
    "type": "method",
    "name": "initBuildShipModal",
    "longname": "module:vessel-building.initBuildShipModal",
    "url": "module-vessel-building.html#.initBuildShipModal",
    "description": "<p>Initialize build ship modal</p>",
    "parent": "module:vessel-building"
  },
  {
    "type": "method",
    "name": "openBuildShipModal",
    "longname": "module:vessel-building.openBuildShipModal",
    "url": "module-vessel-building.html#.openBuildShipModal",
    "description": "<p>Open build ship modal</p>",
    "parent": "module:vessel-building"
  },
  {
    "type": "method",
    "name": "applyPerkEffects",
    "longname": "module:vessel-building~applyPerkEffects",
    "url": "module-vessel-building.html#~applyPerkEffects",
    "description": "<p>Apply perk multipliers to base stats</p>",
    "parent": "module:vessel-building"
  },
  {
    "type": "method",
    "name": "buildPreviewUrl",
    "longname": "module:vessel-building~buildPreviewUrl",
    "url": "module-vessel-building.html#~buildPreviewUrl",
    "description": "<p>Build preview URL from buildState</p>",
    "parent": "module:vessel-building"
  },
  {
    "type": "method",
    "name": "calculateBaseRangeFromCapacity",
    "longname": "module:vessel-building~calculateBaseRangeFromCapacity",
    "url": "module-vessel-building.html#~calculateBaseRangeFromCapacity",
    "description": "<p>Calculate base range from capacity (Step 1 - before engine selection)\nRange is inversely proportional to capacity</p>",
    "parent": "module:vessel-building"
  },
  {
    "type": "method",
    "name": "calculateBaseStats",
    "longname": "module:vessel-building~calculateBaseStats",
    "url": "module-vessel-building.html#~calculateBaseStats",
    "description": "<p>Calculate base vessel stats based on type and capacity</p>",
    "parent": "module:vessel-building"
  },
  {
    "type": "method",
    "name": "calculateGameBaseSpeed",
    "longname": "module:vessel-building~calculateGameBaseSpeed",
    "url": "module-vessel-building.html#~calculateGameBaseSpeed",
    "description": "<p>Calculate speed from engine power and capacity\nUses the actual game formula extracted from fleet_b.js and app_beautified.js:</p>\n<ul>\n<li>Base speed: Math.max(5, Math.min(35, Math.ceil(5.7 * power/capacity + capacity/1000)))</li>\n<li>With propeller: Math.ceil(baseSpeed * (1 + propeller.speed))</li>\n</ul>",
    "parent": "module:vessel-building"
  },
  {
    "type": "method",
    "name": "calculatePrice",
    "longname": "module:vessel-building~calculatePrice",
    "url": "module-vessel-building.html#~calculatePrice",
    "description": "<p>Calculate total vessel price</p>",
    "parent": "module:vessel-building"
  },
  {
    "type": "method",
    "name": "calculateSpeedForEngine",
    "longname": "module:vessel-building~calculateSpeedForEngine",
    "url": "module-vessel-building.html#~calculateSpeedForEngine",
    "description": "<p>Calculate speed for a specific engine and kW\nUsed for displaying speed ranges on engine selection cards\nUses the actual game formula: Math.max(5, Math.min(35, Math.ceil(5.7 * power/capacity + capacity/1000)))</p>",
    "parent": "module:vessel-building"
  },
  {
    "type": "method",
    "name": "closeBuildShipModal",
    "longname": "module:vessel-building~closeBuildShipModal",
    "url": "module-vessel-building.html#~closeBuildShipModal",
    "description": "<p>Close build ship modal</p>",
    "parent": "module:vessel-building"
  },
  {
    "type": "method",
    "name": "formatBuildTime",
    "longname": "module:vessel-building~formatBuildTime",
    "url": "module-vessel-building.html#~formatBuildTime",
    "description": "<p>Format build time from seconds to readable string</p>",
    "parent": "module:vessel-building"
  },
  {
    "type": "method",
    "name": "interpolate",
    "longname": "module:vessel-building~interpolate",
    "url": "module-vessel-building.html#~interpolate",
    "description": "<p>Linear interpolation between two values</p>",
    "parent": "module:vessel-building"
  },
  {
    "type": "method",
    "name": "nextStep",
    "longname": "module:vessel-building~nextStep",
    "url": "module-vessel-building.html#~nextStep",
    "description": "<p>Go to next step</p>",
    "parent": "module:vessel-building"
  },
  {
    "type": "method",
    "name": "prevStep",
    "longname": "module:vessel-building~prevStep",
    "url": "module-vessel-building.html#~prevStep",
    "description": "<p>Go to previous step</p>",
    "parent": "module:vessel-building"
  },
  {
    "type": "method",
    "name": "renderCurrentStep",
    "longname": "module:vessel-building~renderCurrentStep",
    "url": "module-vessel-building.html#~renderCurrentStep",
    "description": "<p>Render current step</p>",
    "parent": "module:vessel-building"
  },
  {
    "type": "method",
    "name": "renderStep1",
    "longname": "module:vessel-building~renderStep1",
    "url": "module-vessel-building.html#~renderStep1",
    "description": "<p>Render Step 1: Basics (Type, Port, Name)</p>",
    "parent": "module:vessel-building"
  },
  {
    "type": "method",
    "name": "renderStep3",
    "longname": "module:vessel-building~renderStep3",
    "url": "module-vessel-building.html#~renderStep3",
    "description": "<p>Render Step 3: Engine Selection</p>",
    "parent": "module:vessel-building"
  },
  {
    "type": "method",
    "name": "renderStep4",
    "longname": "module:vessel-building~renderStep4",
    "url": "module-vessel-building.html#~renderStep4",
    "description": "<p>Render Step 4: Perks Selection</p>",
    "parent": "module:vessel-building"
  },
  {
    "type": "method",
    "name": "renderStep5",
    "longname": "module:vessel-building~renderStep5",
    "url": "module-vessel-building.html#~renderStep5",
    "description": "<p>Render Step 5: Appearance Customization</p>",
    "parent": "module:vessel-building"
  },
  {
    "type": "method",
    "name": "submitBuild",
    "longname": "module:vessel-building~submitBuild",
    "url": "module-vessel-building.html#~submitBuild",
    "description": "<p>Submit build request</p>",
    "parent": "module:vessel-building"
  },
  {
    "type": "method",
    "name": "updateStatsPreview",
    "longname": "module:vessel-building~updateStatsPreview",
    "url": "module-vessel-building.html#~updateStatsPreview",
    "description": "<p>Update stats preview panel</p>",
    "parent": "module:vessel-building"
  },
  {
    "type": "method",
    "name": "updateSvgPreview",
    "longname": "module:vessel-building~updateSvgPreview",
    "url": "module-vessel-building.html#~updateSvgPreview",
    "description": "<p>Update SVG preview using server endpoint</p>",
    "parent": "module:vessel-building"
  },
  {
    "type": "method",
    "name": "departAllVessels",
    "longname": "module:vessel-management.departAllVessels",
    "url": "module-vessel-management.html#.departAllVessels",
    "description": "<p>Departs all vessels currently in harbor (status 'port').\nCalculates and displays fuel usage, CO2 emissions, income, and harbor fees.</p>\n<p>Departure Process:</p>\n<ol>\n<li>Disables depart button to prevent double-click</li>\n<li>Calls API to depart all ready vessels</li>\n<li>Extracts resource usage and income from response</li>\n<li>Updates local cash/fuel/CO2 immediately for UX</li>\n<li>Triggers delayed refresh of vessel and bunker displays</li>\n<li>Shows detailed price alert with departure summary</li>\n</ol>\n<p>Partial Departure Handling:</p>\n<ul>\n<li>If not all vessels departed (insufficient fuel): Shows error with count</li>\n<li>If no vessels departed: Shows critical error message</li>\n<li>If all departed successfully: Shows success message with details</li>\n</ul>\n<p>Resource Updates:</p>\n<ul>\n<li>Cash: Increased by (depart_income - harbor_fee)</li>\n<li>Fuel: Decreased by fuel_usage</li>\n<li>CO2: Decreased by co2_emission</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Makes API call to depart vessels</li>\n<li>Updates bunker state (cash, fuel, CO2)</li>\n<li>Triggers debounced vessel and bunker status updates</li>\n<li>Shows price alert with departure details</li>\n<li>Disables button during operation</li>\n</ul>",
    "parent": "module:vessel-management"
  },
  {
    "type": "method",
    "name": "openRepairAndDrydockDialog",
    "longname": "module:vessel-management.openRepairAndDrydockDialog",
    "url": "module-vessel-management.html#.openRepairAndDrydockDialog",
    "description": "<p>Opens tabbed dialog with Wear Repairs and Drydock options</p>",
    "parent": "module:vessel-management"
  },
  {
    "type": "method",
    "name": "purchaseSingleVessel",
    "longname": "module:vessel-management.purchaseSingleVessel",
    "url": "module-vessel-management.html#.purchaseSingleVessel",
    "description": "<p>Purchases one or more copies of a specific vessel with confirmation and sequential processing.\nHandles single and multi-quantity purchases with affordability checks and rate limiting.</p>\n<p>Purchase Flow:</p>\n<ol>\n<li>Calculate total cost (price √ó quantity)</li>\n<li>Build confirmation dialog with itemized list</li>\n<li>Show affordability indicator (green/red)</li>\n<li>Process purchases sequentially with 1.5s delays</li>\n<li>Update cash after each successful purchase</li>\n<li>Handle errors (limit reached, insufficient funds, network errors)</li>\n<li>Remove from selection list</li>\n<li>Refresh vessel catalog and counts</li>\n</ol>\n<p>Error Handling:</p>\n<ul>\n<li>'vessel_limit_reached': Stops purchasing, shows count purchased</li>\n<li>'not_enough_cash': Stops purchasing, shows count purchased</li>\n<li>Other errors: Shows error but may continue with remaining</li>\n<li>Network errors: Logs and shows feedback</li>\n</ul>\n<p>Rate Limiting:</p>\n<ul>\n<li>1.5 second delay between purchases to prevent API throttling</li>\n<li>No delay after final purchase</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Shows confirmation dialog</li>\n<li>Makes multiple API calls (one per vessel)</li>\n<li>Updates cash after each purchase</li>\n<li>Removes from selectedVessels array</li>\n<li>Updates selection count badge</li>\n<li>Triggers vessel count refresh</li>\n<li>Reloads vessel catalog</li>\n<li>Shows success/error feedback</li>\n</ul>",
    "parent": "module:vessel-management"
  },
  {
    "type": "method",
    "name": "updateLockStateFromServer",
    "longname": "module:vessel-management.updateLockStateFromServer",
    "url": "module-vessel-management.html#.updateLockStateFromServer",
    "description": "<p>Updates lock state from server WebSocket event.\nCalled by chat.js when receiving 'lock_status' event.\nUpdates internal state AND UI to reflect server lock status.</p>",
    "parent": "module:vessel-management"
  },
  {
    "type": "method",
    "name": "updateVesselCount",
    "longname": "module:vessel-management.updateVesselCount",
    "url": "module-vessel-management.html#.updateVesselCount",
    "description": "<p>Updates vessel count badges and status displays for different vessel states.\nFetches current vessel data and updates UI badges for ready-to-depart, at-anchor, and pending vessels.</p>\n<p>Vessel States:</p>\n<ul>\n<li>'port': Ready to depart (shows on depart button badge)</li>\n<li>'anchor': At anchor waiting for route planning (shows on anchor button)</li>\n<li>'pending': Vessel purchased but not yet delivered (shows delivery countdown)</li>\n</ul>\n<p>Additional Data Updates:</p>\n<ul>\n<li>Anchor capacity: Available slots vs maximum</li>\n<li>Stock price: For companies that have gone IPO</li>\n<li>Stock trend: Up/down indicator</li>\n</ul>\n<p>Side Effects:</p>\n<ul>\n<li>Fetches vessel and user settings data from API</li>\n<li>Updates multiple DOM badges and displays</li>\n<li>Enables/disables buttons based on vessel availability</li>\n<li>Updates button tooltips with contextual information</li>\n</ul>",
    "parent": "module:vessel-management"
  },
  {
    "type": "method",
    "name": "createVesselCard",
    "longname": "module:vessel-management~createVesselCard",
    "url": "module-vessel-management.html#~createVesselCard",
    "description": "<p>Create a vessel card element with image caching</p>",
    "parent": "module:vessel-management"
  },
  {
    "type": "method",
    "name": "displayFilteredVessels",
    "longname": "module:vessel-management~displayFilteredVessels",
    "url": "module-vessel-management.html#~displayFilteredVessels",
    "description": "<p>Display filtered and sorted vessels with lazy loading</p>",
    "parent": "module:vessel-management"
  },
  {
    "type": "method",
    "name": "executeDrydock",
    "longname": "module:vessel-management~executeDrydock",
    "url": "module-vessel-management.html#~executeDrydock",
    "description": "<p>Executes drydock for selected vessels</p>",
    "parent": "module:vessel-management"
  },
  {
    "type": "method",
    "name": "getAvailableAnchorSlots",
    "longname": "module:vessel-management~getAvailableAnchorSlots",
    "url": "module-vessel-management.html#~getAvailableAnchorSlots",
    "description": "<p>Get available anchor slots from global cache</p>",
    "parent": "module:vessel-management"
  },
  {
    "type": "method",
    "name": "getCO2EfficiencyClass",
    "longname": "module:vessel-management~getCO2EfficiencyClass",
    "url": "module-vessel-management.html#~getCO2EfficiencyClass",
    "description": "<p>Get CSS class name for CO2 efficiency factor</p>",
    "parent": "module:vessel-management"
  },
  {
    "type": "method",
    "name": "getCapacityDisplay",
    "longname": "module:vessel-management~getCapacityDisplay",
    "url": "module-vessel-management.html#~getCapacityDisplay",
    "description": "<p>Get capacity display for acquirable vessels.\nDisplay differs from selling catalog because API endpoint returns different data structure:</p>\n<ul>\n<li>Acquirable vessels: Simple capacity number (vessel.capacity_max as number)</li>\n<li>User vessels (selling): Detailed breakdown object (vessel.capacity_max.dry, .refrigerated, etc.)</li>\n</ul>",
    "parent": "module:vessel-management"
  },
  {
    "type": "method",
    "name": "getFuelEfficiencyClass",
    "longname": "module:vessel-management~getFuelEfficiencyClass",
    "url": "module-vessel-management.html#~getFuelEfficiencyClass",
    "description": "<p>Get CSS class name for Fuel efficiency factor</p>",
    "parent": "module:vessel-management"
  },
  {
    "type": "method",
    "name": "loadCartFromStorage",
    "longname": "module:vessel-management~loadCartFromStorage",
    "url": "module-vessel-management.html#~loadCartFromStorage",
    "description": "<p>Load cart from localStorage (user-specific)</p>",
    "parent": "module:vessel-management"
  },
  {
    "type": "method",
    "name": "loadMorePendingVessels",
    "longname": "module:vessel-management~loadMorePendingVessels",
    "url": "module-vessel-management.html#~loadMorePendingVessels",
    "description": "<p>Load more pending vessels when scrolling</p>",
    "parent": "module:vessel-management"
  },
  {
    "type": "method",
    "name": "loadMoreVessels",
    "longname": "module:vessel-management~loadMoreVessels",
    "url": "module-vessel-management.html#~loadMoreVessels",
    "description": "<p>Load next batch of vessels when scrolling</p>",
    "parent": "module:vessel-management"
  },
  {
    "type": "method",
    "name": "populateDynamicFilters",
    "longname": "module:vessel-management~populateDynamicFilters",
    "url": "module-vessel-management.html#~populateDynamicFilters",
    "description": "<p>Populate dynamic filter dropdowns based on actual vessel data</p>",
    "parent": "module:vessel-management"
  },
  {
    "type": "method",
    "name": "refreshVesselCardsIfVisible",
    "longname": "module:vessel-management~refreshVesselCardsIfVisible",
    "url": "module-vessel-management.html#~refreshVesselCardsIfVisible",
    "description": "<p>Refresh vessel cards display if vessels are currently visible\nThis updates button states based on available anchor slots\nNOTE: This function is no longer called automatically - overlays only refresh when user opens them\nKeeping function for backward compatibility but it should not be used</p>",
    "parent": "module:vessel-management"
  },
  {
    "type": "method",
    "name": "renderDrydockTab",
    "longname": "module:vessel-management~renderDrydockTab",
    "url": "module-vessel-management.html#~renderDrydockTab",
    "description": "<p>Renders the Drydock tab content</p>",
    "parent": "module:vessel-management"
  },
  {
    "type": "method",
    "name": "renderRepairTab",
    "longname": "module:vessel-management~renderRepairTab",
    "url": "module-vessel-management.html#~renderRepairTab",
    "description": "<p>Renders the Repair tab content</p>",
    "parent": "module:vessel-management"
  },
  {
    "type": "method",
    "name": "saveCartToStorage",
    "longname": "module:vessel-management~saveCartToStorage",
    "url": "module-vessel-management.html#~saveCartToStorage",
    "description": "<p>Save cart to localStorage (user-specific)</p>",
    "parent": "module:vessel-management"
  },
  {
    "type": "method",
    "name": "showRepairAndDrydockDialog",
    "longname": "module:vessel-management~showRepairAndDrydockDialog",
    "url": "module-vessel-management.html#~showRepairAndDrydockDialog",
    "description": "<p>Shows tabbed dialog with Wear Repairs and Drydock tabs</p>",
    "parent": "module:vessel-management"
  },
  {
    "type": "method",
    "name": "updateCapacityDropdowns",
    "longname": "module:vessel-management~updateCapacityDropdowns",
    "url": "module-vessel-management.html#~updateCapacityDropdowns",
    "description": "<p>Update capacity dropdowns based on selected vessel types\nShows/hides TEU and BBL sections depending on which vessel types are selected</p>",
    "parent": "module:vessel-management"
  },
  {
    "type": "method",
    "name": "vesselPassesFilters",
    "longname": "module:vessel-management~vesselPassesFilters",
    "url": "module-vessel-management.html#~vesselPassesFilters",
    "description": "<p>Check if vessel passes all filter criteria</p>",
    "parent": "module:vessel-management"
  },
  {
    "type": "method",
    "name": "applyVesselFilters",
    "longname": "module:vessel-management~window.applyVesselFilters",
    "url": "module-vessel-management-window.html#.applyVesselFilters",
    "description": "<p>Apply all selected filters to vessel catalog</p>",
    "parent": "module:vessel-management~window"
  },
  {
    "type": "method",
    "name": "resetVesselFilters",
    "longname": "module:vessel-management~window.resetVesselFilters",
    "url": "module-vessel-management-window.html#.resetVesselFilters",
    "description": "<p>Reset all filters to default (show all vessels)</p>",
    "parent": "module:vessel-management~window"
  },
  {
    "type": "method",
    "name": "togglePriceSort",
    "longname": "module:vessel-management~window.togglePriceSort",
    "url": "module-vessel-management-window.html#.togglePriceSort",
    "description": "<p>Toggle price sort between ascending and descending</p>",
    "parent": "module:vessel-management~window"
  },
  {
    "type": "method",
    "name": "bulkSellVessels",
    "longname": "module:vessel-selling.bulkSellVessels",
    "url": "module-vessel-selling.html#.bulkSellVessels",
    "description": "<p>Performs bulk sell of selected vessels</p>",
    "parent": "module:vessel-selling"
  },
  {
    "type": "method",
    "name": "closeSellVesselsOverlay",
    "longname": "module:vessel-selling.closeSellVesselsOverlay",
    "url": "module-vessel-selling.html#.closeSellVesselsOverlay",
    "description": "<p>Closes the sell vessels overlay</p>",
    "parent": "module:vessel-selling"
  },
  {
    "type": "method",
    "name": "openSellVesselsOverlay",
    "longname": "module:vessel-selling.openSellVesselsOverlay",
    "url": "module-vessel-selling.html#.openSellVesselsOverlay",
    "description": "<p>Opens the sell vessels overlay and loads user vessels\nALWAYS fetches fresh data when opening - no stale cached data</p>",
    "parent": "module:vessel-selling"
  },
  {
    "type": "method",
    "name": "refreshVesselsForSale",
    "longname": "module:vessel-selling.refreshVesselsForSale",
    "url": "module-vessel-selling.html#.refreshVesselsForSale",
    "description": "<p>Refreshes the vessel list in the sell vessels overlay.\nCalled when vessels are departed by autopilot or manually to update the UI.\nOnly refreshes if the overlay is currently open.</p>",
    "parent": "module:vessel-selling"
  },
  {
    "type": "method",
    "name": "setSellFilter",
    "longname": "module:vessel-selling.setSellFilter",
    "url": "module-vessel-selling.html#.setSellFilter",
    "description": "<p>Sets the current filter type</p>",
    "parent": "module:vessel-selling"
  },
  {
    "type": "method",
    "name": "showSellCart",
    "longname": "module:vessel-selling.showSellCart",
    "url": "module-vessel-selling.html#.showSellCart",
    "description": "<p>Shows the sell cart overlay</p>",
    "parent": "module:vessel-selling"
  },
  {
    "type": "method",
    "name": "clearSellCartCache",
    "longname": "module:vessel-selling~clearSellCartCache",
    "url": "module-vessel-selling.html#~clearSellCartCache",
    "description": "<p>Clear sell cart cache</p>",
    "parent": "module:vessel-selling"
  },
  {
    "type": "method",
    "name": "displaySellVessels",
    "longname": "module:vessel-selling~displaySellVessels",
    "url": "module-vessel-selling.html#~displaySellVessels",
    "description": "<p>Displays vessels grouped by model, sorted by harbor count</p>",
    "parent": "module:vessel-selling"
  },
  {
    "type": "method",
    "name": "fetchAllSellPrices",
    "longname": "module:vessel-selling~fetchAllSellPrices",
    "url": "module-vessel-selling.html#~fetchAllSellPrices",
    "description": "<p>Fetches sell prices for all unique vessel models in parallel</p>",
    "parent": "module:vessel-selling"
  },
  {
    "type": "method",
    "name": "getCO2EfficiencyClass",
    "longname": "module:vessel-selling~getCO2EfficiencyClass",
    "url": "module-vessel-selling.html#~getCO2EfficiencyClass",
    "description": "<p>Gets CSS class for CO2 efficiency factor (lower is better)</p>",
    "parent": "module:vessel-selling"
  },
  {
    "type": "method",
    "name": "getCapacityDisplay",
    "longname": "module:vessel-selling~getCapacityDisplay",
    "url": "module-vessel-selling.html#~getCapacityDisplay",
    "description": "<p>Formats vessel capacity display for user vessels (selling catalog).\nDisplay differs from acquirable vessels because API endpoint returns different data structure:</p>\n<ul>\n<li>User vessels (selling): Detailed breakdown (vessel.capacity_max.dry, .refrigerated, etc.)</li>\n<li>Acquirable vessels: Simple capacity number (vessel.capacity)</li>\n</ul>",
    "parent": "module:vessel-selling"
  },
  {
    "type": "method",
    "name": "getFuelEfficiencyClass",
    "longname": "module:vessel-selling~getFuelEfficiencyClass",
    "url": "module-vessel-selling.html#~getFuelEfficiencyClass",
    "description": "<p>Gets CSS class for Fuel efficiency factor (lower is better)</p>",
    "parent": "module:vessel-selling"
  },
  {
    "type": "method",
    "name": "groupVesselsByModel",
    "longname": "module:vessel-selling~groupVesselsByModel",
    "url": "module-vessel-selling.html#~groupVesselsByModel",
    "description": "<p>Groups vessels by exact ship model (same specs/type/image)\nGroups by: type (image path) + type_name + year + capacity + engine</p>",
    "parent": "module:vessel-selling"
  },
  {
    "type": "method",
    "name": "loadSellCartFromCache",
    "longname": "module:vessel-selling~loadSellCartFromCache",
    "url": "module-vessel-selling.html#~loadSellCartFromCache",
    "description": "<p>Load sell cart from localStorage</p>",
    "parent": "module:vessel-selling"
  },
  {
    "type": "method",
    "name": "loadUserVesselsForSale",
    "longname": "module:vessel-selling~loadUserVesselsForSale",
    "url": "module-vessel-selling.html#~loadUserVesselsForSale",
    "description": "<p>Loads user's vessels and groups them by model\nImplements progressive loading - shows static data first, then updates dynamic data</p>",
    "parent": "module:vessel-selling"
  },
  {
    "type": "method",
    "name": "removeVesselSelectionFromCart",
    "longname": "module:vessel-selling~removeVesselSelectionFromCart",
    "url": "module-vessel-selling.html#~removeVesselSelectionFromCart",
    "description": "<p>Removes vessel selection from cart</p>",
    "parent": "module:vessel-selling"
  },
  {
    "type": "method",
    "name": "saveSellCartToCache",
    "longname": "module:vessel-selling~saveSellCartToCache",
    "url": "module-vessel-selling.html#~saveSellCartToCache",
    "description": "<p>Save sell cart to localStorage</p>",
    "parent": "module:vessel-selling"
  },
  {
    "type": "method",
    "name": "updateBulkSellButton",
    "longname": "module:vessel-selling~updateBulkSellButton",
    "url": "module-vessel-selling.html#~updateBulkSellButton",
    "description": "<p>Updates sell cart button visibility</p>",
    "parent": "module:vessel-selling"
  },
  {
    "type": "method",
    "name": "updateSelectButtonState",
    "longname": "module:vessel-selling~updateSelectButtonState",
    "url": "module-vessel-selling.html#~updateSelectButtonState",
    "description": "<p>Updates the select button state without re-rendering</p>",
    "parent": "module:vessel-selling"
  },
  {
    "type": "method",
    "name": "updateVesselSelectionInCart",
    "longname": "module:vessel-selling~updateVesselSelectionInCart",
    "url": "module-vessel-selling.html#~updateVesselSelectionInCart",
    "description": "<p>Updates vessel selection in cart (replaces quantity - used by cart controls)</p>",
    "parent": "module:vessel-selling"
  }
]